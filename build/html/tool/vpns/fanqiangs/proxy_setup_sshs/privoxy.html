

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>


<!-- start added 2025-04-14   增加对markdown中公式的支持 -->
<script>
window.MathJax = {
    tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true
    },
    options: {
        ignoreHtmlClass: "tex2jax_ignore|mathjax_ignore",
        processHtmlClass: "tex2jax_process|mathjax_process|math|output_area"
    }
};
</script>
<script defer="defer" src="https://fastly.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<!-- end added 2025-04-14   增加对markdown中公式的支持 -->


<!-- start added 2025-08-06   增加对mermaid图的支持 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        flowchart: { useMaxWidth: true }
    });
});
</script>
<!--  end added 2025-08-06   增加对mermaid图的支持 -->




  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>privoxy-socks转http代理 &mdash; 新溪-gordon V2025.11 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" />
    <link rel="next" title="建立代理-专用软件" href="../proxy_setup_soft.html" />
    <link rel="prev" title="windows下操作" href="ssh_windows.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>
  <script src="../../../_static/js/jquery.min.js"></script>


<!-- 评论插件 gittalk start -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> -->
<!-- 评论插件 gittalk end -->


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> 新溪-gordon
          

          
          </a>

          
            
            
              <div class="version">
                V2025.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">工具</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../normal.html">开发工具</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/http.html">http请求工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/https/client.html">http client工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/https/server.html">http server工具</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/ssh.html">ssh工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/sshs/putty.html">putty</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/sshs/Tunnelier.html">Tunnelier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/sshs/MobaXterm.html">MobaXterm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/sshs/sshs.html">sshs命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/sshs/other.html">其他</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/db.html">DB 工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/svg.html">svg文件打开工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/fileshare.html">文件共享</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/fileshares/onedriver.html">onedriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/fileshares/restic.html">restic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../normals/fileshares/rclone.html">rclone</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/goreman.html">goreman</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/DNS.html">DNS工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/pre-commit.html">pre-commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/Reverse-Engineering.html">逆向工程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../normals/other.html">视频</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../wireshark.html">抓包工具</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../wiresharks/Wireshark.html">Wireshark命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wiresharks/Charles.html">Charles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wiresharks/Fiddler.html">Fiddler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wiresharks/HTTP-Toolkit.html">HTTP Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wiresharks/Other.html">其他</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ffmpeg.html">FFmpeg</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/normal.html">通用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/ffmpeg.html">FFmpeg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/ffprobe.html">ffprobe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/docker.html">Docker相关</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/player.html">播放器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/web.html">网页/软件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/opensource.html">基于FFmpeg的开源</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ffmpegs/practice.html">实践</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../vpn.html">VPN技术</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../normal.html">基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../proxy.html">proxy代理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../proxy/docker.html">Docker代理加速</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proxy/github.html">github加速代理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proxy/pip.html">pip加速代理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../proxy/huggingface.html">huggingface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../openvpn.html">openvpn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../website.html">关键网站</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concept.html">定义</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../vpn_proxy.html">VPN代理技术</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proxy_user.html">代理使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proxy_users/shell.html">proxy client使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_users/browser.html">浏览器代理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_users/soft.html">软件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_users/git.html">git使用隧道翻墙</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_users/ssh.html">ssh使用代理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_users/windows.html">windows整体使用</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="../proxy_setup_ssh.html">建立代理-sshd隧道</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ssh_linux.html">启动ssh隧道</a></li>
<li class="toctree-l4"><a class="reference internal" href="ssh_windows.html">windows下操作</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">privoxy-socks转http代理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proxy_setup_soft.html">建立代理-专用软件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proxy_setup_softs/shadowsock.html">Shadowsock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_setup_softs/outline.html">outline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_setup_softs/V2Ray.html">V2Ray</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proxy_setup_softs/setup-ipsec-vpn.html">IPsec VPN Server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dnat.html">端口映射</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dnats/ssh.html">SSH代理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dnats/sshuttle.html">sshuttle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ngrok.html">ngrok </a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tool.html">各类工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/sshuttle.html">sshuttle工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools/Drony.html">Drony</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools/Droid.html">Droid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oray.html">贝锐</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../orays/%E8%92%B2%E5%85%AC%E8%8B%B1.html">蒲公英</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../orays/%E8%8A%B1%E7%94%9F%E5%A3%B3.html">花生壳</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../orays/%E5%90%91%E6%97%A5%E8%91%B5.html">向日葵</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../orays/frp.html">frp: reverse proxy to acrose NAT or firewall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../question.html">常见问题</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../net.html">网络相关工具</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../nets/NAT.html">NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nets/cloudflare.html">cloudflare</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nets/windows.html">windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nets/tunnel.html">隧道Tunnel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../rest-api.html">REST API 客户端</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../rest-apis/VSCode.html">VS Code插件-RESTClient</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rest-apis/Postman.html">Postman</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rest-apis/Apifox.html">Apifox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rest-apis/Insomnia.html">Insomnia</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tool.html">网络上好用的工具</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tools/Colab.html">Colab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tools/cron-job.html">cron-job</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tools/blog.html">博客</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../mqtt.html">MQTT 协议</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../mqtts/broker_emqx.html">Emqtt的使用</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_basic.html">Emqtt基本</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_tune.html">Emqtt优化相关</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_command.html">Emqtt使用命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_config.html">Emqtt配置文件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/configs/emqtt_config_basic.html">Emqtt配置基础</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/configs/emqtt_config_cluster.html">Emqtt集群配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/configs/emqtt_config_vm.html">Emqtt配置vm相关</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/configs/emqtt_config_log.html">Emqtt日志相关配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/configs/emqtt_config_protocol.html">MQTT 协议参数配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/configs/emqtt_config_acl.html">匿名认证与 ACL 文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/configs/emqtt_config_other.html">Emqtt其他配置信息</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_plugin.html">Emqtt插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_cluster.html">Emqtt分布集群</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_bridge.html">Emqtt节点桥接Bridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_userguide.html">Emqtt用户指南 (User Guide)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_design.html">Emqtt架构设计 (Design)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_intro.html">前言</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_architecture.html">架构设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_connect_layer.html">Connection连接层</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_session_layer.html">Session会话层</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_routing_layer.html">Routing路由层</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_acl.html">认证和ACL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_hook.html">钩子(Hook)设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_plugin.html">Plugin(插件)设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../mqtts/emqxs/designs/emqtt_design_ets.html">Mnesia/ETS 表设计</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/emqxs/emq_version.html">Emqtt版本</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../mqtts/broker_mosquitto.html">mosquitto的使用</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/mosquitto/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/mosquitto/mosquitto_pub.html">mosquitto_pub命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/mosquitto/mosquitto_sub.html">mosquitto_sub命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/mosquitto/Auth.html">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/mosquitto/config.html">配置文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mqtts/mosquitto/question.html">问题</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../mqtts/broker_VerneMQ.html">VerneMQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mqtts/client_Paho.html">Eclipse Paho</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../chrome.html">chrome相关</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../chromes/app.html">Chrome应用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../chromes/plugin.html">chrome插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../chromes/plugins/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../chromes/plugins/analysis.html">数据分析</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../chromes/plugins/develop.html">插件开发 </a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../chromes/tool.html">Chrome Console工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../chromes/question.html">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../chromes/google_doc.html">Google文档</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">新溪-gordon</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../vpn.html">VPN技术</a> &raquo;</li>
        
          <li><a href="../../vpn_proxy.html">VPN代理技术</a> &raquo;</li>
        
          <li><a href="../proxy_setup_ssh.html">建立代理-sshd隧道</a> &raquo;</li>
        
      <li>privoxy-socks转http代理</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/vpns/fanqiangs/proxy_setup_sshs/privoxy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            <nav id="local-table-of-contents" role="navigation" aria-labelledby="local-table-of-contents-title">
              <h4 id="local-table-of-contents-title">On This Page</h4>
              <ul>
<li><a class="reference internal" href="#">privoxy-socks转http代理</a><ul>
<li><a class="reference internal" href="#mac">Mac版本使用</a></li>
<li><a class="reference internal" href="#linux">Linux版本使用</a></li>
<li><a class="reference internal" href="#id2">原理</a><ul>
<li><a class="reference internal" href="#id3">代理切换</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">实践使用</a></li>
<li><a class="reference internal" href="#id5">配置说明</a></li>
</ul>
</li>
</ul>

            </nav>
  <table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="/index.html">主页</a></p></td>
<td><p><a class="reference internal" href="../../../genindex.html"><span class="std std-ref">索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../py-modindex.html"><span class="std std-ref">模块索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../search.html"><span class="std std-ref">搜索页面</span></a></p></td>
</tr>
</tbody>
</table>
<section id="privoxy-sockshttp">
<h1>privoxy-socks转http代理<a class="headerlink" href="#privoxy-sockshttp" title="此标题的永久链接">¶</a></h1>
<ul class="simple">
<li><p>官网: <a class="reference external" href="http://www.privoxy.org/">http://www.privoxy.org/</a></p></li>
<li><p>文档: <a class="reference external" href="https://www.privoxy.org/user-manual/index.html">https://www.privoxy.org/user-manual/index.html</a></p></li>
</ul>
<section id="mac">
<h2>Mac版本使用<a class="headerlink" href="#mac" title="此标题的永久链接">¶</a></h2>
<p>安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">下载pkg包安装</span>

<span class="n">相关目录</span><span class="p">:</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">privoxy</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">privoxy</span>
</pre></div>
</div>
<p>启动&amp;关闭:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>启动方法一:
    $ /usr/local/sbin/privoxy /usr/local/etc/privoxy/config


启动方法二:

默认启动，想关闭需要:
    remove or rename the file /Library/LaunchDaemons/org.ijbswa.privoxy.plist

To manually start or stop the privoxy service,
    use the scripts startPrivoxy.sh and stopPrivoxy.sh supplied in /Applications/Privoxy.

说明1:
    不知为啥，移动.plist不管用，还是自动重启；另外，startPrivoxy.sh也不起作用
    进展:
        startPrivoxy.sh 和 stopPrivoxy.sh 不起作用原因已经知道，需要修改一下代码
        因为现在mac已经是2x版本了，所以需要把 `9|1*` 改为 `9|1*|2*`
说明2:
    启动方法一报没有/usr/lib/libcrypto.3.dylib库 ——2024-02-21
    进展:
        原因是我brew根目录修改过，所以加个软链就行
        ➜ sudo ln -s /usr/local/Homebrew/Cellar/openssl@3 /usr/local/Cellar/openssl@3
</pre></div>
</div>
</section>
<section id="linux">
<h2>Linux版本使用<a class="headerlink" href="#linux" title="此标题的永久链接">¶</a></h2>
<p>安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span> <span class="n">install</span> <span class="n">privoxy</span>

<span class="n">配置文件目录</span><span class="p">:</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">privoxy</span>
</pre></div>
</div>
<p>配置文件 <code class="docutils literal notranslate"><span class="pre">/etc/privoxy</span></code> 关键内容</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>listen-address  [ADDRESS]:[PORT]
默认值是
listen-address  127.0.0.1:8118


forward-socks5t   /       118.193.225.166:9150 .
forward-socks5t   /       127.0.0.1:9050 .

// 失败转发重试
forwarded-connect-retries  1

// 配置最大客户端的连接(默认128)
max-client-connections 256


// HTTP 代理转发: Privoxy 把自己收到的 HTTP 请求转给另一个 HTTP 代理
forward target_pattern http_proxy:port
// 示例: 把所有的 HTTP 请求都转发给本机8080端口
forward  /  127.0.0.1:8080
// 示例: 如果 HTTP 请求是发送给 .google.com 这个域名的下级域名，就把该 HTTP 请求转发给本机8080
forward  .google.com/  127.0.0.1:8080


forward-socks5 .onion localhost:9050 .
// 把顶级域名为 .onion 的 HTTP 请求都转发给本机的 TOR SOCKS 端口
</pre></div>
</div>
</section>
<section id="id2">
<h2>原理<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h2>
<p>示意图1(先转发到 SOCKS 代理，然后转到目标站):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| 　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜
| 浏览器｜　　　　　｜Ｐｒｉｖｏｘｙ｜　　　　　｜ＳＯＣＫＳ代理｜　　　　　｜目标网站
| 　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜
|      ｜此阶段是　｜　　　　　　　｜此阶段是　｜　　　　　　　｜此阶段是　｜
|      ｜ＨＴＴＰ　｜　　　　　　　｜ＳＯＣＫＳ｜　　　　　　　｜ＨＴＴＰ　｜
</pre></div>
</div>
<p>示意图2(先转发到 SOCKS 代理，再转发到某个 HTTP 代理，最后才转到目标站):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| 　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜　　　　　　｜＝＝＝＝＞｜
| 浏览器｜　　　　　｜Ｐｒｉｖｏｘｙ｜　　　　　｜ＳＯＣＫＳ代理｜　　　　　｜ＨＴＴＰ代理｜　　　　　｜目标网站
| 　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜　　　　　　｜＜＝＝＝＝｜
|      ｜此阶段是　｜　　　　　　　｜此阶段是　｜　　　　　　　｜此阶段是　｜　　　　　　｜此阶段是　｜
|      ｜ＨＴＴＰ　｜　　　　　　　｜ＳＯＣＫＳ｜　　　　　　　｜ＨＴＴＰ　｜　　　　　　｜ＨＴＴＰ　｜
</pre></div>
</div>
<p>SOCKS 代理转发，包括如下几种语法:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>forward-socks4   target_pattern  socks_proxy:port  http_proxy:port
forward-socks4a  target_pattern  socks_proxy:port  http_proxy:port
forward-socks5   target_pattern  socks_proxy:port  http_proxy:port
forward-socks5t  target_pattern  socks_proxy:port  http_proxy:port

第1列是以 forward 开头的，表示 SOCKS 转发的类型。目前支持 4 种类型：
    前面3种（forward-socks4 forward-socks4a forward-socks5）分别对应不同版本的 SOCKS 协议。
    最后一种 forward-socks5t 比较特殊，是基于 SOCKS5 协议版本，但是加入针对 TOR 的扩展支持（优化了性能）。
    只有转发给 TOR 的 SOCKS 代理，才需要用这个类型。
第2列的 target_pattern 是个变量，表示：这次转发只针对特定模式的 HTTP 访问目标
第3列的 socks_proxy:port 也是变量，表示：要转发给某个 SOCKS 代理（IP 冒号 端口）
第4列的 http_proxy:port 也是变量，表示：在经由前面的 SOCKS 代理之后，再转发给某个 HTTP 代理（IP 冒号 端口）
</pre></div>
</div>
<p>示例-根据“访问的网站”分流到不同的FQ通道:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>forward  /  .
forward  .youtube.com  127.0.0.1:8000
forward-socks5  program-think.blogspot.com  127.0.0.1:9150  .

第1行表示：因为匹配的目标是 / 表示匹配“所有的网址”。所以这条可以看成是“默认规则”。
    （在 Privoxy 里面，“后面的规则”会覆盖“前面的规则”，所以“默认规则”总是写在开头）。
第2行表示：凡是 .youtube.com 的下级域名都走 127.0.0.1:8000 的 HTTP 代理。
第3行表示：访问 program-think.blogspot.com 站点都走 127.0.0.1:9150 的 SOCKS 代理
</pre></div>
</div>
<section id="id3">
<h3>代理切换<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>如果想把不同的网址切换到不同的代理，就使用action功能，可以使用:
user.action文件
或者自定义一个文件，在config中添加下文，这表示添加一个动作文件，文件名是pac.action
    actionsfile pac.action
</pre></div>
</div>
<p>示例:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="n">alias</span><span class="p">}}</span>
<span class="n">direct</span>      <span class="o">=</span> <span class="o">+</span><span class="n">forward</span><span class="o">-</span><span class="n">override</span><span class="p">{</span><span class="n">forward</span> <span class="o">.</span><span class="p">}</span>
<span class="n">ssh</span>         <span class="o">=</span> <span class="o">+</span><span class="n">forward</span><span class="o">-</span><span class="n">override</span><span class="p">{</span><span class="n">forward</span><span class="o">-</span><span class="n">socks5</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">7000</span> <span class="o">.</span><span class="p">}</span>
<span class="n">gae</span>         <span class="o">=</span> <span class="o">+</span><span class="n">forward</span><span class="o">-</span><span class="n">override</span><span class="p">{</span><span class="n">forward</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="p">}</span>
<span class="n">default</span>     <span class="o">=</span> <span class="n">direct</span>
<span class="c1">#==========默认代理==========</span>
<span class="p">{</span><span class="n">default</span><span class="p">}</span>
<span class="o">/</span>
<span class="c1">#==========直接连接==========</span>
<span class="p">{</span><span class="n">direct</span><span class="p">}</span>
<span class="o">.</span><span class="n">edu</span><span class="o">.</span><span class="n">cn</span>
<span class="mf">202.117.255</span><span class="o">.</span>
<span class="mf">222.24.211.70</span>
<span class="c1">#==========SSH代理==========</span>
<span class="p">{</span><span class="n">ssh</span><span class="p">}</span>
<span class="o">.</span><span class="n">launchpad</span><span class="o">.</span><span class="n">net</span>
<span class="c1">#==========GAE代理==========</span>
<span class="p">{</span><span class="n">gae</span><span class="p">}</span>
<span class="o">.</span><span class="n">webupd8</span><span class="o">.</span><span class="n">org</span>
<span class="mf">222.24.211.70</span>
</pre></div>
</div>
</section>
</section>
<section id="id4">
<h2>实践使用<a class="headerlink" href="#id4" title="此标题的永久链接">¶</a></h2>
<p>修改文件 <code class="docutils literal notranslate"><span class="pre">/etc/privoxy/config</span></code> 并重启服务</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>前提:
    ssh -D 7777 &lt;server&gt;
增加配置项:
    forward-socks5t   /               127.0.0.1:7777 .
作用:
    启动http 代理，并把代理请求转给ssh 建立的sock5代理
</pre></div>
</div>
</section>
<section id="id5">
<h2>配置说明<a class="headerlink" href="#id5" title="此标题的永久链接">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#        Sample Configuration File for Privoxy 3.0.34</span>
<span class="c1">#</span>
<span class="c1"># Copyright (C) 2001-2023 Privoxy Developers https://www.privoxy.org/</span>
<span class="c1">#</span>
<span class="c1">#####################################################################</span>
<span class="c1">#                                                                   #</span>
<span class="c1">#                      Table of Contents                            #</span>
<span class="c1">#                                                                   #</span>
<span class="c1">#        I. INTRODUCTION                                            #</span>
<span class="c1">#       II. FORMAT OF THE CONFIGURATION FILE                        #</span>
<span class="c1">#                                                                   #</span>
<span class="c1">#        1. LOCAL SET-UP DOCUMENTATION                              #</span>
<span class="c1">#        2. CONFIGURATION AND LOG FILE LOCATIONS                    #</span>
<span class="c1">#        3. DEBUGGING                                               #</span>
<span class="c1">#        4. ACCESS CONTROL AND SECURITY                             #</span>
<span class="c1">#        5. FORWARDING                                              #</span>
<span class="c1">#        6. MISCELLANEOUS                                           #</span>
<span class="c1">#        7. HTTPS INSPECTION                                        #</span>
<span class="c1">#        8. WINDOWS GUI OPTIONS                                     #</span>
<span class="c1">#                                                                   #</span>
<span class="c1">#####################################################################</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  I. INTRODUCTION</span>
<span class="c1">#   ===============</span>
<span class="c1">#</span>
<span class="c1">#  This file holds Privoxy&#39;s main configuration. Privoxy detects</span>
<span class="c1">#  configuration changes automatically, so you don&#39;t have to restart</span>
<span class="c1">#  it unless you want to load a different configuration file.</span>
<span class="c1">#</span>
<span class="c1">#  The configuration will be reloaded with the first request after</span>
<span class="c1">#  the change was done, this request itself will still use the old</span>
<span class="c1">#  configuration, though. In other words: it takes two requests</span>
<span class="c1">#  before you see the result of your changes. Requests that are</span>
<span class="c1">#  dropped due to ACL don&#39;t trigger reloads.</span>
<span class="c1">#</span>
<span class="c1">#  When starting Privoxy on Unix systems, give the location of this</span>
<span class="c1">#  file as last argument. On Windows systems, Privoxy will look for</span>
<span class="c1">#  this file with the name &#39;config.txt&#39; in the current working</span>
<span class="c1">#  directory of the Privoxy process.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  II. FORMAT OF THE CONFIGURATION FILE</span>
<span class="c1">#  ====================================</span>
<span class="c1">#</span>
<span class="c1">#  Configuration lines consist of an initial keyword followed by a</span>
<span class="c1">#  list of values, all separated by whitespace (any number of spaces</span>
<span class="c1">#  or tabs). For example,</span>
<span class="c1">#</span>
<span class="c1">#  actionsfile default.action</span>
<span class="c1">#</span>
<span class="c1">#  Indicates that the actionsfile is named &#39;default.action&#39;.</span>
<span class="c1">#</span>
<span class="c1">#  The &#39;#&#39; indicates a comment. Any part of a line following a &#39;#&#39; is</span>
<span class="c1">#  ignored, except if the &#39;#&#39; is preceded by a &#39;\&#39;.</span>
<span class="c1">#</span>
<span class="c1">#  Thus, by placing a # at the start of an existing configuration</span>
<span class="c1">#  line, you can make it a comment and it will be treated as if it</span>
<span class="c1">#  weren&#39;t there. This is called &quot;commenting out&quot; an option and can</span>
<span class="c1">#  be useful. Removing the # again is called &quot;uncommenting&quot;.</span>
<span class="c1">#</span>
<span class="c1">#  Note that commenting out an option and leaving it at its default</span>
<span class="c1">#  are two completely different things! Most options behave very</span>
<span class="c1">#  differently when unset. See the &quot;Effect if unset&quot; explanation in</span>
<span class="c1">#  each option&#39;s description for details.</span>
<span class="c1">#</span>
<span class="c1">#  Long lines can be continued on the next line by using a `\&#39; as the</span>
<span class="c1">#  last character.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  1. LOCAL SET-UP DOCUMENTATION</span>
<span class="c1">#  ==============================</span>
<span class="c1">#</span>
<span class="c1">#  If you intend to operate Privoxy for more users than just</span>
<span class="c1">#  yourself, it might be a good idea to let them know how to reach</span>
<span class="c1">#  you, what you block and why you do that, your policies, etc.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  1.1. user-manual</span>
<span class="c1">#  =================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Location of the Privoxy User Manual.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      A fully qualified URI</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      https://www.privoxy.org/version/user-manual/ will be used,</span>
<span class="c1">#      where version is the Privoxy version.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      The User Manual URI is the single best source of information</span>
<span class="c1">#      on Privoxy, and is used for help links from some of the</span>
<span class="c1">#      internal CGI pages. The manual itself is normally packaged</span>
<span class="c1">#      with the binary distributions, so you probably want to set</span>
<span class="c1">#      this to a locally installed copy.</span>
<span class="c1">#</span>
<span class="c1">#      Examples:</span>
<span class="c1">#</span>
<span class="c1">#      The best all purpose solution is simply to put the full local</span>
<span class="c1">#      PATH to where the User Manual is located:</span>
<span class="c1">#</span>
<span class="c1">#        user-manual  /usr/share/doc/privoxy/user-manual</span>
<span class="c1">#</span>
<span class="c1">#      The User Manual is then available to anyone with access to</span>
<span class="c1">#      Privoxy, by following the built-in URL: http://</span>
<span class="c1">#      config.privoxy.org/user-manual/ (or the shortcut: http://p.p/</span>
<span class="c1">#      user-manual/).</span>
<span class="c1">#</span>
<span class="c1">#      If the documentation is not on the local system, it can be</span>
<span class="c1">#      accessed from a remote server, as:</span>
<span class="c1">#</span>
<span class="c1">#        user-manual  http://example.com/privoxy/user-manual/</span>
<span class="c1">#</span>
<span class="c1">#      WARNING!!!</span>
<span class="c1">#</span>
<span class="c1">#          If set, this option should be the first option in the</span>
<span class="c1">#          config file, because it is used while the config file is</span>
<span class="c1">#          being read.</span>
<span class="c1">#</span>
<span class="c1">#user-manual https://www.privoxy.org/user-manual/</span>
<span class="c1">#</span>
<span class="c1">#  1.2. trust-info-url</span>
<span class="c1">#  ====================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      A URL to be displayed in the error page that users will see if</span>
<span class="c1">#      access to an untrusted page is denied.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      URL</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No links are displayed on the &quot;untrusted&quot; error page.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      The value of this option only matters if the trust mechanism</span>
<span class="c1">#      has been activated. (See trustfile below.)</span>
<span class="c1">#</span>
<span class="c1">#      If you use the trust mechanism, it is a good idea to write up</span>
<span class="c1">#      some on-line documentation about your trust policy and to</span>
<span class="c1">#      specify the URL(s) here. Use multiple times for multiple URLs.</span>
<span class="c1">#</span>
<span class="c1">#      The URL(s) should be added to the trustfile as well, so users</span>
<span class="c1">#      don&#39;t end up locked out from the information on why they were</span>
<span class="c1">#      locked out in the first place!</span>
<span class="c1">#</span>
<span class="c1">#trust-info-url  http://www.example.com/why_we_block.html</span>
<span class="c1">#trust-info-url  http://www.example.com/what_we_allow.html</span>
<span class="c1">#</span>
<span class="c1">#  1.3. admin-address</span>
<span class="c1">#  ===================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      An email address to reach the Privoxy administrator.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Email address</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No email address is displayed on error pages and the CGI user</span>
<span class="c1">#      interface.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      If both admin-address and proxy-info-url are unset, the whole</span>
<span class="c1">#      &quot;Local Privoxy Support&quot; box on all generated pages will not be</span>
<span class="c1">#      shown.</span>
<span class="c1">#</span>
<span class="c1">#admin-address privoxy-admin@example.com</span>
<span class="c1">#</span>
<span class="c1">#  1.4. proxy-info-url</span>
<span class="c1">#  ====================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      A URL to documentation about the local Privoxy setup,</span>
<span class="c1">#      configuration or policies.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      URL</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No link to local documentation is displayed on error pages and</span>
<span class="c1">#      the CGI user interface.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      If both admin-address and proxy-info-url are unset, the whole</span>
<span class="c1">#      &quot;Local Privoxy Support&quot; box on all generated pages will not be</span>
<span class="c1">#      shown.</span>
<span class="c1">#</span>
<span class="c1">#      This URL shouldn&#39;t be blocked ;-)</span>
<span class="c1">#</span>
<span class="c1">#proxy-info-url http://www.example.com/proxy-service.html</span>
<span class="c1">#</span>
<span class="c1">#  2. CONFIGURATION AND LOG FILE LOCATIONS</span>
<span class="c1">#  ========================================</span>
<span class="c1">#</span>
<span class="c1">#  Privoxy can (and normally does) use a number of other files for</span>
<span class="c1">#  additional configuration, help and logging. This section of the</span>
<span class="c1">#  configuration file tells Privoxy where to find those other files.</span>
<span class="c1">#</span>
<span class="c1">#  The user running Privoxy, must have read permission for all</span>
<span class="c1">#  configuration files, and write permission to any files that would</span>
<span class="c1">#  be modified, such as log files and actions files.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  2.1. confdir</span>
<span class="c1">#  =============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The directory where the other configuration files are located.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Path name</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      /etc/privoxy (Unix) or Privoxy installation dir (Windows)</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Mandatory</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      No trailing &quot;/&quot;, please.</span>
<span class="c1">#</span>
<span class="n">confdir</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">privoxy</span>
<span class="c1">#</span>
<span class="c1">#  2.2. templdir</span>
<span class="c1">#  ==============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      An alternative directory where the templates are loaded from.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Path name</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      The templates are assumed to be located in confdir/template.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy&#39;s original templates are usually overwritten with each</span>
<span class="c1">#      update. Use this option to relocate customized templates that</span>
<span class="c1">#      should be kept. As template variables might change between</span>
<span class="c1">#      updates, you shouldn&#39;t expect templates to work with Privoxy</span>
<span class="c1">#      releases other than the one they were part of, though.</span>
<span class="c1">#</span>
<span class="c1">#templdir .</span>
<span class="c1">#</span>
<span class="c1">#  2.3. temporary-directory</span>
<span class="c1">#  =========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      A directory where Privoxy can create temporary files.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Path name</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No temporary files are created, external filters don&#39;t work.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      To execute external filters, Privoxy has to create temporary</span>
<span class="c1">#      files. This directive specifies the directory the temporary</span>
<span class="c1">#      files should be written to.</span>
<span class="c1">#</span>
<span class="c1">#      It should be a directory only Privoxy (and trusted users) can</span>
<span class="c1">#      access.</span>
<span class="c1">#</span>
<span class="c1">#temporary-directory .</span>
<span class="c1">#</span>
<span class="c1">#  2.4. logdir</span>
<span class="c1">#  ============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The directory where all logging takes place (i.e. where the</span>
<span class="c1">#      logfile is located).</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Path name</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      /var/log/privoxy (Unix) or Privoxy installation dir (Windows)</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Mandatory</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      No trailing &quot;/&quot;, please.</span>
<span class="c1">#</span>
<span class="n">logdir</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">privoxy</span>
<span class="c1">#</span>
<span class="c1">#  2.5. actionsfile</span>
<span class="c1">#  =================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The actions file(s) to use</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Complete file name, relative to confdir</span>
<span class="c1">#</span>
<span class="c1">#  Default values:</span>
<span class="c1">#</span>
<span class="c1">#        match-all.action # Actions that are applied to all sites and maybe overruled later on.</span>
<span class="c1">#</span>
<span class="c1">#        default.action   # Main actions file</span>
<span class="c1">#</span>
<span class="c1">#        user.action      # User customizations</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No actions are taken at all. More or less neutral proxying.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Multiple actionsfile lines are permitted, and are in fact</span>
<span class="c1">#      recommended!</span>
<span class="c1">#</span>
<span class="c1">#      The default values are default.action, which is the &quot;main&quot;</span>
<span class="c1">#      actions file maintained by the developers, and user.action,</span>
<span class="c1">#      where you can make your personal additions.</span>
<span class="c1">#</span>
<span class="c1">#      Actions files contain all the per site and per URL</span>
<span class="c1">#      configuration for ad blocking, cookie management, privacy</span>
<span class="c1">#      considerations, etc.</span>
<span class="c1">#</span>
<span class="n">actionsfile</span> <span class="n">match</span><span class="o">-</span><span class="nb">all</span><span class="o">.</span><span class="n">action</span> <span class="c1"># Actions that are applied to all sites and maybe overruled later on.</span>
<span class="n">actionsfile</span> <span class="n">default</span><span class="o">.</span><span class="n">action</span>   <span class="c1"># Main actions file</span>
<span class="n">actionsfile</span> <span class="n">user</span><span class="o">.</span><span class="n">action</span>      <span class="c1"># User customizations</span>
<span class="c1">#actionsfile regression-tests.action     # Tests for privoxy-regression-test</span>
<span class="c1">#</span>
<span class="c1">#  2.6. filterfile</span>
<span class="c1">#  ================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The filter file(s) to use</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      File name, relative to confdir</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      default.filter (Unix) or default.filter.txt (Windows)</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No textual content filtering takes place, i.e. all +filter{name}</span>
<span class="c1">#      actions in the actions files are turned neutral.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Multiple filterfile lines are permitted.</span>
<span class="c1">#</span>
<span class="c1">#      The filter files contain content modification rules that use</span>
<span class="c1">#      regular expressions. These rules permit powerful changes on</span>
<span class="c1">#      the content of Web pages, and optionally the headers as well,</span>
<span class="c1">#      e.g., you could try to disable your favorite JavaScript</span>
<span class="c1">#      annoyances, re-write the actual displayed text, or just have</span>
<span class="c1">#      some fun playing buzzword bingo with web pages.</span>
<span class="c1">#</span>
<span class="c1">#      The +filter{name} actions rely on the relevant filter (name)</span>
<span class="c1">#      to be defined in a filter file!</span>
<span class="c1">#</span>
<span class="c1">#      A pre-defined filter file called default.filter that contains</span>
<span class="c1">#      a number of useful filters for common problems is included in</span>
<span class="c1">#      the distribution. See the section on the filter action for a</span>
<span class="c1">#      list.</span>
<span class="c1">#</span>
<span class="c1">#      It is recommended to place any locally adapted filters into a</span>
<span class="c1">#      separate file, such as user.filter.</span>
<span class="c1">#</span>
<span class="n">filterfile</span> <span class="n">default</span><span class="o">.</span><span class="n">filter</span>
<span class="n">filterfile</span> <span class="n">user</span><span class="o">.</span><span class="n">filter</span>      <span class="c1"># User customizations</span>
<span class="c1">#</span>
<span class="c1">#  2.7. logfile</span>
<span class="c1">#  =============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The log file to use</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      File name, relative to logdir</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset (commented out). When activated: logfile (Unix) or</span>
<span class="c1">#      privoxy.log (Windows).</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No logfile is written.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      The logfile is where all logging and error messages are</span>
<span class="c1">#      written. The level of detail and number of messages are set</span>
<span class="c1">#      with the debug option (see below). The logfile can be useful</span>
<span class="c1">#      for tracking down a problem with Privoxy (e.g., it&#39;s not</span>
<span class="c1">#      blocking an ad you think it should block) and it can help you</span>
<span class="c1">#      to monitor what your browser is doing.</span>
<span class="c1">#</span>
<span class="c1">#      Depending on the debug options below, the logfile may be a</span>
<span class="c1">#      privacy risk if third parties can get access to it. As most</span>
<span class="c1">#      users will never look at it, Privoxy only logs fatal errors by</span>
<span class="c1">#      default.</span>
<span class="c1">#</span>
<span class="c1">#      For most troubleshooting purposes, you will have to change</span>
<span class="c1">#      that, please refer to the debugging section for details.</span>
<span class="c1">#</span>
<span class="c1">#      Any log files must be writable by whatever user Privoxy is</span>
<span class="c1">#      being run as (on Unix, default user id is &quot;privoxy&quot;).</span>
<span class="c1">#</span>
<span class="c1">#      To prevent the logfile from growing indefinitely, it is</span>
<span class="c1">#      recommended to periodically rotate or shorten it. Many</span>
<span class="c1">#      operating systems support log rotation out of the box, some</span>
<span class="c1">#      require additional software to do it. For details, please</span>
<span class="c1">#      refer to the documentation for your operating system.</span>
<span class="c1">#</span>
<span class="n">logfile</span> <span class="n">logfile2</span><span class="o">.</span><span class="n">log</span>
<span class="c1">#</span>
<span class="c1">#  2.8. trustfile</span>
<span class="c1">#  ===============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The name of the trust file to use</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      File name, relative to confdir</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset (commented out). When activated: trust (Unix) or</span>
<span class="c1">#      trust.txt (Windows)</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      The entire trust mechanism is disabled.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      The trust mechanism is an experimental feature for building</span>
<span class="c1">#      white-lists and should be used with care. It is NOT</span>
<span class="c1">#      recommended for the casual user.</span>
<span class="c1">#</span>
<span class="c1">#      If you specify a trust file, Privoxy will only allow access to</span>
<span class="c1">#      sites that are specified in the trustfile. Sites can be listed</span>
<span class="c1">#      in one of two ways:</span>
<span class="c1">#</span>
<span class="c1">#      Prepending a ~ character limits access to this site only (and</span>
<span class="c1">#      any sub-paths within this site), e.g. ~www.example.com allows</span>
<span class="c1">#      access to ~www.example.com/features/news.html, etc.</span>
<span class="c1">#</span>
<span class="c1">#      Or, you can designate sites as trusted referrers, by</span>
<span class="c1">#      prepending the name with a + character. The effect is that</span>
<span class="c1">#      access to untrusted sites will be granted -- but only if a</span>
<span class="c1">#      link from this trusted referrer was used to get there. The</span>
<span class="c1">#      link target will then be added to the &quot;trustfile&quot; so that</span>
<span class="c1">#      future, direct accesses will be granted. Sites added via this</span>
<span class="c1">#      mechanism do not become trusted referrers themselves (i.e.</span>
<span class="c1">#      they are added with a ~ designation). There is a limit of 512</span>
<span class="c1">#      such entries, after which new entries will not be made.</span>
<span class="c1">#</span>
<span class="c1">#      If you use the + operator in the trust file, it may grow</span>
<span class="c1">#      considerably over time.</span>
<span class="c1">#</span>
<span class="c1">#      It is recommended that Privoxy be compiled with the</span>
<span class="c1">#      --disable-force, --disable-toggle and --disable-editor</span>
<span class="c1">#      options, if this feature is to be used.</span>
<span class="c1">#</span>
<span class="c1">#      Possible applications include limiting Internet access for</span>
<span class="c1">#      children.</span>
<span class="c1">#</span>
<span class="c1">#trustfile trust</span>
<span class="c1">#</span>
<span class="c1">#  3. DEBUGGING</span>
<span class="c1">#  =============</span>
<span class="c1">#</span>
<span class="c1">#  These options are mainly useful when tracing a problem. Note that</span>
<span class="c1">#  you might also want to invoke Privoxy with the --no-daemon command</span>
<span class="c1">#  line option when debugging.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  3.1. debug</span>
<span class="c1">#  ===========</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Key values that determine what information gets logged.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Integer values</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0 (i.e.: only fatal errors (that cause Privoxy to exit) are</span>
<span class="c1">#      logged)</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Default value is used (see above).</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      The available debug levels are:</span>
<span class="c1">#</span>
<span class="c1">#        debug     1 # Log the destination for each request. See also debug 1024.</span>
<span class="c1">#        debug     2 # show each connection status</span>
<span class="c1">#        debug     4 # show tagging-related messages</span>
<span class="c1">#        debug     8 # show header parsing</span>
<span class="c1">#        debug    16 # log all data written to the network</span>
<span class="c1">#        debug    32 # debug force feature</span>
<span class="c1">#        debug    64 # debug regular expression filters</span>
<span class="c1">#        debug   128 # debug redirects</span>
<span class="c1">#        debug   256 # debug GIF de-animation</span>
<span class="c1">#        debug   512 # Common Log Format</span>
<span class="c1">#        debug  1024 # Log the destination for requests Privoxy didn&#39;t let through, and the reason why.</span>
<span class="c1">#        debug  2048 # CGI user interface</span>
<span class="c1">#        debug  4096 # Startup banner and warnings.</span>
<span class="c1">#        debug  8192 # Non-fatal errors</span>
<span class="c1">#        debug 32768 # log all data read from the network</span>
<span class="c1">#        debug 65536 # Log the applying actions</span>
<span class="c1">#</span>
<span class="c1">#      To select multiple debug levels, you can either add them or</span>
<span class="c1">#      use multiple debug lines.</span>
<span class="c1">#</span>
<span class="c1">#      A debug level of 1 is informative because it will show you</span>
<span class="c1">#      each request as it happens. 1, 1024, 4096 and 8192 are</span>
<span class="c1">#      recommended so that you will notice when things go wrong. The</span>
<span class="c1">#      other levels are probably only of interest if you are hunting</span>
<span class="c1">#      down a specific problem. They can produce a lot of output</span>
<span class="c1">#      (especially 16).</span>
<span class="c1">#</span>
<span class="c1">#      If you are used to the more verbose settings, simply enable</span>
<span class="c1">#      the debug lines below again.</span>
<span class="c1">#</span>
<span class="c1">#      If you want to use pure CLF (Common Log Format), you should</span>
<span class="c1">#      set &quot;debug 512&quot; ONLY and not enable anything else.</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy has a hard-coded limit for the length of log messages.</span>
<span class="c1">#      If it&#39;s reached, messages are logged truncated and marked with</span>
<span class="c1">#      &quot;... [too long, truncated]&quot;.</span>
<span class="c1">#</span>
<span class="c1">#      Please don&#39;t file any support requests without trying to</span>
<span class="c1">#      reproduce the problem with increased debug level first. Once</span>
<span class="c1">#      you read the log messages, you may even be able to solve the</span>
<span class="c1">#      problem on your own.</span>
<span class="c1">#</span>
<span class="c1">#debug     1 # Log the destination for each request. See also debug 1024.</span>
<span class="c1">#debug     2 # show each connection status</span>
<span class="c1">#debug     4 # show tagging-related messages</span>
<span class="c1">#debug     8 # show header parsing</span>
<span class="c1">#debug   128 # debug redirects</span>
<span class="c1">#debug   256 # debug GIF de-animation</span>
<span class="c1">#debug   512 # Common Log Format</span>
<span class="c1">#debug  1024 # Log the destination for requests Privoxy didn&#39;t let through, and the reason why.</span>
<span class="c1">#debug  4096 # Startup banner and warnings</span>
<span class="c1">#debug  8192 # Non-fatal errors</span>
<span class="c1">#debug 65536 # Log applying actions</span>
<span class="c1">#</span>
<span class="c1">#  3.2. single-threaded</span>
<span class="c1">#  =====================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether to run only one server thread.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      1 or 0</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Multi-threaded (or, where unavailable: forked) operation, i.e.</span>
<span class="c1">#      the ability to serve multiple requests simultaneously.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This option is only there for debugging purposes. It will</span>
<span class="c1">#      drastically reduce performance.</span>
<span class="c1">#</span>
<span class="c1">#single-threaded 1</span>
<span class="c1">#</span>
<span class="c1">#  3.3. hostname</span>
<span class="c1">#  ==============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The hostname shown on the CGI pages.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Text</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      The hostname provided by the operating system is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      On some misconfigured systems resolving the hostname fails or</span>
<span class="c1">#      takes too much time and slows Privoxy down. Setting a fixed</span>
<span class="c1">#      hostname works around the problem.</span>
<span class="c1">#</span>
<span class="c1">#      In other circumstances it might be desirable to show a</span>
<span class="c1">#      hostname other than the one returned by the operating system.</span>
<span class="c1">#      For example if the system has several different hostnames and</span>
<span class="c1">#      you don&#39;t want to use the first one.</span>
<span class="c1">#</span>
<span class="c1">#      Note that Privoxy does not validate the specified hostname</span>
<span class="c1">#      value.</span>
<span class="c1">#</span>
<span class="c1">#hostname hostname.example.org</span>
<span class="c1">#</span>
<span class="c1">#  4. ACCESS CONTROL AND SECURITY</span>
<span class="c1">#  ===============================</span>
<span class="c1">#</span>
<span class="c1">#  This section of the config file controls the security-relevant</span>
<span class="c1">#  aspects of Privoxy&#39;s configuration.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  4.1. listen-address</span>
<span class="c1">#  ====================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The address and TCP port on which Privoxy will listen for</span>
<span class="c1">#      client requests.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      [IP-Address]:Port</span>
<span class="c1">#</span>
<span class="c1">#      [Hostname]:Port</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      127.0.0.1:8118</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Bind to 127.0.0.1 (IPv4 localhost), port 8118. This is</span>
<span class="c1">#      suitable and recommended for home users who run Privoxy on the</span>
<span class="c1">#      same machine as their browser.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      You will need to configure your browser(s) to this proxy</span>
<span class="c1">#      address and port.</span>
<span class="c1">#</span>
<span class="c1">#      If you already have another service running on port 8118, or</span>
<span class="c1">#      if you want to serve requests from other machines (e.g. on</span>
<span class="c1">#      your local network) as well, you will need to override the</span>
<span class="c1">#      default.</span>
<span class="c1">#</span>
<span class="c1">#      You can use this statement multiple times to make Privoxy</span>
<span class="c1">#      listen on more ports or more IP addresses. Suitable if your</span>
<span class="c1">#      operating system does not support sharing IPv6 and IPv4</span>
<span class="c1">#      protocols on the same socket.</span>
<span class="c1">#</span>
<span class="c1">#      If a hostname is used instead of an IP address, Privoxy will</span>
<span class="c1">#      try to resolve it to an IP address and if there are multiple,</span>
<span class="c1">#      use the first one returned.</span>
<span class="c1">#</span>
<span class="c1">#      If the address for the hostname isn&#39;t already known on the</span>
<span class="c1">#      system (for example because it&#39;s in /etc/hostname), this may</span>
<span class="c1">#      result in DNS traffic.</span>
<span class="c1">#</span>
<span class="c1">#      If the specified address isn&#39;t available on the system, or if</span>
<span class="c1">#      the hostname can&#39;t be resolved, Privoxy will fail to start. On</span>
<span class="c1">#      GNU/Linux, and other platforms that can listen on not yet</span>
<span class="c1">#      assigned IP addresses, Privoxy will start and will listen on</span>
<span class="c1">#      the specified address whenever the IP address is assigned to</span>
<span class="c1">#      the system</span>
<span class="c1">#</span>
<span class="c1">#      IPv6 addresses containing colons have to be quoted by</span>
<span class="c1">#      brackets. They can only be used if Privoxy has been compiled</span>
<span class="c1">#      with IPv6 support. If you aren&#39;t sure if your version supports</span>
<span class="c1">#      it, have a look at http://config.privoxy.org/show-status.</span>
<span class="c1">#</span>
<span class="c1">#      Some operating systems will prefer IPv6 to IPv4 addresses even</span>
<span class="c1">#      if the system has no IPv6 connectivity which is usually not</span>
<span class="c1">#      expected by the user. Some even rely on DNS to resolve</span>
<span class="c1">#      localhost which mean the &quot;localhost&quot; address used may not</span>
<span class="c1">#      actually be local.</span>
<span class="c1">#</span>
<span class="c1">#      It is therefore recommended to explicitly configure the</span>
<span class="c1">#      intended IP address instead of relying on the operating</span>
<span class="c1">#      system, unless there&#39;s a strong reason not to.</span>
<span class="c1">#</span>
<span class="c1">#      If you leave out the address, Privoxy will bind to all IPv4</span>
<span class="c1">#      interfaces (addresses) on your machine and may become</span>
<span class="c1">#      reachable from the Internet and/or the local network. Be aware</span>
<span class="c1">#      that some GNU/Linux distributions modify that behaviour</span>
<span class="c1">#      without updating the documentation. Check for non-standard</span>
<span class="c1">#      patches if your Privoxy version behaves differently.</span>
<span class="c1">#</span>
<span class="c1">#      If you configure Privoxy to be reachable from the network,</span>
<span class="c1">#      consider using access control lists (ACL&#39;s, see below), and/or</span>
<span class="c1">#      a firewall.</span>
<span class="c1">#</span>
<span class="c1">#      If you open Privoxy to untrusted users, you should also make</span>
<span class="c1">#      sure that the following actions are disabled:</span>
<span class="c1">#      enable-edit-actions and enable-remote-toggle</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      Suppose you are running Privoxy on a machine which has the</span>
<span class="c1">#      address 192.168.0.1 on your local private network</span>
<span class="c1">#      (192.168.0.0) and has another outside connection with a</span>
<span class="c1">#      different address. You want it to serve requests from inside</span>
<span class="c1">#      only:</span>
<span class="c1">#</span>
<span class="c1">#        listen-address  192.168.0.1:8118</span>
<span class="c1">#</span>
<span class="c1">#      Suppose you are running Privoxy on an IPv6-capable machine and</span>
<span class="c1">#      you want it to listen on the IPv6 address of the loopback</span>
<span class="c1">#      device:</span>
<span class="c1">#</span>
<span class="c1">#        listen-address [::1]:8118</span>
<span class="c1">#</span>
<span class="n">listen</span><span class="o">-</span><span class="n">address</span>  <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8118</span>
<span class="c1">#</span>
<span class="c1">#  4.2. toggle</span>
<span class="c1">#  ============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Initial state of &quot;toggle&quot; status</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      1 or 0</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      1</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Act as if toggled on</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      If set to 0, Privoxy will start in &quot;toggled off&quot; mode, i.e.</span>
<span class="c1">#      mostly behave like a normal, content-neutral proxy with both</span>
<span class="c1">#      ad blocking and content filtering disabled. See</span>
<span class="c1">#      enable-remote-toggle below.</span>
<span class="c1">#</span>
<span class="n">toggle</span>  <span class="mi">1</span>
<span class="c1">#</span>
<span class="c1">#  4.3. enable-remote-toggle</span>
<span class="c1">#  ==========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not the web-based toggle feature may be used</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      The web-based toggle feature is disabled.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      When toggled off, Privoxy mostly acts like a normal,</span>
<span class="c1">#      content-neutral proxy, i.e. doesn&#39;t block ads or filter</span>
<span class="c1">#      content.</span>
<span class="c1">#</span>
<span class="c1">#      Access to the toggle feature can not be controlled separately</span>
<span class="c1">#      by &quot;ACLs&quot; or HTTP authentication, so that everybody who can</span>
<span class="c1">#      access Privoxy (see &quot;ACLs&quot; and listen-address above) can</span>
<span class="c1">#      toggle it for all users. So this option is not recommended for</span>
<span class="c1">#      multi-user environments with untrusted users.</span>
<span class="c1">#</span>
<span class="c1">#      Note that malicious client side code (e.g Java) is also</span>
<span class="c1">#      capable of using this option.</span>
<span class="c1">#</span>
<span class="c1">#      As a lot of Privoxy users don&#39;t read documentation, this</span>
<span class="c1">#      feature is disabled by default.</span>
<span class="c1">#</span>
<span class="c1">#      Note that you must have compiled Privoxy with support for this</span>
<span class="c1">#      feature, otherwise this option has no effect.</span>
<span class="c1">#</span>
<span class="n">enable</span><span class="o">-</span><span class="n">remote</span><span class="o">-</span><span class="n">toggle</span>  <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  4.4. enable-remote-http-toggle</span>
<span class="c1">#  ===============================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not Privoxy recognizes special HTTP headers to</span>
<span class="c1">#      change its behaviour.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy ignores special HTTP headers.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      When toggled on, the client can change Privoxy&#39;s behaviour by</span>
<span class="c1">#      setting special HTTP headers. Currently the only supported</span>
<span class="c1">#      special header is &quot;X-Filter: No&quot;, to disable filtering for the</span>
<span class="c1">#      ongoing request, even if it is enabled in one of the action</span>
<span class="c1">#      files.</span>
<span class="c1">#</span>
<span class="c1">#      This feature is disabled by default. If you are using Privoxy</span>
<span class="c1">#      in a environment with trusted clients, you may enable this</span>
<span class="c1">#      feature at your discretion. Note that malicious client side</span>
<span class="c1">#      code (e.g Java) is also capable of using this feature.</span>
<span class="c1">#</span>
<span class="c1">#      This option will be removed in future releases as it has been</span>
<span class="c1">#      obsoleted by the more general header taggers.</span>
<span class="c1">#</span>
<span class="n">enable</span><span class="o">-</span><span class="n">remote</span><span class="o">-</span><span class="n">http</span><span class="o">-</span><span class="n">toggle</span>  <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  4.5. enable-edit-actions</span>
<span class="c1">#  =========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not the web-based actions file editor may be used</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      The web-based actions file editor is disabled.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Access to the editor can not be controlled separately by</span>
<span class="c1">#      &quot;ACLs&quot; or HTTP authentication, so that everybody who can</span>
<span class="c1">#      access Privoxy (see &quot;ACLs&quot; and listen-address above) can</span>
<span class="c1">#      modify its configuration for all users.</span>
<span class="c1">#</span>
<span class="c1">#      This option is not recommended for environments with untrusted</span>
<span class="c1">#      users and as a lot of Privoxy users don&#39;t read documentation,</span>
<span class="c1">#      this feature is disabled by default.</span>
<span class="c1">#</span>
<span class="c1">#      Note that malicious client side code (e.g Java) is also</span>
<span class="c1">#      capable of using the actions editor and you shouldn&#39;t enable</span>
<span class="c1">#      this options unless you understand the consequences and are</span>
<span class="c1">#      sure your browser is configured correctly.</span>
<span class="c1">#</span>
<span class="c1">#      Note that you must have compiled Privoxy with support for this</span>
<span class="c1">#      feature, otherwise this option has no effect.</span>
<span class="c1">#</span>
<span class="n">enable</span><span class="o">-</span><span class="n">edit</span><span class="o">-</span><span class="n">actions</span> <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  4.6. enforce-blocks</span>
<span class="c1">#  ====================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether the user is allowed to ignore blocks and can &quot;go there</span>
<span class="c1">#      anyway&quot;.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Blocks are not enforced.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy is mainly used to block and filter requests as a</span>
<span class="c1">#      service to the user, for example to block ads and other junk</span>
<span class="c1">#      that clogs the pipes. Privoxy&#39;s configuration isn&#39;t perfect</span>
<span class="c1">#      and sometimes innocent pages are blocked. In this situation it</span>
<span class="c1">#      makes sense to allow the user to enforce the request and have</span>
<span class="c1">#      Privoxy ignore the block.</span>
<span class="c1">#</span>
<span class="c1">#      In the default configuration Privoxy&#39;s &quot;Blocked&quot; page contains</span>
<span class="c1">#      a &quot;go there anyway&quot; link to adds a special string (the force</span>
<span class="c1">#      prefix) to the request URL. If that link is used, Privoxy will</span>
<span class="c1">#      detect the force prefix, remove it again and let the request</span>
<span class="c1">#      pass.</span>
<span class="c1">#</span>
<span class="c1">#      Of course Privoxy can also be used to enforce a network</span>
<span class="c1">#      policy. In that case the user obviously should not be able to</span>
<span class="c1">#      bypass any blocks, and that&#39;s what the &quot;enforce-blocks&quot; option</span>
<span class="c1">#      is for. If it&#39;s enabled, Privoxy hides the &quot;go there anyway&quot;</span>
<span class="c1">#      link. If the user adds the force prefix by hand, it will not</span>
<span class="c1">#      be accepted and the circumvention attempt is logged.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      enforce-blocks 1</span>
<span class="c1">#</span>
<span class="n">enforce</span><span class="o">-</span><span class="n">blocks</span> <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  4.7. ACLs: permit-access and deny-access</span>
<span class="c1">#  =========================================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Who can access what.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      src_addr[:port][/src_masklen] [dst_addr[:port][/dst_masklen]]</span>
<span class="c1">#</span>
<span class="c1">#      Where src_addr and dst_addr are IPv4 addresses in dotted</span>
<span class="c1">#      decimal notation or valid DNS names, port is a port number,</span>
<span class="c1">#      and src_masklen and dst_masklen are subnet masks in CIDR</span>
<span class="c1">#      notation, i.e. integer values from 2 to 30 representing the</span>
<span class="c1">#      length (in bits) of the network address. The masks and the</span>
<span class="c1">#      whole destination part are optional.</span>
<span class="c1">#</span>
<span class="c1">#      If your system implements RFC 3493, then src_addr and dst_addr</span>
<span class="c1">#      can be IPv6 addresses delimited by brackets, port can be a</span>
<span class="c1">#      number or a service name, and src_masklen and dst_masklen can</span>
<span class="c1">#      be a number from 0 to 128.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#      If no port is specified, any port will match. If no</span>
<span class="c1">#      src_masklen or src_masklen is given, the complete IP address</span>
<span class="c1">#      has to match (i.e. 32 bits for IPv4 and 128 bits for IPv6).</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Don&#39;t restrict access further than implied by listen-address</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Access controls are included at the request of ISPs and</span>
<span class="c1">#      systems administrators, and are not usually needed by</span>
<span class="c1">#      individual users. For a typical home user, it will normally</span>
<span class="c1">#      suffice to ensure that Privoxy only listens on the localhost</span>
<span class="c1">#      (127.0.0.1) or internal (home) network address by means of the</span>
<span class="c1">#      listen-address option.</span>
<span class="c1">#</span>
<span class="c1">#      Please see the warnings in the FAQ that Privoxy is not</span>
<span class="c1">#      intended to be a substitute for a firewall or to encourage</span>
<span class="c1">#      anyone to defer addressing basic security weaknesses.</span>
<span class="c1">#</span>
<span class="c1">#      Multiple ACL lines are OK. If any ACLs are specified, Privoxy</span>
<span class="c1">#      only talks to IP addresses that match at least one</span>
<span class="c1">#      permit-access line and don&#39;t match any subsequent deny-access</span>
<span class="c1">#      line. In other words, the last match wins, with the default</span>
<span class="c1">#      being deny-access.</span>
<span class="c1">#</span>
<span class="c1">#      If Privoxy is using a forwarder (see forward below) for a</span>
<span class="c1">#      particular destination URL, the dst_addr that is examined is</span>
<span class="c1">#      the address of the forwarder and NOT the address of the</span>
<span class="c1">#      ultimate target. This is necessary because it may be</span>
<span class="c1">#      impossible for the local Privoxy to determine the IP address</span>
<span class="c1">#      of the ultimate target (that&#39;s often what gateways are used</span>
<span class="c1">#      for).</span>
<span class="c1">#</span>
<span class="c1">#      You should prefer using IP addresses over DNS names, because</span>
<span class="c1">#      the address lookups take time. All DNS names must resolve! You</span>
<span class="c1">#      can not use domain patterns like &quot;*.org&quot; or partial domain</span>
<span class="c1">#      names. If a DNS name resolves to multiple IP addresses, only</span>
<span class="c1">#      the first one is used.</span>
<span class="c1">#</span>
<span class="c1">#      Some systems allow IPv4 clients to connect to IPv6 server</span>
<span class="c1">#      sockets. Then the client&#39;s IPv4 address will be translated by</span>
<span class="c1">#      the system into IPv6 address space with special prefix</span>
<span class="c1">#      ::ffff:0:0/96 (so called IPv4 mapped IPv6 address). Privoxy</span>
<span class="c1">#      can handle it and maps such ACL addresses automatically.</span>
<span class="c1">#</span>
<span class="c1">#      Denying access to particular sites by ACL may have undesired</span>
<span class="c1">#      side effects if the site in question is hosted on a machine</span>
<span class="c1">#      which also hosts other sites (most sites are).</span>
<span class="c1">#</span>
<span class="c1">#  Examples:</span>
<span class="c1">#</span>
<span class="c1">#      Explicitly define the default behavior if no ACL and</span>
<span class="c1">#      listen-address are set: &quot;localhost&quot; is OK. The absence of a</span>
<span class="c1">#      dst_addr implies that all destination addresses are OK:</span>
<span class="c1">#</span>
<span class="c1">#        permit-access  localhost</span>
<span class="c1">#</span>
<span class="c1">#      Allow any host on the same class C subnet as www.privoxy.org</span>
<span class="c1">#      access to nothing but www.example.com (or other domains hosted</span>
<span class="c1">#      on the same system):</span>
<span class="c1">#</span>
<span class="c1">#        permit-access  www.privoxy.org/24 www.example.com/32</span>
<span class="c1">#</span>
<span class="c1">#      Allow access from any host on the 26-bit subnet 192.168.45.64</span>
<span class="c1">#      to anywhere, with the exception that 192.168.45.73 may not</span>
<span class="c1">#      access the IP address behind www.dirty-stuff.example.com:</span>
<span class="c1">#</span>
<span class="c1">#        permit-access  192.168.45.64/26</span>
<span class="c1">#        deny-access    192.168.45.73    www.dirty-stuff.example.com</span>
<span class="c1">#</span>
<span class="c1">#      Allow access from the IPv4 network 192.0.2.0/24 even if</span>
<span class="c1">#      listening on an IPv6 wild card address (not supported on all</span>
<span class="c1">#      platforms):</span>
<span class="c1">#</span>
<span class="c1">#        permit-access  192.0.2.0/24</span>
<span class="c1">#</span>
<span class="c1">#      This is equivalent to the following line even if listening on</span>
<span class="c1">#      an IPv4 address (not supported on all platforms):</span>
<span class="c1">#</span>
<span class="c1">#        permit-access  [::ffff:192.0.2.0]/120</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  4.8. buffer-limit</span>
<span class="c1">#  ==================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Maximum size of the buffer for content filtering.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Size in Kbytes</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      4096</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Use a 4MB (4096 KB) limit.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      For content filtering, i.e. the +filter and +deanimate-gif</span>
<span class="c1">#      actions, it is necessary that Privoxy buffers the entire</span>
<span class="c1">#      document body. This can be potentially dangerous, since a</span>
<span class="c1">#      server could just keep sending data indefinitely and wait for</span>
<span class="c1">#      your RAM to exhaust -- with nasty consequences. Hence this</span>
<span class="c1">#      option.</span>
<span class="c1">#</span>
<span class="c1">#      When a document buffer size reaches the buffer-limit, it is</span>
<span class="c1">#      flushed to the client unfiltered and no further attempt to</span>
<span class="c1">#      filter the rest of the document is made. Remember that there</span>
<span class="c1">#      may be multiple threads running, which might require up to</span>
<span class="c1">#      buffer-limit Kbytes each, unless you have enabled</span>
<span class="c1">#      &quot;single-threaded&quot; above.</span>
<span class="c1">#</span>
<span class="n">buffer</span><span class="o">-</span><span class="n">limit</span> <span class="mi">4096</span>
<span class="c1">#</span>
<span class="c1">#  4.9. enable-proxy-authentication-forwarding</span>
<span class="c1">#  ============================================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not proxy authentication through Privoxy should</span>
<span class="c1">#      work.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Proxy authentication headers are removed.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy itself does not support proxy authentication, but can</span>
<span class="c1">#      allow clients to authenticate against Privoxy&#39;s parent proxy.</span>
<span class="c1">#</span>
<span class="c1">#      By default Privoxy (3.0.21 and later) don&#39;t do that and remove</span>
<span class="c1">#      Proxy-Authorization headers in requests and Proxy-Authenticate</span>
<span class="c1">#      headers in responses to make it harder for malicious sites to</span>
<span class="c1">#      trick inexperienced users into providing login information.</span>
<span class="c1">#</span>
<span class="c1">#      If this option is enabled the headers are forwarded.</span>
<span class="c1">#</span>
<span class="c1">#      Enabling this option is not recommended if there is no parent</span>
<span class="c1">#      proxy that requires authentication or if the local network</span>
<span class="c1">#      between Privoxy and the parent proxy isn&#39;t trustworthy. If</span>
<span class="c1">#      proxy authentication is only required for some requests, it is</span>
<span class="c1">#      recommended to use a client header filter to remove the</span>
<span class="c1">#      authentication headers for requests where they aren&#39;t needed.</span>
<span class="c1">#</span>
<span class="n">enable</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">authentication</span><span class="o">-</span><span class="n">forwarding</span> <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  4.10. trusted-cgi-referer</span>
<span class="c1">#  ==========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      A trusted website or webpage whose links can be followed to</span>
<span class="c1">#      reach sensitive CGI pages</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      URL or URL prefix</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No external pages are considered trusted referers.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Before Privoxy accepts configuration changes through CGI pages</span>
<span class="c1">#      like client-tags or the remote toggle, it checks the Referer</span>
<span class="c1">#      header to see if the request comes from a trusted source.</span>
<span class="c1">#</span>
<span class="c1">#      By default only the webinterface domains config.privoxy.org</span>
<span class="c1">#      and p.p are considered trustworthy. Requests originating from</span>
<span class="c1">#      other domains are rejected to prevent third-parties from</span>
<span class="c1">#      modifiying Privoxy&#39;s state by e.g. embedding images that</span>
<span class="c1">#      result in CGI requests.</span>
<span class="c1">#</span>
<span class="c1">#      In some environments it may be desirable to embed links to CGI</span>
<span class="c1">#      pages on external pages, for example on an Intranet homepage</span>
<span class="c1">#      the Privoxy admin controls.</span>
<span class="c1">#</span>
<span class="c1">#      The &quot;trusted-cgi-referer&quot; option can be used to add that page,</span>
<span class="c1">#      or the whole domain, as trusted source so the resulting</span>
<span class="c1">#      requests aren&#39;t rejected. Requests are accepted if the</span>
<span class="c1">#      specified trusted-cgi-refer is the prefix of the Referer.</span>
<span class="c1">#</span>
<span class="c1">#      If the trusted source is supposed to access the CGI pages via</span>
<span class="c1">#      JavaScript the cors-allowed-origin option can be used.</span>
<span class="c1">#</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#      |                       Warning                       |</span>
<span class="c1">#      |-----------------------------------------------------|</span>
<span class="c1">#      |Declaring pages the admin doesn&#39;t control trustworthy|</span>
<span class="c1">#      |may allow malicious third parties to modify Privoxy&#39;s|</span>
<span class="c1">#      |internal state against the user&#39;s wishes and without |</span>
<span class="c1">#      |the user&#39;s knowledge.                                |</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#</span>
<span class="c1">#trusted-cgi-referer http://www.example.org/local-privoxy-control-page</span>
<span class="c1">#</span>
<span class="c1">#  4.11. cors-allowed-origin</span>
<span class="c1">#  ==========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      A trusted website which can access Privoxy&#39;s CGI pages through</span>
<span class="c1">#      JavaScript.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      URL</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No external sites get access via cross-origin resource</span>
<span class="c1">#      sharing.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Modern browsers by default prevent cross-origin requests made</span>
<span class="c1">#      via JavaScript to Privoxy&#39;s CGI interface even if Privoxy</span>
<span class="c1">#      would trust the referer because it&#39;s white listed via the</span>
<span class="c1">#      trusted-cgi-referer directive.</span>
<span class="c1">#</span>
<span class="c1">#      Cross-origin resource sharing (CORS) is a mechanism to allow</span>
<span class="c1">#      cross-origin requests.</span>
<span class="c1">#</span>
<span class="c1">#      The &quot;cors-allowed-origin&quot; option can be used to specify a</span>
<span class="c1">#      domain that is allowed to make requests to Privoxy CGI</span>
<span class="c1">#      interface via JavaScript. It is used in combination with the</span>
<span class="c1">#      trusted-cgi-referer directive.</span>
<span class="c1">#</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#      |                       Warning                       |</span>
<span class="c1">#      |-----------------------------------------------------|</span>
<span class="c1">#      |Declaring domains the admin doesn&#39;t control          |</span>
<span class="c1">#      |trustworthy may allow malicious third parties to     |</span>
<span class="c1">#      |modify Privoxy&#39;s internal state against the user&#39;s   |</span>
<span class="c1">#      |wishes and without the user&#39;s knowledge.             |</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#</span>
<span class="c1">#cors-allowed-origin http://www.example.org/</span>
<span class="c1">#</span>
<span class="c1">#  5. FORWARDING</span>
<span class="c1">#  ==============</span>
<span class="c1">#</span>
<span class="c1">#  This feature allows routing of HTTP requests through a chain of</span>
<span class="c1">#  multiple proxies.</span>
<span class="c1">#</span>
<span class="c1">#  Forwarding can be used to chain Privoxy with a caching proxy to</span>
<span class="c1">#  speed up browsing. Using a parent proxy may also be necessary if</span>
<span class="c1">#  the machine that Privoxy runs on has no direct Internet access.</span>
<span class="c1">#</span>
<span class="c1">#  Note that parent proxies can severely decrease your privacy level.</span>
<span class="c1">#  For example a parent proxy could add your IP address to the</span>
<span class="c1">#  request headers and if it&#39;s a caching proxy it may add the &quot;Etag&quot;</span>
<span class="c1">#  header to revalidation requests again, even though you configured</span>
<span class="c1">#  Privoxy to remove it. It may also ignore Privoxy&#39;s header time</span>
<span class="c1">#  randomization and use the original values which could be used by</span>
<span class="c1">#  the server as cookie replacement to track your steps between</span>
<span class="c1">#  visits.</span>
<span class="c1">#</span>
<span class="c1">#  Also specified here are SOCKS proxies. Privoxy supports the SOCKS</span>
<span class="c1">#  4 and SOCKS 4A protocols.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  5.1. forward</span>
<span class="c1">#  =============</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      To which parent HTTP proxy specific requests should be routed.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      target_pattern http_parent[:port]</span>
<span class="c1">#</span>
<span class="c1">#      where target_pattern is a URL pattern that specifies to which</span>
<span class="c1">#      requests (i.e. URLs) this forward rule shall apply. Use / to</span>
<span class="c1">#      denote &quot;all URLs&quot;. http_parent[:port] is the DNS name or IP</span>
<span class="c1">#      address of the parent HTTP proxy through which the requests</span>
<span class="c1">#      should be forwarded, optionally followed by its listening port</span>
<span class="c1">#      (default: 8000). Use a single dot (.) to denote &quot;no</span>
<span class="c1">#      forwarding&quot;.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Don&#39;t use parent HTTP proxies.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      If http_parent is &quot;.&quot;, then requests are not forwarded to</span>
<span class="c1">#      another HTTP proxy but are made directly to the web servers.</span>
<span class="c1">#</span>
<span class="c1">#      http_parent can be a numerical IPv6 address (if RFC 3493 is</span>
<span class="c1">#      implemented). To prevent clashes with the port delimiter, the</span>
<span class="c1">#      whole IP address has to be put into brackets. On the other</span>
<span class="c1">#      hand a target_pattern containing an IPv6 address has to be put</span>
<span class="c1">#      into angle brackets (normal brackets are reserved for regular</span>
<span class="c1">#      expressions already).</span>
<span class="c1">#</span>
<span class="c1">#      Multiple lines are OK, they are checked in sequence, and the</span>
<span class="c1">#      last match wins.</span>
<span class="c1">#</span>
<span class="c1">#  Examples:</span>
<span class="c1">#</span>
<span class="c1">#      Everything goes to an example parent proxy, except SSL on port</span>
<span class="c1">#      443 (which it doesn&#39;t handle):</span>
<span class="c1">#</span>
<span class="c1">#        forward   /      parent-proxy.example.org:8080</span>
<span class="c1">#        forward   :443   .</span>
<span class="c1">#</span>
<span class="c1">#      Everything goes to our example ISP&#39;s caching proxy, except for</span>
<span class="c1">#      requests to that ISP&#39;s sites:</span>
<span class="c1">#</span>
<span class="c1">#        forward   /                  caching-proxy.isp.example.net:8000</span>
<span class="c1">#        forward   .isp.example.net   .</span>
<span class="c1">#</span>
<span class="c1">#      Parent proxy specified by an IPv6 address:</span>
<span class="c1">#</span>
<span class="c1">#        forward   /                   [2001:DB8::1]:8000</span>
<span class="c1">#</span>
<span class="c1">#      Suppose your parent proxy doesn&#39;t support IPv6:</span>
<span class="c1">#</span>
<span class="c1">#        forward  /                        parent-proxy.example.org:8000</span>
<span class="c1">#        forward  ipv6-server.example.org  .</span>
<span class="c1">#        forward  &lt;[2-3][0-9a-f][0-9a-f][0-9a-f]:*&gt;   .</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  5.2. forward-socks4, forward-socks4a, forward-socks5 and forward-socks5t</span>
<span class="c1">#  =========================================================================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Through which SOCKS proxy (and optionally to which parent HTTP</span>
<span class="c1">#      proxy) specific requests should be routed.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      target_pattern [user:pass@]socks_proxy[:port] http_parent[:port]</span>
<span class="c1">#</span>
<span class="c1">#      where target_pattern is a URL pattern that specifies to which</span>
<span class="c1">#      requests (i.e. URLs) this forward rule shall apply. Use / to</span>
<span class="c1">#      denote &quot;all URLs&quot;. http_parent and socks_proxy are IP</span>
<span class="c1">#      addresses in dotted decimal notation or valid DNS names (</span>
<span class="c1">#      http_parent may be &quot;.&quot; to denote &quot;no HTTP forwarding&quot;), and</span>
<span class="c1">#      the optional port parameters are TCP ports, i.e. integer</span>
<span class="c1">#      values from 1 to 65535. user and pass can be used for SOCKS5</span>
<span class="c1">#      authentication if required.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Unset</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Don&#39;t use SOCKS proxies.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Multiple lines are OK, they are checked in sequence, and the</span>
<span class="c1">#      last match wins.</span>
<span class="c1">#</span>
<span class="c1">#      The difference between forward-socks4 and forward-socks4a is</span>
<span class="c1">#      that in the SOCKS 4A protocol, the DNS resolution of the</span>
<span class="c1">#      target hostname happens on the SOCKS server, while in SOCKS 4</span>
<span class="c1">#      it happens locally.</span>
<span class="c1">#</span>
<span class="c1">#      With forward-socks5 the DNS resolution will happen on the</span>
<span class="c1">#      remote server as well.</span>
<span class="c1">#</span>
<span class="c1">#      forward-socks5t works like vanilla forward-socks5 but lets</span>
<span class="c1">#      Privoxy additionally use Tor-specific SOCKS extensions.</span>
<span class="c1">#      Currently the only supported SOCKS extension is optimistic</span>
<span class="c1">#      data which can reduce the latency for the first request made</span>
<span class="c1">#      on a newly created connection.</span>
<span class="c1">#</span>
<span class="c1">#      socks_proxy and http_parent can be a numerical IPv6 address</span>
<span class="c1">#      (if RFC 3493 is implemented). To prevent clashes with the port</span>
<span class="c1">#      delimiter, the whole IP address has to be put into brackets.</span>
<span class="c1">#      On the other hand a target_pattern containing an IPv6 address</span>
<span class="c1">#      has to be put into angle brackets (normal brackets are</span>
<span class="c1">#      reserved for regular expressions already).</span>
<span class="c1">#</span>
<span class="c1">#      If http_parent is &quot;.&quot;, then requests are not forwarded to</span>
<span class="c1">#      another HTTP proxy but are made (HTTP-wise) directly to the</span>
<span class="c1">#      web servers, albeit through a SOCKS proxy.</span>
<span class="c1">#</span>
<span class="c1">#  Examples:</span>
<span class="c1">#</span>
<span class="c1">#      From the company example.com, direct connections are made to</span>
<span class="c1">#      all &quot;internal&quot; domains, but everything outbound goes through</span>
<span class="c1">#      their ISP&#39;s proxy by way of example.com&#39;s corporate SOCKS 4A</span>
<span class="c1">#      gateway to the Internet.</span>
<span class="c1">#</span>
<span class="c1">#        forward-socks4a   /              socks-gw.example.com:1080  www-cache.isp.example.net:8080</span>
<span class="c1">#        forward           .example.com   .</span>
<span class="c1">#</span>
<span class="c1">#      A rule that uses a SOCKS 4 gateway for all destinations but no</span>
<span class="c1">#      HTTP parent looks like this:</span>
<span class="c1">#</span>
<span class="c1">#        forward-socks4   /               socks-gw.example.com:1080  .</span>
<span class="c1">#</span>
<span class="c1">#      To connect SOCKS5 proxy which requires username/password</span>
<span class="c1">#      authentication:</span>
<span class="c1">#</span>
<span class="c1">#        forward-socks5   /               user:pass@socks-gw.example.com:1080  .</span>
<span class="c1">#</span>
<span class="c1">#      To chain Privoxy and Tor, both running on the same system, you</span>
<span class="c1">#      would use something like:</span>
<span class="c1">#</span>
        <span class="n">forward</span><span class="o">-</span><span class="n">socks5t</span>   <span class="o">/</span>               <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">7777</span> <span class="o">.</span>
<span class="c1">#</span>
<span class="c1">#      Note that if you got Tor through one of the bundles, you may</span>
<span class="c1">#      have to change the port from 9050 to 9150 (or even another</span>
<span class="c1">#      one). For details, please check the documentation on the Tor</span>
<span class="c1">#      website.</span>
<span class="c1">#</span>
<span class="c1">#      The public Tor network can&#39;t be used to reach your local</span>
<span class="c1">#      network, if you need to access local servers you therefore</span>
<span class="c1">#      might want to make some exceptions:</span>
<span class="c1">#</span>
<span class="c1">#        forward         192.168.*.*/     .</span>
<span class="c1">#        forward          10.*.*.*/       .</span>
<span class="c1">#        forward         127.*.*.*/       .</span>
<span class="c1">#</span>
<span class="c1">#      Unencrypted connections to systems in these address ranges</span>
<span class="c1">#      will be as (un)secure as the local network is, but the</span>
<span class="c1">#      alternative is that you can&#39;t reach the local network through</span>
<span class="c1">#      Privoxy at all. Of course this may actually be desired and</span>
<span class="c1">#      there is no reason to make these exceptions if you aren&#39;t sure</span>
<span class="c1">#      you need them.</span>
<span class="c1">#</span>
<span class="c1">#      If you also want to be able to reach servers in your local</span>
<span class="c1">#      network by using their names, you will need additional</span>
<span class="c1">#      exceptions that look like this:</span>
<span class="c1">#</span>
<span class="c1">#        forward           localhost/     .</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  5.3. forwarded-connect-retries</span>
<span class="c1">#  ===============================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      How often Privoxy retries if a forwarded connection request</span>
<span class="c1">#      fails.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Number of retries.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Connections forwarded through other proxies are treated like</span>
<span class="c1">#      direct connections and no retry attempts are made.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      forwarded-connect-retries is mainly interesting for socks4a</span>
<span class="c1">#      connections, where Privoxy can&#39;t detect why the connections</span>
<span class="c1">#      failed. The connection might have failed because of a DNS</span>
<span class="c1">#      timeout in which case a retry makes sense, but it might also</span>
<span class="c1">#      have failed because the server doesn&#39;t exist or isn&#39;t</span>
<span class="c1">#      reachable. In this case the retry will just delay the</span>
<span class="c1">#      appearance of Privoxy&#39;s error message.</span>
<span class="c1">#</span>
<span class="c1">#      Note that in the context of this option, &quot;forwarded</span>
<span class="c1">#      connections&quot; includes all connections that Privoxy forwards</span>
<span class="c1">#      through other proxies. This option is not limited to the HTTP</span>
<span class="c1">#      CONNECT method.</span>
<span class="c1">#</span>
<span class="c1">#      Only use this option, if you are getting lots of</span>
<span class="c1">#      forwarding-related error messages that go away when you try</span>
<span class="c1">#      again manually. Start with a small value and check Privoxy&#39;s</span>
<span class="c1">#      logfile from time to time, to see how many retries are usually</span>
<span class="c1">#      needed.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      forwarded-connect-retries 1</span>
<span class="c1">#</span>
<span class="n">forwarded</span><span class="o">-</span><span class="n">connect</span><span class="o">-</span><span class="n">retries</span>  <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  6. MISCELLANEOUS</span>
<span class="c1">#  =================</span>
<span class="c1">#</span>
<span class="c1">#  6.1. accept-intercepted-requests</span>
<span class="c1">#  =================================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether intercepted requests should be treated as valid.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Only proxy requests are accepted, intercepted requests are</span>
<span class="c1">#      treated as invalid.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      If you don&#39;t trust your clients and want to force them to use</span>
<span class="c1">#      Privoxy, enable this option and configure your packet filter</span>
<span class="c1">#      to redirect outgoing HTTP connections into Privoxy.</span>
<span class="c1">#</span>
<span class="c1">#      Note that intercepting encrypted connections (HTTPS) isn&#39;t</span>
<span class="c1">#      supported.</span>
<span class="c1">#</span>
<span class="c1">#      Make sure that Privoxy&#39;s own requests aren&#39;t redirected as</span>
<span class="c1">#      well. Additionally take care that Privoxy can&#39;t intentionally</span>
<span class="c1">#      connect to itself, otherwise you could run into redirection</span>
<span class="c1">#      loops if Privoxy&#39;s listening port is reachable by the outside</span>
<span class="c1">#      or an attacker has access to the pages you visit.</span>
<span class="c1">#</span>
<span class="c1">#      If you are running Privoxy as intercepting proxy without being</span>
<span class="c1">#      able to intercept all client requests you may want to adjust</span>
<span class="c1">#      the CGI templates to make sure they don&#39;t reference content</span>
<span class="c1">#      from config.privoxy.org.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      accept-intercepted-requests 1</span>
<span class="c1">#</span>
<span class="n">accept</span><span class="o">-</span><span class="n">intercepted</span><span class="o">-</span><span class="n">requests</span> <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  6.2. allow-cgi-request-crunching</span>
<span class="c1">#  =================================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether requests to Privoxy&#39;s CGI pages can be blocked or</span>
<span class="c1">#      redirected.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy ignores block and redirect actions for its CGI pages.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      By default Privoxy ignores block or redirect actions for its</span>
<span class="c1">#      CGI pages. Intercepting these requests can be useful in</span>
<span class="c1">#      multi-user setups to implement fine-grained access control,</span>
<span class="c1">#      but it can also render the complete web interface useless and</span>
<span class="c1">#      make debugging problems painful if done without care.</span>
<span class="c1">#</span>
<span class="c1">#      Don&#39;t enable this option unless you&#39;re sure that you really</span>
<span class="c1">#      need it.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      allow-cgi-request-crunching 1</span>
<span class="c1">#</span>
<span class="n">allow</span><span class="o">-</span><span class="n">cgi</span><span class="o">-</span><span class="n">request</span><span class="o">-</span><span class="n">crunching</span> <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  6.3. split-large-forms</span>
<span class="c1">#  =======================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether the CGI interface should stay compatible with broken</span>
<span class="c1">#      HTTP clients.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      The CGI form generate long GET URLs.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy&#39;s CGI forms can lead to rather long URLs. This isn&#39;t a</span>
<span class="c1">#      problem as far as the HTTP standard is concerned, but it can</span>
<span class="c1">#      confuse clients with arbitrary URL length limitations.</span>
<span class="c1">#</span>
<span class="c1">#      Enabling split-large-forms causes Privoxy to divide big forms</span>
<span class="c1">#      into smaller ones to keep the URL length down. It makes</span>
<span class="c1">#      editing a lot less convenient and you can no longer submit all</span>
<span class="c1">#      changes at once, but at least it works around this browser</span>
<span class="c1">#      bug.</span>
<span class="c1">#</span>
<span class="c1">#      If you don&#39;t notice any editing problems, there is no reason</span>
<span class="c1">#      to enable this option, but if one of the submit buttons</span>
<span class="c1">#      appears to be broken, you should give it a try.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      split-large-forms 1</span>
<span class="c1">#</span>
<span class="n">split</span><span class="o">-</span><span class="n">large</span><span class="o">-</span><span class="n">forms</span> <span class="mi">0</span>
<span class="c1">#</span>
<span class="c1">#  6.4. keep-alive-timeout</span>
<span class="c1">#  ========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Number of seconds after which an open connection will no</span>
<span class="c1">#      longer be reused.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Time in seconds.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Connections are not kept alive.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This option allows clients to keep the connection to Privoxy</span>
<span class="c1">#      alive. If the server supports it, Privoxy will keep the</span>
<span class="c1">#      connection to the server alive as well. Under certain</span>
<span class="c1">#      circumstances this may result in speed-ups.</span>
<span class="c1">#</span>
<span class="c1">#      By default, Privoxy will close the connection to the server if</span>
<span class="c1">#      the client connection gets closed, or if the specified timeout</span>
<span class="c1">#      has been reached without a new request coming in. This</span>
<span class="c1">#      behaviour can be changed with the connection-sharing option.</span>
<span class="c1">#</span>
<span class="c1">#      This option has no effect if Privoxy has been compiled without</span>
<span class="c1">#      keep-alive support.</span>
<span class="c1">#</span>
<span class="c1">#      Note that a timeout of five seconds as used in the default</span>
<span class="c1">#      configuration file significantly decreases the number of</span>
<span class="c1">#      connections that will be reused. The value is used because</span>
<span class="c1">#      some browsers limit the number of connections they open to a</span>
<span class="c1">#      single host and apply the same limit to proxies. This can</span>
<span class="c1">#      result in a single website &quot;grabbing&quot; all the connections the</span>
<span class="c1">#      browser allows, which means connections to other websites</span>
<span class="c1">#      can&#39;t be opened until the connections currently in use time</span>
<span class="c1">#      out.</span>
<span class="c1">#</span>
<span class="c1">#      Several users have reported this as a Privoxy bug, so the</span>
<span class="c1">#      default value has been reduced. Consider increasing it to 300</span>
<span class="c1">#      seconds or even more if you think your browser can handle it.</span>
<span class="c1">#      If your browser appears to be hanging, it probably can&#39;t.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      keep-alive-timeout 300</span>
<span class="c1">#</span>
<span class="n">keep</span><span class="o">-</span><span class="n">alive</span><span class="o">-</span><span class="n">timeout</span> <span class="mi">5</span>
<span class="c1">#</span>
<span class="c1">#  6.5. tolerate-pipelining</span>
<span class="c1">#  =========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not pipelined requests should be served.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      If Privoxy receives more than one request at once, it</span>
<span class="c1">#      terminates the client connection after serving the first one.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy currently doesn&#39;t pipeline outgoing requests, thus</span>
<span class="c1">#      allowing pipelining on the client connection is not guaranteed</span>
<span class="c1">#      to improve the performance.</span>
<span class="c1">#</span>
<span class="c1">#      By default Privoxy tries to discourage clients from pipelining</span>
<span class="c1">#      by discarding aggressively pipelined requests, which forces</span>
<span class="c1">#      the client to resend them through a new connection.</span>
<span class="c1">#</span>
<span class="c1">#      This option lets Privoxy tolerate pipelining. Whether or not</span>
<span class="c1">#      that improves performance mainly depends on the client</span>
<span class="c1">#      configuration.</span>
<span class="c1">#</span>
<span class="c1">#      If you are seeing problems with pages not properly loading,</span>
<span class="c1">#      disabling this option could work around the problem.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      tolerate-pipelining 1</span>
<span class="c1">#</span>
<span class="n">tolerate</span><span class="o">-</span><span class="n">pipelining</span> <span class="mi">1</span>
<span class="c1">#</span>
<span class="c1">#  6.6. default-server-timeout</span>
<span class="c1">#  ============================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Assumed server-side keep-alive timeout if not specified by the</span>
<span class="c1">#      server.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Time in seconds.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Connections for which the server didn&#39;t specify the keep-alive</span>
<span class="c1">#      timeout are not reused.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Enabling this option significantly increases the number of</span>
<span class="c1">#      connections that are reused, provided the keep-alive-timeout</span>
<span class="c1">#      option is also enabled.</span>
<span class="c1">#</span>
<span class="c1">#      While it also increases the number of connections problems</span>
<span class="c1">#      when Privoxy tries to reuse a connection that already has been</span>
<span class="c1">#      closed on the server side, or is closed while Privoxy is</span>
<span class="c1">#      trying to reuse it, this should only be a problem if it</span>
<span class="c1">#      happens for the first request sent by the client. If it</span>
<span class="c1">#      happens for requests on reused client connections, Privoxy</span>
<span class="c1">#      will simply close the connection and the client is supposed to</span>
<span class="c1">#      retry the request without bothering the user.</span>
<span class="c1">#</span>
<span class="c1">#      Enabling this option is therefore only recommended if the</span>
<span class="c1">#      connection-sharing option is disabled.</span>
<span class="c1">#</span>
<span class="c1">#      It is an error to specify a value larger than the</span>
<span class="c1">#      keep-alive-timeout value.</span>
<span class="c1">#</span>
<span class="c1">#      This option has no effect if Privoxy has been compiled without</span>
<span class="c1">#      keep-alive support.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      default-server-timeout 60</span>
<span class="c1">#</span>
<span class="c1">#default-server-timeout 5</span>
<span class="c1">#</span>
<span class="c1">#  6.7. connection-sharing</span>
<span class="c1">#  ========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not outgoing connections that have been kept alive</span>
<span class="c1">#      should be shared between different incoming connections.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Connections are not shared.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This option has no effect if Privoxy has been compiled without</span>
<span class="c1">#      keep-alive support, or if it&#39;s disabled.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Note that reusing connections doesn&#39;t necessary cause</span>
<span class="c1">#      speedups. There are also a few privacy implications you should</span>
<span class="c1">#      be aware of.</span>
<span class="c1">#</span>
<span class="c1">#      If this option is enabled, outgoing connections are shared</span>
<span class="c1">#      between clients (if there are more than one) and closing the</span>
<span class="c1">#      browser that initiated the outgoing connection does not affect</span>
<span class="c1">#      the connection between Privoxy and the server unless the</span>
<span class="c1">#      client&#39;s request hasn&#39;t been completed yet.</span>
<span class="c1">#</span>
<span class="c1">#      If the outgoing connection is idle, it will not be closed</span>
<span class="c1">#      until either Privoxy&#39;s or the server&#39;s timeout is reached.</span>
<span class="c1">#      While it&#39;s open, the server knows that the system running</span>
<span class="c1">#      Privoxy is still there.</span>
<span class="c1">#</span>
<span class="c1">#      If there are more than one client (maybe even belonging to</span>
<span class="c1">#      multiple users), they will be able to reuse each others</span>
<span class="c1">#      connections. This is potentially dangerous in case of</span>
<span class="c1">#      authentication schemes like NTLM where only the connection is</span>
<span class="c1">#      authenticated, instead of requiring authentication for each</span>
<span class="c1">#      request.</span>
<span class="c1">#</span>
<span class="c1">#      If there is only a single client, and if said client can keep</span>
<span class="c1">#      connections alive on its own, enabling this option has next to</span>
<span class="c1">#      no effect. If the client doesn&#39;t support connection</span>
<span class="c1">#      keep-alive, enabling this option may make sense as it allows</span>
<span class="c1">#      Privoxy to keep outgoing connections alive even if the client</span>
<span class="c1">#      itself doesn&#39;t support it.</span>
<span class="c1">#</span>
<span class="c1">#      You should also be aware that enabling this option increases</span>
<span class="c1">#      the likelihood of getting the &quot;No server or forwarder data&quot;</span>
<span class="c1">#      error message, especially if you are using a slow connection</span>
<span class="c1">#      to the Internet.</span>
<span class="c1">#</span>
<span class="c1">#      This option should only be used by experienced users who</span>
<span class="c1">#      understand the risks and can weight them against the benefits.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      connection-sharing 1</span>
<span class="c1">#</span>
<span class="c1">#connection-sharing 1</span>
<span class="c1">#</span>
<span class="c1">#  6.8. socket-timeout</span>
<span class="c1">#  ====================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Number of seconds after which a socket times out if no data is</span>
<span class="c1">#      received.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Time in seconds.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      A default value of 300 seconds is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      The default is quite high and you probably want to reduce it.</span>
<span class="c1">#      If you aren&#39;t using an occasionally slow proxy like Tor,</span>
<span class="c1">#      reducing it to a few seconds should be fine.</span>
<span class="c1">#</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#      |                       Warning                       |</span>
<span class="c1">#      |-----------------------------------------------------|</span>
<span class="c1">#      |When a TLS library is being used to read or write    |</span>
<span class="c1">#      |data from a socket with https-inspection enabled the |</span>
<span class="c1">#      |socket-timeout currently isn&#39;t applied and the       |</span>
<span class="c1">#      |timeout used depends on the library (which may not   |</span>
<span class="c1">#      |even use a timeout).                                 |</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      socket-timeout 300</span>
<span class="c1">#</span>
<span class="n">socket</span><span class="o">-</span><span class="n">timeout</span> <span class="mi">300</span>
<span class="c1">#</span>
<span class="c1">#  6.9. max-client-connections</span>
<span class="c1">#  ============================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Maximum number of client connections that will be served.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Positive number.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      128</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Connections are served until a resource limit is reached.</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy creates one thread (or process) for every incoming</span>
<span class="c1">#      client connection that isn&#39;t rejected based on the access</span>
<span class="c1">#      control settings.</span>
<span class="c1">#</span>
<span class="c1">#      If the system is powerful enough, Privoxy can theoretically</span>
<span class="c1">#      deal with several hundred (or thousand) connections at the</span>
<span class="c1">#      same time, but some operating systems enforce resource limits</span>
<span class="c1">#      by shutting down offending processes and their default limits</span>
<span class="c1">#      may be below the ones Privoxy would require under heavy load.</span>
<span class="c1">#</span>
<span class="c1">#      Configuring Privoxy to enforce a connection limit below the</span>
<span class="c1">#      thread or process limit used by the operating system makes</span>
<span class="c1">#      sure this doesn&#39;t happen. Simply increasing the operating</span>
<span class="c1">#      system&#39;s limit would work too, but if Privoxy isn&#39;t the only</span>
<span class="c1">#      application running on the system, you may actually want to</span>
<span class="c1">#      limit the resources used by Privoxy.</span>
<span class="c1">#</span>
<span class="c1">#      If Privoxy is only used by a single trusted user, limiting the</span>
<span class="c1">#      number of client connections is probably unnecessary. If there</span>
<span class="c1">#      are multiple possibly untrusted users you probably still want</span>
<span class="c1">#      to additionally use a packet filter to limit the maximal</span>
<span class="c1">#      number of incoming connections per client. Otherwise a</span>
<span class="c1">#      malicious user could intentionally create a high number of</span>
<span class="c1">#      connections to prevent other users from using Privoxy.</span>
<span class="c1">#</span>
<span class="c1">#      Obviously using this option only makes sense if you choose a</span>
<span class="c1">#      limit below the one enforced by the operating system.</span>
<span class="c1">#</span>
<span class="c1">#      One most POSIX-compliant systems Privoxy can&#39;t properly deal</span>
<span class="c1">#      with more than FD_SETSIZE file descriptors if Privoxy has been</span>
<span class="c1">#      configured to use select() and has to reject connections if</span>
<span class="c1">#      the limit is reached. When using select() this limit therefore</span>
<span class="c1">#      can&#39;t be increased without recompiling Privoxy with a</span>
<span class="c1">#      different FD_SETSIZE limit unless Privoxy is running on</span>
<span class="c1">#      Windows with _WIN32 defined.</span>
<span class="c1">#</span>
<span class="c1">#      When Privoxy has been configured to use poll() the FD_SETSIZE</span>
<span class="c1">#      limit does not apply.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      max-client-connections 256</span>
<span class="c1">#</span>
<span class="c1">#max-client-connections 256</span>
<span class="c1">#</span>
<span class="c1">#  6.10. listen-backlog</span>
<span class="c1">#  =====================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Connection queue length requested from the operating system.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Number.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      128</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      A connection queue length of 128 is requested from the</span>
<span class="c1">#      operating system.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Under high load incoming connection may queue up before</span>
<span class="c1">#      Privoxy gets around to serve them. The queue length is limited</span>
<span class="c1">#      by the operating system. Once the queue is full, additional</span>
<span class="c1">#      connections are dropped before Privoxy can accept and serve</span>
<span class="c1">#      them.</span>
<span class="c1">#</span>
<span class="c1">#      Increasing the queue length allows Privoxy to accept more</span>
<span class="c1">#      incoming connections that arrive roughly at the same time.</span>
<span class="c1">#</span>
<span class="c1">#      Note that Privoxy can only request a certain queue length,</span>
<span class="c1">#      whether or not the requested length is actually used depends</span>
<span class="c1">#      on the operating system which may use a different length</span>
<span class="c1">#      instead.</span>
<span class="c1">#</span>
<span class="c1">#      On many operating systems a limit of -1 can be specified to</span>
<span class="c1">#      instruct the operating system to use the maximum queue length</span>
<span class="c1">#      allowed. Check the listen man page to see if your platform</span>
<span class="c1">#      allows this.</span>
<span class="c1">#</span>
<span class="c1">#      On some platforms you can use &quot;netstat -Lan -p tcp&quot; to see the</span>
<span class="c1">#      effective queue length.</span>
<span class="c1">#</span>
<span class="c1">#      Effectively using a value above 128 usually requires changing</span>
<span class="c1">#      the system configuration as well. On FreeBSD-based system the</span>
<span class="c1">#      limit is controlled by the kern.ipc.soacceptqueue sysctl.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      listen-backlog 4096</span>
<span class="c1">#</span>
<span class="c1">#listen-backlog -1</span>
<span class="c1">#</span>
<span class="c1">#  6.11. enable-accept-filter</span>
<span class="c1">#  ===========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not Privoxy should use an accept filter</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      No accept filter is enabled.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Accept filters reduce the number of context switches by not</span>
<span class="c1">#      passing sockets for new connections to Privoxy until a</span>
<span class="c1">#      complete HTTP request is available.</span>
<span class="c1">#</span>
<span class="c1">#      As a result, Privoxy can process the whole request right away</span>
<span class="c1">#      without having to wait for additional data first.</span>
<span class="c1">#</span>
<span class="c1">#      For this option to work, Privoxy has to be compiled with</span>
<span class="c1">#      FEATURE_ACCEPT_FILTER and the operating system has to support</span>
<span class="c1">#      it (which may require loading a kernel module).</span>
<span class="c1">#</span>
<span class="c1">#      Currently accept filters are only supported on FreeBSD-based</span>
<span class="c1">#      systems. Check the accf_http(9) man page to learn how to</span>
<span class="c1">#      enable the support in the operating system.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      enable-accept-filter 1</span>
<span class="c1">#</span>
<span class="c1">#enable-accept-filter 1</span>
<span class="c1">#</span>
<span class="c1">#  6.12. handle-as-empty-doc-returns-ok</span>
<span class="c1">#  =====================================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The status code Privoxy returns for pages blocked with</span>
<span class="c1">#      +handle-as-empty-document.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy returns a status 403(forbidden) for all blocked pages.</span>
<span class="c1">#</span>
<span class="c1">#  Effect if set:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy returns a status 200(OK) for pages blocked with</span>
<span class="c1">#      +handle-as-empty-document and a status 403(Forbidden) for all</span>
<span class="c1">#      other blocked pages.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive was added as a work-around for Firefox bug</span>
<span class="c1">#      492459: &quot;Websites are no longer rendered if SSL requests for</span>
<span class="c1">#      JavaScripts are blocked by a proxy.&quot;</span>
<span class="c1">#      (https://bugzilla.mozilla.org/show_bug.cgi?id=492459), the bug</span>
<span class="c1">#      has been fixed for quite some time, but this directive is also</span>
<span class="c1">#      useful to make it harder for websites to detect whether or not</span>
<span class="c1">#      resources are being blocked.</span>
<span class="c1">#</span>
<span class="c1">#handle-as-empty-doc-returns-ok 1</span>
<span class="c1">#</span>
<span class="c1">#  6.13. enable-compression</span>
<span class="c1">#  =========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not buffered content is compressed before delivery.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or 1</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy does not compress buffered content.</span>
<span class="c1">#</span>
<span class="c1">#  Effect if set:</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy compresses buffered content before delivering it to</span>
<span class="c1">#      the client, provided the client supports it.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive is only supported if Privoxy has been compiled</span>
<span class="c1">#      with FEATURE_COMPRESSION, which should not to be confused with</span>
<span class="c1">#      FEATURE_ZLIB.</span>
<span class="c1">#</span>
<span class="c1">#      Compressing buffered content is mainly useful if Privoxy and</span>
<span class="c1">#      the client are running on different systems. If they are</span>
<span class="c1">#      running on the same system, enabling compression is likely to</span>
<span class="c1">#      slow things down. If you didn&#39;t measure otherwise, you should</span>
<span class="c1">#      assume that it does and keep this option disabled.</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy will not compress buffered content below a certain</span>
<span class="c1">#      length.</span>
<span class="c1">#</span>
<span class="c1">#enable-compression 1</span>
<span class="c1">#</span>
<span class="c1">#  6.14. compression-level</span>
<span class="c1">#  ========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The compression level that is passed to the zlib library when</span>
<span class="c1">#      compressing buffered content.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Positive number ranging from 0 to 9.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      1</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Compressing the data more takes usually longer than</span>
<span class="c1">#      compressing it less or not compressing it at all. Which level</span>
<span class="c1">#      is best depends on the connection between Privoxy and the</span>
<span class="c1">#      client. If you can&#39;t be bothered to benchmark it for yourself,</span>
<span class="c1">#      you should stick with the default and keep compression</span>
<span class="c1">#      disabled.</span>
<span class="c1">#</span>
<span class="c1">#      If compression is disabled, the compression level is</span>
<span class="c1">#      irrelevant.</span>
<span class="c1">#</span>
<span class="c1">#  Examples:</span>
<span class="c1">#</span>
<span class="c1">#        # Best speed (compared to the other levels)</span>
<span class="c1">#        compression-level 1</span>
<span class="c1">#</span>
<span class="c1">#        # Best compression</span>
<span class="c1">#        compression-level 9</span>
<span class="c1">#</span>
<span class="c1">#        # No compression. Only useful for testing as the added header</span>
<span class="c1">#        # slightly increases the amount of data that has to be sent.</span>
<span class="c1">#        # If your benchmark shows that using this compression level</span>
<span class="c1">#        # is superior to using no compression at all, the benchmark</span>
<span class="c1">#        # is likely to be flawed.</span>
<span class="c1">#        compression-level 0</span>
<span class="c1">#</span>
<span class="c1">#compression-level 1</span>
<span class="c1">#</span>
<span class="c1">#  6.15. client-header-order</span>
<span class="c1">#  ==========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The order in which client headers are sorted before forwarding</span>
<span class="c1">#      them.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Client header names delimited by spaces or tabs</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      By default Privoxy leaves the client headers in the order they</span>
<span class="c1">#      were sent by the client. Headers are modified in-place, new</span>
<span class="c1">#      headers are added at the end of the already existing headers.</span>
<span class="c1">#</span>
<span class="c1">#      The header order can be used to fingerprint client requests</span>
<span class="c1">#      independently of other headers like the User-Agent.</span>
<span class="c1">#</span>
<span class="c1">#      This directive allows to sort the headers differently to</span>
<span class="c1">#      better mimic a different User-Agent. Client headers will be</span>
<span class="c1">#      emitted in the order given, headers whose name isn&#39;t</span>
<span class="c1">#      explicitly specified are added at the end.</span>
<span class="c1">#</span>
<span class="c1">#      Note that sorting headers in an uncommon way will make</span>
<span class="c1">#      fingerprinting actually easier. Encrypted headers are not</span>
<span class="c1">#      affected by this directive unless https-inspection is enabled.</span>
<span class="c1">#</span>
<span class="c1">#client-header-order Host \</span>
<span class="c1">#   User-Agent \</span>
<span class="c1">#   Accept \</span>
<span class="c1">#   Accept-Language \</span>
<span class="c1">#   Accept-Encoding \</span>
<span class="c1">#   Proxy-Connection \</span>
<span class="c1">#   Referer \</span>
<span class="c1">#   Cookie \</span>
<span class="c1">#   DNT \</span>
<span class="c1">#   Connection \</span>
<span class="c1">#   Pragma \</span>
<span class="c1">#   Upgrade-Insecure-Requests \</span>
<span class="c1">#   If-Modified-Since \</span>
<span class="c1">#   Cache-Control \</span>
<span class="c1">#   Content-Length \</span>
<span class="c1">#   Origin \</span>
<span class="c1">#   Content-Type</span>
<span class="c1">#</span>
<span class="c1">#  6.16. client-specific-tag</span>
<span class="c1">#  ==========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The name of a tag that will always be set for clients that</span>
<span class="c1">#      requested it through the webinterface.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Tag name followed by a description that will be shown in the</span>
<span class="c1">#      webinterface</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Client-specific tags allow Privoxy admins to create different</span>
<span class="c1">#      profiles and let the users chose which one they want without</span>
<span class="c1">#      impacting other users.</span>
<span class="c1">#</span>
<span class="c1">#      One use case is allowing users to circumvent certain blocks</span>
<span class="c1">#      without having to allow them to circumvent all blocks. This is</span>
<span class="c1">#      not possible with the enable-remote-toggle feature because it</span>
<span class="c1">#      would bluntly disable all blocks for all users and also affect</span>
<span class="c1">#      other actions like filters. It also is set globally which</span>
<span class="c1">#      renders it useless in most multi-user setups.</span>
<span class="c1">#</span>
<span class="c1">#      After a client-specific tag has been defined with the</span>
<span class="c1">#      client-specific-tag directive, action sections can be</span>
<span class="c1">#      activated based on the tag by using a CLIENT-TAG pattern. The</span>
<span class="c1">#      CLIENT-TAG pattern is evaluated at the same priority as URL</span>
<span class="c1">#      patterns, as a result the last matching pattern wins. Tags</span>
<span class="c1">#      that are created based on client or server headers are</span>
<span class="c1">#      evaluated later on and can overrule CLIENT-TAG and URL</span>
<span class="c1">#      patterns!</span>
<span class="c1">#</span>
<span class="c1">#      The tag is set for all requests that come from clients that</span>
<span class="c1">#      requested it to be set. Note that &quot;clients&quot; are differentiated</span>
<span class="c1">#      by IP address, if the IP address changes the tag has to be</span>
<span class="c1">#      requested again.</span>
<span class="c1">#</span>
<span class="c1">#      Clients can request tags to be set by using the CGI interface</span>
<span class="c1">#      http://config.privoxy.org/client-tags. The specific tag</span>
<span class="c1">#      description is only used on the web page and should be phrased</span>
<span class="c1">#      in away that the user understands the effect of the tag.</span>
<span class="c1">#</span>
<span class="c1">#  Examples:</span>
<span class="c1">#</span>
<span class="c1">#          # Define a couple of tags, the described effect requires action sections</span>
<span class="c1">#          # that are enabled based on CLIENT-TAG patterns.</span>
<span class="c1">#          client-specific-tag circumvent-blocks Overrule blocks but do not affect other actions</span>
<span class="c1">#          client-specific-tag disable-content-filters Disable content-filters but do not affect other actions</span>
<span class="c1">#          client-specific-tag overrule-redirects Overrule redirect sections</span>
<span class="c1">#          client-specific-tag allow-cookies Do not crunch cookies in either direction</span>
<span class="c1">#          client-specific-tag change-tor-socks-port Change forward-socks5 settings to use a different Tor socks port (and circuits)</span>
<span class="c1">#          client-specific-tag no-https-inspection Disable HTTPS inspection</span>
<span class="c1">#          client-specific-tag no-tls-verification Don&#39;t verify certificates when http-inspection is enabled</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  6.17. client-tag-lifetime</span>
<span class="c1">#  ==========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      How long a temporarily enabled tag remains enabled.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Time in seconds.</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      60</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      In case of some tags users may not want to enable them</span>
<span class="c1">#      permanently, but only for a short amount of time, for example</span>
<span class="c1">#      to circumvent a block that is the result of an overly-broad</span>
<span class="c1">#      URL pattern.</span>
<span class="c1">#</span>
<span class="c1">#      The CGI interface http://config.privoxy.org/client-tags</span>
<span class="c1">#      therefore provides a &quot;enable this tag temporarily&quot; option. If</span>
<span class="c1">#      it is used, the tag will be set until the client-tag-lifetime</span>
<span class="c1">#      is over.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#            # Increase the time to life for temporarily enabled tags to 3 minutes</span>
<span class="c1">#            client-tag-lifetime 180</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  6.18. trust-x-forwarded-for</span>
<span class="c1">#  ============================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Whether or not Privoxy should use IP addresses specified with</span>
<span class="c1">#      the X-Forwarded-For header</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      0 or one</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      0</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      If clients reach Privoxy through another proxy, for example a</span>
<span class="c1">#      load balancer, Privoxy can&#39;t tell the client&#39;s IP address from</span>
<span class="c1">#      the connection. If multiple clients use the same proxy, they</span>
<span class="c1">#      will share the same client tag settings which is usually not</span>
<span class="c1">#      desired.</span>
<span class="c1">#</span>
<span class="c1">#      This option lets Privoxy use the X-Forwarded-For header value</span>
<span class="c1">#      as client IP address. If the proxy sets the header, multiple</span>
<span class="c1">#      clients using the same proxy do not share the same client tag</span>
<span class="c1">#      settings.</span>
<span class="c1">#</span>
<span class="c1">#      This option should only be enabled if Privoxy can only be</span>
<span class="c1">#      reached through a proxy and if the proxy can be trusted to set</span>
<span class="c1">#      the header correctly. It is recommended that ACL are used to</span>
<span class="c1">#      make sure only trusted systems can reach Privoxy.</span>
<span class="c1">#</span>
<span class="c1">#      If access to Privoxy isn&#39;t limited to trusted systems, this</span>
<span class="c1">#      option would allow malicious clients to change the client tags</span>
<span class="c1">#      for other clients or increase Privoxy&#39;s memory requirements by</span>
<span class="c1">#      registering lots of client tag settings for clients that don&#39;t</span>
<span class="c1">#      exist.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#            # Allow systems that can reach Privoxy to provide the client</span>
<span class="c1">#            # IP address with a X-Forwarded-For header.</span>
<span class="c1">#            trust-x-forwarded-for 1</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  6.19. receive-buffer-size</span>
<span class="c1">#  ==========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The size of the buffer Privoxy uses to receive data from the</span>
<span class="c1">#      server.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Size in bytes</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      5000</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      Increasing the receive-buffer-size increases Privoxy&#39;s memory</span>
<span class="c1">#      usage but can lower the number of context switches and thereby</span>
<span class="c1">#      reduce the cpu usage and potentially increase the throughput.</span>
<span class="c1">#</span>
<span class="c1">#      This is mostly relevant for fast network connections and large</span>
<span class="c1">#      downloads that don&#39;t require filtering.</span>
<span class="c1">#</span>
<span class="c1">#      Reducing the buffer size reduces the amount of memory Privoxy</span>
<span class="c1">#      needs to handle the request but increases the number of</span>
<span class="c1">#      systemcalls and may reduce the throughput.</span>
<span class="c1">#</span>
<span class="c1">#      A dtrace command like: &quot;sudo dtrace -n &#39;syscall::read:return /</span>
<span class="c1">#      execname == &quot;privoxy&quot;/ { @[execname] = llquantize(arg0, 10, 0,</span>
<span class="c1">#      5, 20); @m = max(arg0)}&#39;&quot; can be used to properly tune the</span>
<span class="c1">#      receive-buffer-size. On systems without dtrace, strace or</span>
<span class="c1">#      truss may be used as less convenient alternatives.</span>
<span class="c1">#</span>
<span class="c1">#      If the buffer is too large it will increase Privoxy&#39;s memory</span>
<span class="c1">#      footprint without any benefit. As the memory is (currently)</span>
<span class="c1">#      cleared before using it, a buffer that is too large can</span>
<span class="c1">#      actually reduce the throughput.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#            # Increase the receive buffer size</span>
<span class="c1">#            receive-buffer-size 32768</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  7. HTTPS INSPECTION</span>
<span class="c1">#  ====================</span>
<span class="c1">#</span>
<span class="c1">#  HTTPS inspection allows to filter encrypted requests and</span>
<span class="c1">#  responses. This is only supported when Privoxy has been built with</span>
<span class="c1">#  FEATURE_HTTPS_INSPECTION. If you aren&#39;t sure if your version</span>
<span class="c1">#  supports it, have a look at http://config.privoxy.org/show-status.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  7.1. ca-directory</span>
<span class="c1">#  ==================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Directory with the CA key, the CA certificate and the trusted</span>
<span class="c1">#      CAs file.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Text</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      ./CA</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Default value is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive specifies the directory where the CA key, the</span>
<span class="c1">#      CA certificate and the trusted CAs file are located.</span>
<span class="c1">#</span>
<span class="c1">#      The permissions should only let Privoxy and the Privoxy admin</span>
<span class="c1">#      access the directory.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      ca-directory /usr/local/etc/privoxy/CA</span>
<span class="c1">#</span>
<span class="c1">#ca-directory /usr/local/etc/privoxy/CA</span>
<span class="c1">#</span>
<span class="c1">#  7.2. ca-cert-file</span>
<span class="c1">#  ==================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The CA certificate file in &quot;.crt&quot; format.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Text</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      cacert.crt</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Default value is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive specifies the name of the CA certificate file</span>
<span class="c1">#      in &quot;.crt&quot; format.</span>
<span class="c1">#</span>
<span class="c1">#      The file is used by Privoxy to generate website certificates</span>
<span class="c1">#      when https inspection is enabled with the https-inspection</span>
<span class="c1">#      action.</span>
<span class="c1">#</span>
<span class="c1">#      Privoxy clients should import the certificate so that they can</span>
<span class="c1">#      validate the generated certificates.</span>
<span class="c1">#</span>
<span class="c1">#      The file can be generated with: openssl req -new -x509</span>
<span class="c1">#      -extensions v3_ca -keyout cakey.pem -out cacert.crt -days 3650</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      ca-cert-file root.crt</span>
<span class="c1">#</span>
<span class="c1">#ca-cert-file cacert.crt</span>
<span class="c1">#</span>
<span class="c1">#  7.3. ca-key-file</span>
<span class="c1">#  =================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The CA key file in &quot;.pem&quot; format.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Text</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      cacert.pem</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Default value is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive specifies the name of the CA key file in &quot;.pem&quot;</span>
<span class="c1">#      format. The ca-cert-file section contains a command to</span>
<span class="c1">#      generate it.</span>
<span class="c1">#</span>
<span class="c1">#      The CA key is used by Privoxy to sign generated certificates.</span>
<span class="c1">#</span>
<span class="c1">#      Access to the key should be limited to Privoxy.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      ca-key-file cakey.pem</span>
<span class="c1">#</span>
<span class="c1">#ca-key-file cakey.pem</span>
<span class="c1">#</span>
<span class="c1">#  7.4. ca-password</span>
<span class="c1">#  =================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The password for the CA keyfile.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Text</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      Empty string</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Default value is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive specifies the password for the CA keyfile that</span>
<span class="c1">#      is used when Privoxy generates certificates for intercepted</span>
<span class="c1">#      requests.</span>
<span class="c1">#</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#      |                       Warning                       |</span>
<span class="c1">#      |-----------------------------------------------------|</span>
<span class="c1">#      |Note that the password is shown on the CGI page so   |</span>
<span class="c1">#      |don&#39;t reuse an important one.                        |</span>
<span class="c1">#      |                                                     |</span>
<span class="c1">#      |If disclosure of the password is a compliance issue  |</span>
<span class="c1">#      |consider blocking the relevant CGI requests after    |</span>
<span class="c1">#      |enabling the enforce-blocks and                      |</span>
<span class="c1">#      |allow-cgi-request-crunching.                         |</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      ca-password blafasel</span>
<span class="c1">#</span>
<span class="c1">#ca-password swordfish</span>
<span class="c1">#</span>
<span class="c1">#  7.5. certificate-directory</span>
<span class="c1">#  ===========================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      Directory to save generated keys and certificates.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Text</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      ./certs</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Default value is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive specifies the directory where generated TLS/SSL</span>
<span class="c1">#      keys and certificates are saved when https inspection is</span>
<span class="c1">#      enabled with the https-inspection action.</span>
<span class="c1">#</span>
<span class="c1">#      The keys and certificates currently have to be deleted</span>
<span class="c1">#      manually when changing the ca-cert-file and the ca-cert-key.</span>
<span class="c1">#</span>
<span class="c1">#      The permissions should only let Privoxy and the Privoxy admin</span>
<span class="c1">#      access the directory.</span>
<span class="c1">#</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#      |                       Warning                       |</span>
<span class="c1">#      |-----------------------------------------------------|</span>
<span class="c1">#      |Privoxy currently does not garbage-collect obsolete  |</span>
<span class="c1">#      |keys and certificates and does not keep track of how |</span>
<span class="c1">#      |may keys and certificates exist.                     |</span>
<span class="c1">#      |                                                     |</span>
<span class="c1">#      |Privoxy admins should monitor the size of the        |</span>
<span class="c1">#      |directory and/or make sure there is sufficient space |</span>
<span class="c1">#      |available. A cron job to limit the number of keys and|</span>
<span class="c1">#      |certificates to a certain number may be worth        |</span>
<span class="c1">#      |considering.                                         |</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      certificate-directory /usr/local/var/privoxy/certs</span>
<span class="c1">#</span>
<span class="c1">#certificate-directory /usr/local/var/privoxy/certs</span>
<span class="c1">#</span>
<span class="c1">#  7.6. cipher-list</span>
<span class="c1">#  =================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      A list of ciphers to use in TLS handshakes</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      Text</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      None</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      A default value is inherited from the TLS library.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive allows to specify a non-default list of ciphers</span>
<span class="c1">#      to use in TLS handshakes with clients and servers.</span>
<span class="c1">#</span>
<span class="c1">#      Ciphers are separated by colons. Which ciphers are supported</span>
<span class="c1">#      depends on the TLS library. When using OpenSSL, unsupported</span>
<span class="c1">#      ciphers are skipped. When using MbedTLS they are rejected.</span>
<span class="c1">#</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#      |                       Warning                       |</span>
<span class="c1">#      |-----------------------------------------------------|</span>
<span class="c1">#      |Specifying an unusual cipher list makes              |</span>
<span class="c1">#      |fingerprinting easier. Note that the default list    |</span>
<span class="c1">#      |provided by the TLS library may be unusual when      |</span>
<span class="c1">#      |compared to the one used by modern browsers as well. |</span>
<span class="c1">#      +-----------------------------------------------------+</span>
<span class="c1">#  Examples:</span>
<span class="c1">#</span>
<span class="c1">#          # Explicitly set a couple of ciphers with names used by MbedTLS</span>
<span class="c1">#        cipher-list cipher-list TLS-ECDHE-RSA-WITH-CHACHA20-POLY1305-SHA256:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-CHACHA20-POLY1305-SHA256:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-CHACHA20-POLY1305-SHA256:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-AES-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-AES-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-AES-256-CCM:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-AES-256-CCM-8:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-AES-128-CCM:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-AES-128-CCM-8:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-CAMELLIA-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDHE-ECDSA-WITH-CAMELLIA-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-ECDHE-RSA-WITH-AES-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDHE-RSA-WITH-AES-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-ECDHE-RSA-WITH-CAMELLIA-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDHE-RSA-WITH-CAMELLIA-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-AES-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-AES-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-AES-256-CCM:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-AES-256-CCM-8:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-AES-128-CCM:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-AES-128-CCM-8:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-CAMELLIA-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-DHE-RSA-WITH-CAMELLIA-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-ECDH-RSA-WITH-AES-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDH-RSA-WITH-AES-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-ECDH-RSA-WITH-CAMELLIA-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDH-RSA-WITH-CAMELLIA-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-ECDH-ECDSA-WITH-AES-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDH-ECDSA-WITH-AES-256-GCM-SHA384:\</span>
<span class="c1">#        TLS-ECDH-ECDSA-WITH-CAMELLIA-128-GCM-SHA256:\</span>
<span class="c1">#        TLS-ECDH-ECDSA-WITH-CAMELLIA-256-GCM-SHA384</span>
<span class="c1">#</span>
<span class="c1">#          # Explicitly set a couple of ciphers with names used by OpenSSL</span>
<span class="c1">#        cipher-list ECDHE-RSA-AES256-GCM-SHA384:\</span>
<span class="c1">#        ECDHE-ECDSA-AES256-GCM-SHA384:\</span>
<span class="c1">#        DH-DSS-AES256-GCM-SHA384:\</span>
<span class="c1">#        DHE-DSS-AES256-GCM-SHA384:\</span>
<span class="c1">#        DH-RSA-AES256-GCM-SHA384:\</span>
<span class="c1">#        DHE-RSA-AES256-GCM-SHA384:\</span>
<span class="c1">#        ECDH-RSA-AES256-GCM-SHA384:\</span>
<span class="c1">#        ECDH-ECDSA-AES256-GCM-SHA384:\</span>
<span class="c1">#        ECDHE-RSA-AES128-GCM-SHA256:\</span>
<span class="c1">#        ECDHE-ECDSA-AES128-GCM-SHA256:\</span>
<span class="c1">#        DH-DSS-AES128-GCM-SHA256:\</span>
<span class="c1">#        DHE-DSS-AES128-GCM-SHA256:\</span>
<span class="c1">#        DH-RSA-AES128-GCM-SHA256:\</span>
<span class="c1">#        DHE-RSA-AES128-GCM-SHA256:\</span>
<span class="c1">#        ECDH-RSA-AES128-GCM-SHA256:\</span>
<span class="c1">#        ECDH-ECDSA-AES128-GCM-SHA256:\</span>
<span class="c1">#        ECDHE-RSA-AES256-GCM-SHA384:\</span>
<span class="c1">#        AES128-SHA</span>
<span class="c1">#</span>
<span class="c1">#          # Use keywords instead of explicitly naming the ciphers (Does not work with MbedTLS)</span>
<span class="c1">#        cipher-list ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  7.7. trusted-cas-file</span>
<span class="c1">#  ======================</span>
<span class="c1">#</span>
<span class="c1">#  Specifies:</span>
<span class="c1">#</span>
<span class="c1">#      The trusted CAs file in &quot;.pem&quot; format.</span>
<span class="c1">#</span>
<span class="c1">#  Type of value:</span>
<span class="c1">#</span>
<span class="c1">#      File name relative to ca-directory</span>
<span class="c1">#</span>
<span class="c1">#  Default value:</span>
<span class="c1">#</span>
<span class="c1">#      trustedCAs.pem</span>
<span class="c1">#</span>
<span class="c1">#  Effect if unset:</span>
<span class="c1">#</span>
<span class="c1">#      Default value is used.</span>
<span class="c1">#</span>
<span class="c1">#  Notes:</span>
<span class="c1">#</span>
<span class="c1">#      This directive specifies the trusted CAs file that is used</span>
<span class="c1">#      when validating certificates for intercepted TLS/SSL requests.</span>
<span class="c1">#</span>
<span class="c1">#      An example file can be downloaded from https://curl.se/ca/cacert.pem.</span>
<span class="c1">#      If you want to create the file yourself, please</span>
<span class="c1">#      see: https://curl.se/docs/caextract.html.</span>
<span class="c1">#</span>
<span class="c1">#  Example:</span>
<span class="c1">#</span>
<span class="c1">#      trusted-cas-file trusted_cas_file.pem</span>
<span class="c1">#</span>
<span class="c1">#trusted-cas-file trustedCAs.pem</span>
<span class="c1">#</span>
<span class="c1">#  8. WINDOWS GUI OPTIONS</span>
<span class="c1">#  =======================</span>
<span class="c1">#</span>
<span class="c1">#  Privoxy has a number of options specific to the Windows GUI</span>
<span class="c1">#  interface:</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#  If &quot;activity-animation&quot; is set to 1, the Privoxy icon will animate</span>
<span class="c1">#  when &quot;Privoxy&quot; is active. To turn off, set to 0.</span>
<span class="c1">#</span>
<span class="c1">#activity-animation   1</span>
<span class="c1">#</span>
<span class="c1">#  If &quot;log-messages&quot; is set to 1, Privoxy copies log messages to the</span>
<span class="c1">#  console window. The log detail depends on the debug directive.</span>
<span class="c1">#</span>
<span class="c1">#log-messages   1</span>
<span class="c1">#</span>
<span class="c1">#  If &quot;log-buffer-size&quot; is set to 1, the size of the log buffer, i.e.</span>
<span class="c1">#  the amount of memory used for the log messages displayed in the</span>
<span class="c1">#  console window, will be limited to &quot;log-max-lines&quot; (see below).</span>
<span class="c1">#</span>
<span class="c1">#  Warning: Setting this to 0 will result in the buffer to grow</span>
<span class="c1">#  infinitely and eat up all your memory!</span>
<span class="c1">#</span>
<span class="c1">#log-buffer-size 1</span>
<span class="c1">#</span>
<span class="c1">#  log-max-lines is the maximum number of lines held in the log</span>
<span class="c1">#  buffer. See above.</span>
<span class="c1">#</span>
<span class="c1">#log-max-lines 200</span>
<span class="c1">#</span>
<span class="c1">#  If &quot;log-highlight-messages&quot; is set to 1, Privoxy will highlight</span>
<span class="c1">#  portions of the log messages with a bold-faced font:</span>
<span class="c1">#</span>
<span class="c1">#log-highlight-messages 1</span>
<span class="c1">#</span>
<span class="c1">#  The font used in the console window:</span>
<span class="c1">#</span>
<span class="c1">#log-font-name Comic Sans MS</span>
<span class="c1">#</span>
<span class="c1">#  Font size used in the console window:</span>
<span class="c1">#</span>
<span class="c1">#log-font-size 8</span>
<span class="c1">#</span>
<span class="c1">#  &quot;show-on-task-bar&quot; controls whether or not Privoxy will appear as</span>
<span class="c1">#  a button on the Task bar when minimized:</span>
<span class="c1">#</span>
<span class="c1">#show-on-task-bar 0</span>
<span class="c1">#</span>
<span class="c1">#  If &quot;close-button-minimizes&quot; is set to 1, the Windows close button</span>
<span class="c1">#  will minimize Privoxy instead of closing the program (close with</span>
<span class="c1">#  the exit option on the File menu).</span>
<span class="c1">#</span>
<span class="c1">#close-button-minimizes 1</span>
<span class="c1">#</span>
<span class="c1">#  The &quot;hide-console&quot; option is specific to the MS-Win console</span>
<span class="c1">#  version of Privoxy. If this option is used, Privoxy will</span>
<span class="c1">#  disconnect from and hide the command console.</span>
<span class="c1">#</span>
<span class="c1">#hide-console</span>
<span class="c1">#</span>
<span class="c1">#</span>
</pre></div>
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="/index.html">主页</a></p></td>
<td><p><a class="reference internal" href="../../../genindex.html"><span class="std std-ref">索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../py-modindex.html"><span class="std std-ref">模块索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../search.html"><span class="std std-ref">搜索页面</span></a></p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../proxy_setup_soft.html" class="btn btn-neutral float-right" title="建立代理-专用软件" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ssh_windows.html" class="btn btn-neutral" title="windows下操作" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  <div id="gitalk-container"></div>
  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2025, 新溪-gordon.

    </p>
  </div>
  <div>备案号 <a href="http://www.beian.miit.gov.cn">京ICP备16018553号</a></div><div>Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a></div>. 


</footer>

<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?042289284b8eb33866001347a3e0b129";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>     
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'V2025.11',
            LANGUAGE:'zh-CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/sphinx_highlight.js"></script>
      <script type="text/javascript" src="../../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });


      // var gitalk = new Gitalk({
      //         clientID: '565177626b5d46427009',
      //         clientSecret: 'b2a36e67e1d2a73e43667f46d571c2624f8e1026',
      //         repo: 'knowledge',
      //         owner: 'zhaoweiguo',
      //         admin: ['zhaoweiguo'],
      //         id: location.pathname,      // Ensure uniqueness and length less than 50
      //         distractionFreeMode: false  // Facebook-like distraction free mode
      //       })
      // gitalk.render('gitalk-container')

  </script>


<script type="text/javascript" src="../../../_static/js/table-of-contents-sidebar.js"></script>
<!-- <script type="text/javascript" src="https://table-of-contents-sidebar.github.io/table-of-contents-sidebar-lib/table-of-contents-sidebar.js"></script> -->
<script type="text/javascript">
    window.onload = function(e){
        TableOfContents.init({
            basePath: "https://table-of-contents-sidebar.github.io/table-of-contents-sidebar-lib/",
            querySelector: "body" // or other css querySelector
        });
    }
</script> 

</body>
</html>