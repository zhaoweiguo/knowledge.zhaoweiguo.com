临时
####

- 边缘计算：OpenYurt, StarlingX, Akraino, KubeEdge，Baetyl 等
- 物联网：AliOS Things, EdgeX Foundry, StarlingX 等





物联网架构::

    1. 感知层
    2. 网络层
        近距离通信技术: Wi-Fi, 蓝牙, ZigBee, UWB
        远距离通信技术: 4G, LPWAN(EC-GSM, eMTC, NB-IoT)
    3. 应用层
        数据平台, 业务平台

::

    设备接入层: 也被称为 IoT Hub

    设备接入层之后，才是和互联网系统类似的业务层

.. figure:: https://img.zhaoweiguo.com/knowledge/images/iots/architecture1.jpeg

   设备接入系统架构图



关键词::

    互联网，传感器，5G，云计算，MQTT，大数据，人工智能，智能家居

    工业 4.0

::

    MQTT 协议，就是 IBM 在 20 世纪 90 年代，为了监测偏远地区的石油和天然气管道而开发的


设备层
======

.. figure:: https://img.zhaoweiguo.com/knowledge/images/iots/layer-device.jpeg

   设备层思维导图

无线通信技术的 4 个重要参数::

    1. 频段
        Wi-Fi 的频段是 2.412GHz-2.484GHz(非授权频段)
        蓝牙技术也基本是这个频率范围，所以Wi-Fi 和蓝牙在某些情况下会相互干扰
        解决的一个有效的方法是基于信道的跳频技术
    2. 信道
        定义: 它是信息通过无线电波传送的具体通道介质。每种通信技术的频段会被划分、规划成多个信道来使用
        Wi-Fi 的频段被分为 14 个信道（中国可用的是 13 个信道，信道 14 排除在外）
        注意: 相邻信道的频段是存在重叠的。比如:
            Wi-Fi 的信道 1 频段是 2.401GHz～2.423GHz，
                    信道 2 频段是 2.406GHz～2.428GHz
    3. 信道带宽
        定义: 信道频段的最大值和最小值之差，就是信道覆盖的范围大小
        Wi-Fi  信道 1 的带宽是 22MHz，它是由 2.423GHz 减去 2.401GHz 得到的
        22MHz 是信道 1 的实际带宽，而它的有效带宽只有 20MHz
        因为其中有 2MHz 是隔离频带, 隔离频带主要是起保护作用的
    4. 传输速率
        传输速率受很多因素的影响，比如信道带宽和频率
        一般来说:
            带宽越大，传输速率就越大
            频率比较高时，电磁环境相对比较干净、干扰少，传输速率会更高
        其他技术:
            正交频分复用、MIMO（Multiple-Input Multiple-Output）技术

.. figure:: https://img.zhaoweiguo.com/knowledge/images/iots/airband.png

   整个频谱的频段分布


.. figure:: https://img.zhaoweiguo.com/knowledge/images/iots/airband2.jpeg

   无线通信技术的 4 个概念






网络协议
========

通信模式::

    1. 发布 - 订阅
    2. 请求 - 响应

物联网的网络通信特点::

    1. 物联网设备很大可能工作在不可靠、高延迟的网络环境中
    2. 物联网系统中，设备数量多，而且交互非常复杂
    3. 设备经常需要根据实际使用环境做增加、减少等调整

    因为这些特点，物联网系统在选择网络通信的协议时，一般采用发布 - 订阅的通信模式

MQTT（MQ Telemetry Transport）协议，是 IBM 公司在 1999 年开发的轻量级网络协议，它有三个主要特点::

    1. 采用二进制的消息内容编码格式，所以二进制数据、JSON 和图片等负载内容都可以方便传输。
    2. 协议头很紧凑，协议交互也简单，保证了网络传输流量很小。
    3. 支持 3 种 QoS（Quality of Service，服务质量）级别，便于应用根据不同的场景需求灵活选择。

    MQTT 协议非常适合计算能力有限、网络带宽低、信号不稳定的远程设备，
    所以它成为了物联网系统事实上的网络协议标准



* ThingsBoard - Open-source IoT Platform: https://thingsboard.io/


数据分析
========

* 物联网系统的价值其实就在于数据的价值，而数据的价值则来源于我们对数据的分析和应用。

数据处理::

    1. 批处理
    2. 流处理

数据产生价值的方法::

    1. 可视化
    2. 挖掘
    3. 预测
    4. 控制决策

实例
====

智能家居的发展的三个阶段::

    1. 遥控
        在遥控阶段，每次跟设备的交互都需要人的参与
    2. 场景联动
        在场景联动阶段，人只需要参与一次跟设备的交互就行
    3. 智能化
        家居系统会从你之前的交互中和其他设备收集的数据中学习你的行为模式和喜好，
        然后控制设备自动处理很多事情，包括提供决策建议。

围绕生活场景来设计智能家居产品的 3 个原则::

    1. 专注单一领域，解决一个问题
        问题容易定义，解决方案涉及的技术也就比较少。
        比如智能照明，解决电灯的联网和开闭功能就可以了
    2. 闭环，也就是同时包含传感器、执行器和控制器
        设备自身就可以实现一定程度的自动化。
        比如根据光照自动调节灯光就是一个完整的闭环
    3. 可以实现

4 个产品场景::

    1. 可以手机控制的智能电灯
    2. 可以基于光线自动调节的智能电灯
    3. 可以语音控制的智能音箱
    4. 可以基于环境温湿度和土壤湿度自动浇水的浇花器





AllJoyn 协议
============

由高通公司主导的高创新中心（Qualcomm Innovation Center）的开源项目开发的，主要用于近距离无线传输，通过 WiFi 或蓝牙技术，定位和点对点文件传输。该项目在 2012 公开。

::

    AllJoyn 是一个合作的开源软件框架，程序员可以很方便的编写出搜索附近设备的应用应用程序，
    并且无论对方的品牌、类别、系统都可以在不需要云环境的情况下连接。
    AllJoyn 框架是非常灵活，能使物联网实现愿景。












其他
====


* MicroPython 是专门为嵌入式开发设计、实现的 Python 语言开发环境。


* 电路图软件: fritzing




参考
====

* http://www.ruijie.com.cn/fa/xw-hlw/60952

* 华为 IoT 物模型文档：https://support.huaweicloud.com/usermanual-iothub/iot_01_0017.html
* 小米 IoT 物模型文档：https://iot.mi.com/new/doc/standard/miot-spec/spec



