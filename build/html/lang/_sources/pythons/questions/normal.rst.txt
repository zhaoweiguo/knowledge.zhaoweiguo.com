å¸¸ç”¨
####


AttributeError module object has no attribute <xxxx>::

    ä¸€èˆ¬æ˜¯å› ä¸ºæœ‰*.pycæ–‡ä»¶æœ‰é—®é¢˜å¯¼è‡´ï¼Œå¦‚
    Traceback (most recent call last):
      File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site.py", line 62, in <module>
          import os
      File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/os.py", line 400, in <module>
          import UserDict
      File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/UserDict.py", line 83, in <module>
          import _abcoll
      File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_abcoll.py", line 11, in <module>
          from abc import ABCMeta, abstractmethod
      File "abc.py", line 9, in <module>
          from PyQt4 import uic
    ... ...

å®‰è£…é«˜ç‰ˆæœ¬çš„pythonåï¼Œä¼šé‡åˆ°ä¸€äº›é—®é¢˜::

  1.è¦æŠŠ/usr/binä¸‹é¢çš„pythonæ”¹æˆæ–°ç‰ˆæœ¬çš„python; ä½†è¿™ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜â€”â€”yumçš„ä½¿ç”¨:

  è¿™ä¸ªæ˜¯python2ä¸python3ä¸åŒçš„åŸå› 
  python2ç›®å‰å—ä¼—è¿˜æ˜¯æ¯”python3å¤š

  è§£å†³æ–¹æ³•:
  å› ä¸ºyumé»˜è®¤çš„æ˜¯ä½¿ç”¨python2.4,ä¸ºäº†ä½¿yumå‘½ä»¤èƒ½æ­£ç¡®æ‰§è¡Œ,éœ€è¦ä¿®æ”¹
  [root@CNC-BJ-5-3N1 bin]# vi yum
  å°†#!/usr/bin/python æ”¹ä¸º #!/usr/bin/python2.4

  æ³¨æ„:
  åŸæ¥ç”¨easy_installå®‰è£…çš„åŒ…éƒ½éœ€è¦é‡æ–°å®‰è£…

é‡åˆ°è¿™ä¸ªæ€»æ˜¯ ``ImportError: No module named pkg_resources`` , è§£å†³æ–¹æ¡ˆ::

    curl -O http://python-distribute.org/distribute_setup.py
    python distribute_setup.py

``ImportError: No module named Image`` é”™è¯¯è§£å†³, åˆ°ã€€`è¿™å„¿Python Imaging Library (PIL) <http://www.pythonware.com/products/pil/>`_ ä¸‹è½½Imageså®‰è£…::

    python setup.py install


matplotlib 1.3.1 requires tornado, which is not installed::

  å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ£€æŸ¥:
  pip check

  ä¸Šé¢é—®é¢˜è¯´æ˜æ²¡æœ‰å®‰è£…tornadoä¾èµ–ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è§£å†³:
  sudo pip install tornado


Cannot uninstall 'pyparsing'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall::

  ä¸€èˆ¬æ˜¯å…¼å®¹é—®é¢˜ï¼Œä½ å¯èƒ½ä½¿ç”¨äº†ä¸åŒçš„æ–¹æ³•å®‰è£…äº†è¿™ä¸ªåŒ…ï¼ˆä¸ªäººåˆ†æï¼‰
  å¦‚: pip, easy_insallæˆ–brew, apt-get, yumç­‰

  å¦‚æœä½¿ç”¨easy_installå®‰è£…çš„ï¼Œå¯ä½¿ç”¨
  easy_install -mxN <PackageName>
  ç„¶åæ ¹æ®å†²çªçš„æç¤ºï¼Œå¸è½½æ‰networkxå¯¹åº”çš„egg
  æœ€åï¼Œä¸è¦å¿˜è®°é‡å¯å‘½ä»¤è¡Œ

  PSï¼š
  å¦‚æœæ²¡æœ‰å®‰è£…ç›¸å…³çš„å…ƒä¿¡æ¯çš„è¯ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯åˆ é™¤å¯¹åº”çš„eggæ–‡ä»¶


RuntimeError: can't start new thread
====================================

æ‰§è¡Œ ``docker build`` å‘½ä»¤æ‰“åŒ…pythoné•œåƒæ—¶åœ¨æ‰§è¡Œ ``pip install`` å‘½ä»¤æ—¶æŠ¥::


    09:47:14 Step 1/2 : FROM python:3.11.9
    09:47:14  ---> 4da317ec949b
    09:47:14 Step 2/2 : RUN pip install -U openai
    09:47:15  ---> Running in ad6acc9b449a
    09:47:18 Collecting openai==0.8.1
    09:47:18   Downloading http://10.192.15.63:8081/repository/pypi/packages/metagpt/0.8.1%2Bbuild0/metagpt-0.8.1%2Bbuild0-py3-none-any.whl (588 kB)
    09:47:18 [91mERROR: Exception:
    09:47:18 Traceback (most recent call last):
    09:47:18   File "/usr/local/lib/python3.11/site-packages/pip/_internal/cli/base_command.py", line 180, in exc_logging_wrapper
    09:47:18     status = run_func(*args)
    09:47:18              ^^^^^^^^^^^^^^^
    09:47:18   File "/usr/local/lib/python3.11/site-packages/pip/_internal/cli/req_command.py", line 245, in wrapper
    09:47:18     return func(self, options, args)
    09:47:18            ^^^^^^^^^^^^^^^^^^^^^^^^^
    ... ...
    ... ...
    09:47:18   File "/usr/local/lib/python3.11/threading.py", line 964, in start
    09:47:18     _start_new_thread(self._bootstrap, ())
    09:47:18 RuntimeError: can't start new thread


ç°è±¡::

    1. åœ¨æœºå™¨Aæ‰§è¡Œdocker buildæ²¡æœ‰é—®é¢˜
    2. åœ¨æœºå™¨Bæ‰§è¡Œdocker buildæœ‰é—®é¢˜
    3. æœºå™¨Aã€Bæ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬éƒ½ç›¸åŒ
    4. æœºå™¨Açš„Dockerç‰ˆæœ¬ Docker version 24.0.6, build ed223bc
    5. æœºå™¨Bçš„Dockerç‰ˆæœ¬ Docker version 19.03.3, build a872fc2
    6. ç›´æ¥åœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œ pip install æ²¡æœ‰é—®é¢˜

é—®é¢˜åŸå› ::

    å› ä¸ºDocker 20.10.9çš„é»˜è®¤seccompé…ç½®æ–‡ä»¶æ²¡æœ‰è°ƒæ•´ä»¥æ”¯æŒåœ¨Ubuntu 21.10å’ŒFedora 35ä¸­é‡‡ç”¨çš„glibc 2.34çš„clone()ç³»ç»Ÿè°ƒç”¨åŒ…è£…å™¨ã€‚
    å‚è€ƒ:
      https://medium.com/nttlabs/ubuntu-21-10-and-fedora-35-do-not-work-on-docker-20-10-9-1cd439d9921
      https://stackoverflow.com/questions/70087344/python-in-docker-runtimeerror-cant-start-new-thread
    è¯´æ˜:
      dockerçš„ç‰ˆæœ¬æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å†²çªå¯¼è‡´

è§£å†³åŠæ³•::

    1. å¯ä»¥å‡çº§dockeråˆ°23.0.0ä»¥ä¸Šçš„ç‰ˆæœ¬
    2. å¯ä»¥åœ¨pipå®‰è£…çš„è¿‡ç¨‹ä¸­ï¼Œä¸å¼€å¯è¿›åº¦æ¡å±•ç¤ºï¼Œè¿™æ ·å°±é¿å…å¼€å¯æ–°çº¿ç¨‹ï¼š
      pip config --user set global.progress_bar off








































