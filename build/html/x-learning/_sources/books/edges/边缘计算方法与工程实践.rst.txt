边缘计算方法与工程实践
######################

::

    作者: 张骏
    出版年: 2019-7


第1章 边缘计算综述
==================

1997年，计算机科学家Brian Noble成功地将边缘计算应用于移动技术的语音识别，两年后边缘计 算又被成功应用于延长手机电池的使用寿命。这一过程在当时被称为“Cyber foraging”，也就是当前苹果Siri 和谷歌语音识别的工作原理。1999年，点对点计算（Peer to Peer Computing）出现。2006年，亚马逊公司发 布了EC2服务，从此云计算正式问世，并开始被各大企业纷纷采用。在2009年发布的“移动计算汇总的基于 虚拟机的Cloudlets案例”中，时延与云计算之间的端到端关系被详细介绍和分析。该文章提出了两级架构的 概念：第一级是云计算基础设施，第二级是由分布式云元素构成的Cloudlet。这一概念在很多方面成为现代 边缘计算的理论基础。2013年，“雾计算”由思科（Cisco）带头成立的OpenFog组织正式提出，其中心思想 是提升互联网可扩展性的分布式云计算基础设施。2014年，欧洲电信标准协会（ETSI）成立移动边缘计算 规范工作组，推动边缘计算标准化。旨在为实现计算及存储资源的弹性利用，将云计算平台从移动核心网 络内部迁移到移动接入边缘。ETSI在2016年提出把移动边缘计算的概念扩展为多接入边缘计算（Multi- Access Edge Computing，MEC），将边缘计算从电信蜂窝网络进一步延伸至其他无线接入网络，如Wi-Fi。 自此，MEC成为一个可以运行在移动网络边缘的执行特定任务计算的云服务器。

.. note:: 开始探索如 何在靠近数据的边缘端增加数据处理功能，即开展由计算中心处理的计算任务向网络边缘迁移的相关研 究，其中典型的模型包括：分布式数据库模型、P2P（Peer to Peer）模型、CDN模型、移动边缘计算模型、 雾计算模型及海云计算模型。


分布式数据库系统有如下特性::

    1. 数据独立性
    2. 数据共享性
    3. 适当增加数据冗余度
    4. 数据全局一致性、可串行性和可恢复性

P2P的特点包括::

    1. 非中心化
    2. 可扩展性
    3. 健壮性
    4. 高性价比
    5. 隐私保护

从狭义角度讲，CDN以一种新型的网络构建方式，在传统的IP网中作为特别优化的网络覆盖层用于大 宽带需求的内容分发和储存。从广义角度讲，CDN是基于质量与秩序的网络服务模式的代表。

移动边缘计算（Mobile Edge Computing，MEC）通过将传统电信蜂窝网络和互联网业务深度融合，大 大降低了移动业务交付的端到端时延，进而提升用户体验，无线网络的内在能力被成功发掘。这一概念不 仅给电信运营商的运作模式带来全新变革，而且促进新型的产业链及网络生态圈的建立。

雾计算（Fog Computing）是在2011年年初由哥伦比亚大学的斯特尔佛教授（Prof.Stolfo）首次提出的， 旨在利用“雾”阻挡黑客入侵。2012年，雾计算被思科公司定义为一种高度虚拟化的计算平台，中心思想是将云计算中心任务迁移到网络边缘设备上。

雾计算和边缘计算两者的主要区分是雾计算关注后端分布式共享资源的管理，而边缘计算在强调边缘基础设施和边缘设备的同时，更关 心边缘智能的设计和实现。



第2章 边缘计算基础资源架构技术
==============================

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/xpDApH.png

   实际应用场景的最大允许时延要求



第3章 边缘计算软件架构
======================

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/MTbrOn.png

   边缘的硬件基础设施

边缘平台操作系统
----------------

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/PH6rwF.png

   以Docker技术为标准的边缘软件系统主要包含: 1.容器主机操作系统; 2.容器基础操作系统。容器中运行的可以是一个完整的基础操作系统，也可以是精简的或者更加轻量级的操作系统，甚至可以只包含应用程序和必要的依赖库而没有完整的操作系统。若没有硬件VT-X和容器虚拟化的支持，容器中的内核共享主机系统的内核。出于对安全性的考虑，越来越多的方案会考虑使用具有硬件虚拟化隔离能力的Kata容器。


1. 容器主机操作系统::

    运行在物理主机或者虚拟机之上。
    Docker的客户端和守护进程运行在主机操作系统中，启动和管理Docker容器。
    比较有代表性的有CoreOS、Atomic、RancherOS、Clear Linux。

2. 容器基础操作系统::

    运行在单独的Docker容器内，
    云端根据业务可以定制容器基础操作系统的镜像，然后部署在边缘侧。
    如果容器的主机操作系统是基于Linux系统的，那么容器基础操作系统不是必需的。
    根据业务和应用场景，基础操作系统的选择比较广泛，例如:
        OpenWrt着重提供网络工具的依赖
        Clear Linux提供英特尔指令集的性能优化等


.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/N5fZof.png

   主流的主机操作系统及对比


Clear Linux系统及其特点::

    英特尔公司开发的开源Linux发行版，
    具有滚动升级、性能的指令级别优化、自动化的DevOps工具等功能，
    主要应用于云计算和边缘计算场景。

    具体的特点有:
    1. 支持AutoFDO技术。编译程序时进行自动优化。
    2. 集成了编译器的FMV（函数多版本）技术。
        GCC4.8提供的自动使用硬件体系架构的优化指令集，
        针对一个函数编译出多个版本，运行时会根据当前的硬件体系架构执行不同的版本，
        同一个操作系统的镜像将自动适配不同的硬件体系架构。 
    3. 集成了Kata容器，提供硬件虚拟化的安全隔离。
    4. 性能。基于编译时优化和函数多版本技术，
        Clear Linux提供的二进制在默认情况下就包含了硬件架构提供的指令集优化。
    5. 无状态设计。Clear Linux将操作系统和用户配置完全地隔离开来。
    6. 模块化的设计。
        Clear Linux提出了Bundle的概念，将模块化的功能和所依赖的库包装在一个 Bundle中，
        解决了传统Linux发行版中复杂的包依赖问题。
    7. Mixer工具。
        Clear Linux提供了镜像定制工具，
        可以很方便地为云计算、边缘设备等各种应用场景定制镜像
    8. 先进的软件更新能力。
        Clear Linux提供基于操作系统的整体更新和差异化更新方式
    9. 安全。
        Clear Linux发行版自身的DevOps提供了自动跟踪、更新上游软件的能力，
        及时为多达4000个上游软件包集成安全补丁


第4章 边缘计算安全管理
======================

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/9q7j52.png

   典型的信息系统安全框架: 根据安全框架，信息系统安全可从技术角度描述为“对信息与信息系统的固有属性的攻击与保护的过程”。它围绕着信息系统、信息自身及信息利用的安全六要素，以密码理论和应用安全技术为理论基础，具体反映在物理安全、运行安全、数据安全、网络安全四个方面。同时，在安全框架的各个技术层面上都需要安全管理，包括相关人员管理、制度和原则方面的安全措施，以及企业应对行业要求、外部合规要求等所需要采 取的管理方法和手段等。

信息系统安全目标
----------------

安全需求目标六要素::

    1. 机密性
        机密性反映了信息与信息系统不可被非授权者利用
    2. 完整性
        完整性反映了信息与信息系统的行为不可被伪造、篡改、冒充
    3. 可用性
        可用性反映了信息与信息系统可被授权者正常使用
    4. 可控性
        可控性反映了信息的流动与信息系统可被控制者监控
    5. 不可否认性
    6. 可追溯性
        不可否认性和可追溯性则属于上述四个基本属性的某个侧面的突出反映和延展，
        强调对信息资源的保护以及对信息及信息系统行为的审计能力


1. 机密性::
  
    机密性是指阻止非授权者阅读信息，
    它是信息安全主要的研究内容之一，也是信息安全一诞生就具有的特性。
    通俗地讲，就是未授权的用户不能获取保密信息。
    对传统的纸质文档信息进行保密相对比较容易，
        只需要保管好原始文件，避免被非授权者窃取即可。
    而对于计算机及网络环境中的信息，
        不仅要防止非授权者对信息接触，也要阻止授权者将敏感信息传递给非授权者，以致泄漏信息
    常用的机密技术包括：
      a. 防辐射（防止有用信息以各种途径辐射出去）、
      b. 防侦收（使对手接触不到有用的信息）、
      c. 信息加密（使用加密算法对信息进行加密处理。
          即使非授权者得到了加密后的信息也会因为没有密钥而无法翻译出有效信息）、
      d. 物理保密（利用物理方法保护信息不被泄露，如限制、隔离、掩蔽、控制等措施）。


2. 完整性::

    完整性是指防止信息被未经授权者篡改，
    它是指信息保持原始状态，使信息保有其真实性。
    信息如果被蓄意地编辑、删除、伪造等，形成了虚假信息，将带来严重的后果。
    完整性是一种面向信息的安全性，它要求信息在生成、存储和传输过程中的正确性。
    完整性与机密性不同，
        机密性针对信息不被泄露给未授权的人，而完整性则要求信息不被各种原因破坏。
    造成信息被破坏、影响信息完整性的主要因素有：
      a. 设备故障
      b. 误码
          传输、处理和存储过程中产生的误码
          各种干扰源造成的误码
          定时的稳定度和精度降低造成的误码
      c. 计算机病毒
      d. 人为攻击等

3. 可用性::

    可用性是指授权主体在需要访问信息时获得服务的能力。
    可用性是在信息安全保护阶段对信息安全提出的新要求，
        也是网络化信息中必须满足的一项信息安全要求。
    在网络信息系统中，向用户提供服务是最基本的功能，然而用户的需求是多样的、随机的，有时还伴随时间要求。
    可用性的度量方式一般为系统正常使用时间和整个工作时间之比，表示用户的需求在一定时间范围内获得响应。
    可用性还应该满足以下要求:
        a. 身份管理访问控制，即对用户访问权限的管理，访问控制为经过身份认证后的合法用户提供所需的、权限内的服务，同时拒绝用户的越权服务请求；
        b. 业务流控制，采取均分负荷方式，避免业务流量过度集中 从而引发网络阻塞；
        c. 路由选择控制，选择那些稳定可靠的子网、链路或中继线等；
        d. 审计跟踪，把网络信息 系统中发生的所有安全事件存储在安全审计跟踪之中，便于分析原因，分清责任，及时采取相应的措施，主要包括事件类型、事件时间、事件信息、被管客体等级、事件回答以及事件统计等方面的信息。


4. 可控性::

    可控性是指可以控制或限制授权范围内的信息流向及行为方法，是对网络信息内容及传播控制能力的描述。
    为了确保可控性:
    a. 首先，系统要可以控制哪些用户以及以何种方法和权限来访问系统或网络上的数据，通常是通过制定访问控制列表等方法来实现的；
    b. 其次，需要对网络上的用户进行权限验证，可以通过握手协议等认证机制对用户进行验证；
    c. 最后，要把该用户的所有事件记录下来，便于进行审计查询。 

5. 不可否认性::

    不可否认性也称作不可抵赖性，
      通过建立有效的责任机制，在网络信息系统的信息交互过程中，确保参与者的真实同一性，
      即所有参与者都无法否认或抵赖曾经完成的承诺和操作。
    a. 利用信息源证据可以防止发信方否认已发送信息，
    b. 利用递交接收证据可以防止收信方事后否认已经接收的信息。
    一般通过数字签名 原理可以实现。 

6. 可追溯性::

    确保实体的行动可被跟踪。
    可追溯性通常也被称作可审查性，它是指对各种信息安全事件做好检查和记录，
    以便出现网络安全问题时能提供调查依据和手段。
    审查的结果通常可以用作责任追究和系统改进的参考。

信息系统平台安全
----------------

1. 物理安全::

    物理安全是指对计算机与网络设备的物理保护，
    会涉及网络与信息系统的机密性、可用性、完整性、 生存性、稳定性、可靠性等基本属性。
    面对的威胁主要包括:
        自然灾害、设备损耗与故障、能源供应、电磁泄漏、通信干扰、信号注入、人为破坏等；
    主要的保护方式有:
        电磁屏蔽、加扰处理、数据校验、冗余、容 错、系统备份等。 

2. 运行安全::

    运行安全是指对计算机与网络设备中的信息系统的运行过程和运行状态的保护。
    主要涉及网络与信息系统的:
      可用性、真实性、可控性、唯一性、合法性、可追溯性、生存性、占有性、稳定性、可靠性等；
    面对的威胁包括:
      系统安全漏洞利用、非法使用资源、越权访问、网络阻塞、网络病毒、黑客攻击、
      非法控制 系统、拒绝服务攻击、软件质量差、系统崩溃等；
    主要的保护方式有:
      防火墙、物理隔离、入侵检测、病毒 防治、应急响应、风险分析与漏洞扫描、
      访问控制、安全审计、降级使用、源路由过滤、数据备份等。 

3. 数据安全::

    数据安全是指:
        对信息在数据收集、存储、处理、传输、检索、交换、显示、扩散等过程中的保护，
        使得在数据处理层面保障信息并依据授权使用，不被非法冒充、泄露、篡改、抵赖。
    主要涉及信息的:
        机密性、实用性、真实性、完整性、唯一性、生存性、不可否认性等；
    面对的威胁包括:
        窃取、伪造、篡改、密 钥截获、抵赖、攻击密钥等；
    主要的保护方式有:
        加密、认证、鉴别、完整性验证、数字签名、非对称密钥、秘密共享等。

4. 网络安全::
  
    网络安全是指对信息在网络内流动中的选择性阻断，以保证信息流动的可控能力。
    被阻断的对象是:
      可对系统造成威胁的脚本病毒、
      无限制扩散消耗用户资源的垃圾类邮件、
      导致社会不稳定的有害信息等。
    主要涉及信息的机密性、可用性、真实性、完整性、可控性、可靠性等；
    所面对的难题包括:
      信息不可识别 （因加密）、信息不可阻断、信息不可更改、信息不可替换、
      系统不可控、信息不可选择等；
    主要的保护手段是:
      形态解析或密文解析、信息的阻断、流动信息的裁剪、信息的过滤、信息的替换、系统的控制等

边缘计算安全
------------

由于边缘计算存在分布式架构、异构多域网络、实时性要求、数据的多源异构性、感知性以及终端的资源受限等特点，传统云计算环境下的数据安全和隐私保护机制无法适用于边缘设备产生的海量数据防护。数据的计算安全、存储安全、共享安全、传播和管控以及隐私保护等问题变得越来越突出。

优势::

    1. 数据是在离数据源最近的边缘节点上存储和分析，这种本地处理方式使得攻击者难以接近数据
    2. 数据源端设备和云之间没有实时信息交换，窃听攻击者难以感知任何用户的个人数据


边缘计算的安全性仍然面对以下诸多挑战::

    1. 核心设施安全
    2. 边缘服务器安全
    3. 边缘网络安全
    4. 边缘设备安全

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/rofZ7N.png

   边缘计算平台安全框架


边缘计算安全技术
----------------

数据保密
^^^^^^^^

在边缘计算中，用户私有数据被外包到边缘服务器，因此数据的所有权和控制权是分开的，这样便导致用户失去了对外包出去的数据的物理控制。此外，存储在外部的敏感数据面临着数据丢失、数据泄露、非法操作等风险。

1. 基于身份加密
"""""""""""""""

基于身份加密（Identity-Based Encryption，IBE）最早是在电子邮件系统中作为简化的证书管理方案被提出的。

这种方案允许任意一对用户进行安全的沟通，验证双方的签名而不需要交换私钥和公钥，不需要保留关键目录，不使用第三方服务。该方案允许用户选择任意字符串作为公钥，以此向其他方证明己方身份。相比于传统的公钥加密技术，基于身份加密方案中用户的私钥是由私钥生成器生成的，而不是由公共证书颁发机构或用户生成的。

该方案主要包括三个阶段::

    1. 加密，当用户A向用户B发送邮件时，用户B的邮件地址会被作为公钥对邮件进行加密
    2. 身份验证，用户B收到加密邮件后，需要验证自身身份，从私钥生成器获取私钥
    3. 解密，用户B对邮件解密获取其中内容

基于身份的加密体制可以看作一种特殊的公钥加密，它有如下特点::

    1. 系统中用户的公钥可以由任意的字符串组成。
        这些字符串可以是用户在现实中的身份信息，如:
        身份证号码、用户姓名、电话号码、电子邮 箱地址等。
    2. 因为公钥本质上就是用户在系统中的身份信息，
        所以基于身份加密的系统解决了证书管理问题和公钥真实性问题。

基于身份加密体制的优势在于::

    1. 用户的公钥可以是描述用户身份信息的字符串，也可以是通过这些字串计算得到的相关信息
    2. 不需要存储公钥字典和处理公钥证书；
    3. 加密消息只需要知道解密者的身份信息就可以进行加密，
        而验证签名也只需要知道签名者的身份就可以进行验证。

2. 基于属性加密
"""""""""""""""

Sahai和Waters两位密码学家为了改善基于生物信息的身份加密系统的容错性能，在2005年欧洲密码年 会上发表了《模糊基于身份加密方案》，在这篇文章中首次公开提出了基于属性加密（Attribute-Based Encryption，ABE）的概念。

基于属性加密的系统采取用户的属性集合来表示用户的身份，这是与基于身份
加密根本的区别。在基于身份加密系统中，只能用唯一的标识符表示用户的身份。而在基于属性加密系统 中，属性集合可以由一个或多个属性构成。从用户身份的表达方式来看，基于属性加密的属性集合比基于 身份加密的唯一标识符具有更强、更丰富的表达能力。

基于属性加密可以看作是基于身份加密的一种拓展，是把原本基于身份加密中表示用户身份的唯一标 识扩展成为可以由多个属性组成的属性集合。从基于身份加密体制发展到基于属性加密体制，这不仅使用 户身份的表达形式从唯一标识符扩展到多个属性，同时还将访问结构融入属性集合中。换句话说，可以通 过密文策略和密钥策略决定拥有哪些属性的人能够访问这份密文，使公钥密码体制具备了细粒度访问控制 的能力。


3. 代理重加密
"""""""""""""

.. note:: 有很多公开的密文，它们是用 A 的公钥所加密的，当然，A 是可以解密这些密文的，现在，如果 A 想让 B 也可以去解密这些密文，你怎么做呢？当然，A 可以对这些密文逐个解密，然后再用 B 的公钥加密并发送给 B，这样 B 就可以解密了。如果再加个条件，比如 A 的算力有限，不能承受先解密再加密这些操作，那怎么办呢？这便可以用代理重加密来解决了，A 只需发给 B 一个转化 token，B 利用这个 token，便可以解密。

基于用户数据隐私性考虑，用户存放在云端的数据都是加密形式存在的。而云环境中存在着大量数据共享的场景。由于数据拥有者对云服务提供商并不完全信任，不能将解密密文的密钥发送给云端，由云端来解密并分享出去。数据拥有者自己下载密文解密后，再用数据接收方的公钥加密并分享，无疑给数据拥有者带来很大的麻烦，同时也失去了云端数据共享的意义。代理重加密可以在不泄漏数据拥有者解密密钥的情况下，实现云端密文数据共享。

功能：借助云平台强大的存储能力，数据拥有者将数据利用对称密钥加密，把得到的密文存储于云端，并利用数据拥有者的公钥加密对称密钥把得到的密文也上传存储到云端。当数据拥有者 Alice 想要对 Bob 进行数据共享时，数据拥有者 Alice 根据自己的解密密钥和 Bob 的加密密钥生成一个重加密密钥，并发送给云端。云端服务器利用自己强大的计算能力并结合重加密密钥对进行重加密的操作，把得到的密文也存储在云端。然后 Bob 从云端服务器上下载，并利用自己的私钥解密得到对称密钥，然后利用对称密钥解密就得到了原始的明文。由此来达到密文共享的目的，而且在这整个过程中并不泄露 Alice 的私钥。由于本方案在云端采用 Hadoop 和 Spark 的框架，因此具有很高的存储和计算能力，可以及时响应用户的请求，完成用户的上传、计算和下载的操作，因此可以达到动态共享的目的。




* 参考-代理重加密 Proxy Re-Encryption: https://blog.csdn.net/Black_BearB/article/details/81228030
* 参考-代理重加密有什么优势: https://www.zhihu.com/question/457068413/answer/1862436926


4. 同态加密
"""""""""""

在通常的加密方案中，用户无法对密文进行除存储和传输之外的操作，否则会导致错误的解密，甚至 解密失败。同时，用户也无法在没有解密的情况下，从加密数据中获取任何明文数据的任何信息。

与传统加密技术不同，同态加密在没有对数据解密的情况下就能对数据进行一定操作。同态加密允许对密文进行特定的代数运算得到仍是加密的结果。也就是说，同态加密技术的特定操作不需要对数据进行解密。从而用户可以在加密的情况下进行简单的检索和比较，并且可以获得正确的结果。因此云计算运用同态加密技术可以运行计算而无须访问原始未加密的数据。

如果有一个加密函数f ，把明文A 变成密文A′，把明文B 变成密文B′，也就是说f（A）=A ′， f（B）=B′。另外，还有一个解密函数f^-1 能够将f 加密后的密文解密成明文。如果将A′和B′相加得到C′，如果f 是一个可以进行同态加密的加密函数，对C′使用f^-1 进行解密可以得到结果C，这时C=A+B。这样，可以分离数据所有权与数据处理权。企业既利用了云服务的算力，也防止了自身数据泄露。

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/nsl4VZ.png

   同态分类


5. 可搜索加密
"""""""""""""

可搜索加密来源于这样一个问题：用户A 把所有的文件都存放在服务器或云端，但是为了保证文件的 隐私性，采用了某种加密方法，把文件加密过后再存储在服务器或云端。只有用户A 才有密钥解密这些文件。当A 需要在执行基于关键词的检索操作时，需要先把大量的文件下载解密再进行检索。这样的操作方 式不仅占用本地和网络的大量资源，而且耗费大量的时间，效率低下。 可搜索加密技术为了解决这个难题提出了基于密文进行搜索查询的方案

可搜索加密过程可以分为4个步骤::

    1. 文件加密。
        用户在本地使用密钥把所有的明文进行加密，发送并存储在云端。
    2. 生成陷门。
        具备检索能力的用户，把待查询的关键字加密生成陷门，并发送到云端。
        其他用户或云服务商无法从陷门中获取关键词的任何信息。
    3. 检索过程。
        服务器或云端使用关键词陷门作为输入，执行检索操作，并把执行结果返回给用户。
        在这个过程中，云服务商除了能知道哪些文件包含有检索的关键字，无法获得更多信息。
    4. 下载解密。
        用户从云端下载文件并通过密钥解密密文，生成包含关键词的明文。

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/M8rFzr.png

   可搜索加密策略分类：『对称可搜索加密』在加解密过程中均采用相同的密钥进行包括关键词陷门的生成，所以具有计算开销 小、速度快、算法简单的特点，适用于解决单用户模型的搜索加密问题。用户使用密钥加密个人文件并上传至服务器。检索时，用户通过密钥生成待检索关键词陷门，服务器根据陷门执行检索过程后返回目标密文。『非对称可搜索加密』和对称可搜索加密不同，其在加解密过程中将使用两种密钥：公钥用于明文信息的加密和目标密文的检索，私钥用于生成关键词陷门和解密密文信息。由此非对称可搜索加密算法比对称加密算法更复杂，加解密速度较慢。然而，其公私密钥的非对称加密方式非常适用于多对一模式的可搜索加密问题：数据发送者使用数据接收者的公钥对明文信息以及关键词索引进行加密，当需要检索时，接受者使用私钥生成待检索关键词陷门。服务器或云端通过陷门执行检索算法后，返回包含关键词的密文。该过程可以避免发送者和接收者之间的直接数据通道和安全问题，具有较高的实用性。


数据完整性
^^^^^^^^^^

关于数据完整性的研究主要集中在以下四个方面::

    1. 动态审计。
        数据完整性审计方案应该具有动态审计功能，因为数据通常在外包服务器中动态更新。
    2. 批量审计。
        数据完整性审计方案应支持大量用户在多边缘数据中心同时发送审计请求或数据的批处理操作
    3. 隐私保护。
        通常是完整性审计由第三方审计平台实施，
        因为数据存储服务器和数据所有者不能提供公正和诚实的审计结果。
        在这种情况下，当第三方审计平台是半可信或不可信时，就很难确保数据隐私。
    4. 低复杂度。
        低复杂度是数据完整性设计中的重要性能标准，它包括低存储开销、低通信成本和低计算。


身份认证
^^^^^^^^

合适的认证方法包 括单域认证、跨域认证和切换认证::

    1. 单域认证。
        单个信任域中的身份验证主要用于解决每个实体的身份分配问题。
        边缘计算的实体必须在他们获得服务之前从授权中心进行身份验证。
        2015年，Tsai和Lo提出了一个分布式移动设备的匿名身份验证方案，
            以提高移动用户访问多个移动云的安全性和便利性。
            来自多个服务提供商的服务仅使用一个私钥。
            该方案还支持相互认证、密钥交换、用户匿名和用户不可追踪性，
            并且安全强度基于双线性配对密码系统和动态随机数生成。
        最近，Mahmood等人提出了一种基于椭圆曲线密码系统ECC的轻量级认证方案，
            可以提供相互身份验证并且防止所有已知的安全攻击。
    2. 跨域认证。
        目前，关于边缘服务器的不同信任域实体之间的认证机制尚未形成完整的理论方法。
        在这种情况下，一个可行的研究思路是从其他相关领域中寻找这个问题的解决方案，
          例如多个云服务之间的身份验证。
        云计算中的提供者可以看作是边缘计算中跨域认证的一种形式，
          所以多云中的认证标准（如 SAML，OpenID）可以用于参考。
    3. 切换认证。
        在边缘计算中，移动用户的地理位置经常会发生变化，传统的集中认证协议不适合这种情况
        切换认证是一种为了解决高移动性用户认证问题而研究的认证传输技术。
        2016年，YANG等人提出了一种新的用于移动云网络的切换认证，
          允许移动客户端从一个区域匿名迁移到另一个区域。
          该方案使用椭圆曲线算法的认证协议，
          在身份验证中加密以保持客户端的身份和位置在身份验证传输过程中始终隐藏。


访问控制
^^^^^^^^

::

    1. 基于属性访问控制。
        2010年，YU等人首先提出了一个安全、可扩展的细粒度数据访问控制方案，
          采用了基于属性的加密（ABE）、代理重加密（PRE）。
          这种访问控制方案一方面实现了细粒度的访问策略，同时基于数据属性的控制对半信任的第三方不会公开数据内容和用户访问的任何信息。
        2015年， JIN等人设计了安全和轻量级基于属性的密文数据访问控制方案，
            可以保护外包数据的机密性并提供移动计算中的细粒度数据访问控制，
            大大减少加密和解密操作的计算开销，同时提高整体系统性能。
    2. 基于角色访问控制。
        基于角色访问控制的基本思想是：
            对系统操作的各种权限不是直接授予具体的用户，
            而是在用户集合与权限集合之间建立一个角色集合。
        每一种角色对应一组相应的权限。
            一旦用户被分配了适当的角色后，该用户就拥有此角色的所有操作权限。
        这样做的好处是，不必在每次创建用户时都进行分配权限的操作，
            只要分配用户相应的角色即可，而且角色的权限变更比用户的权限变更要少得多，
            这样将简化用户的权限管理，减少系统的开销。

隐私保护
^^^^^^^^

::

    1. 数据隐私
    2. 身份隐私
    3. 位置隐私


边缘计算安全威胁
----------------

1. 基础设施威胁::

    边缘基础设施容易受到多种类型的攻击。
    例如，分布式拒绝服务攻击和无线干扰可以很容易地消耗带宽、频带和边缘处的计算资源。

2. 隐私泄露::

    边缘计算设备由于更靠近终端设备，因而可以收集到更多敏感的、高价值的用户信息

3. 虚拟机的分布式图像
4. 干扰攻击::

    伪基站

5. 弱认证


第5章 边缘计算应用案例
======================

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/ikrhCg.png

   边缘计算在商业中的应用场景


智慧城市
--------

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/0OWvZ6.png

   智慧城市边缘云计算架构


“云-边-端”三层架构的价值在于::

    1. 提供AI云服务能力。
        边缘视频汇聚节点对接本地的监控摄像头，对各种摄像头提供AI云服务能力。
        云端可以随时定义和调整针对原始视频的AI推理模型，
          可以支持更加丰富、可扩展的视觉AI应用。
    2. 视频传输稳定可靠。
        本地的监控摄像头到云中心的距离往往比较远，专网传输成本过高，
        而公网直接传输难以保证质量。
    3. 节省带宽。

无人零售
--------

新零售中的边缘云计算应用特征::

    1. 本地化。
        各门店视频流的生成、采集、分析、管理等环节主要在本地进行，流量跨区情况少。 
    2. 多机构。
        与传统单门店系统不同，客户会在本地有多家分支机构，
        视频监控流需要统一汇聚、分析和管理。
    3. AI分析。


.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/PmnbJF.png

   新零售行业边缘云计算架构

边缘云计算系统组成::

    1. 视频采集层。
        门店对视频数据进行采集，仅配置监控摄像头及必要的网络设备，
            不再需要配置大量的计算和存储设备。
        各门店以专线接入同城边缘节点，实时上传视频监控流。
    2. 视频分析层。
        边缘节点为同城各门店提供基础设施服务以承载AI分析、视频结构化解析、回放存 储等，
        替换原本在门店中的物理服务器组。
        边缘节点以优选公网链路回传至云中心。
    3. 视频管理层。
        中心云的相关平台对接全网上报的数据，
        统一做运营管理、人工审核、关键数据的 持久存储等。

自动驾驶
--------

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/jQcFdG.png

   SAE自动驾驶汽车分级标准

自动驾驶边缘计算平台的特点主要包括如下几点::

    1. 负载整合
    2. 异构计算
    3. 实时性
    4. 连接性
    5. FuSa功能安全
    6. 安全性

1.负载整合
^^^^^^^^^^

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/rGwKON.png

   自动驾驶负载整合

2.异构计算
^^^^^^^^^^

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/PuVdNi.png

   不同硬件平台适合负载类型的比较

3.实时性
^^^^^^^^

如果要使 汽车在100km/h时速条件下的制动距离不超过30m，那么系统整体响应时间不能超过100ms，这与最好的F1 车手的反应时间接近。将自动驾驶的响应实时地划分到对其边缘计算平台各个功能模块的要求，包括::

    · 对周围目标检测和精确定位的时间：15～20ms。 
    · 各种传感器数据融合和分析的时间：10～15ms。 
    · 行为和路径规划时间：25～40ms。

4.连接性
^^^^^^^^

现车辆与一切可能影响车辆的实体实现信息交互，包括::

    1. 车人通信 （V2P）
    2. 车网通信（V2N）
    3. 车辆之间通信（V2V）
    4. 车路通信（V2I）

5.安全性
^^^^^^^^

自动驾驶边缘平台的安全性问题也愈加突出::

    · 越来越多网络化、智能化车载控制器：BCM、IMMO、PKE/RKE、TBOX、IVI、ADAS等
    · 越来越多网络化、智能化的车载传感器：TPMS、Camera、LIDAR、RADAR等
    · 越来越多输入口、接口层和代码：OBD、CAN、无线、手机、云等
    · 越来越多云端控制权、无人驾驶操控权：远程管理、频繁OTA、远程驾驶、远程手机控制等
    · 越来越小集成化、成熟度高的车载通信：4G/5G、Wi-Fi、蓝牙、NFC、RFID

智能电网
--------

引入 边缘计算的主要原因：能源的发、储、配、用对数据实时性要求高；能源电力系统数据规模呈指数级的增长对通信和网络存储而言是极大的考验。


智慧医疗
--------

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/52GFLN.png

   边缘计算针对医疗一体化解决方案

智能家居
--------

边缘计算在智能家居中主要包括三个层次的意义::

    1. 轻松管理家庭 
        · 简化重复工作，降低重复率，节省时间。 
        · 帮助人们更好地了解家庭资源并充分利用它们，从而节省金钱。 
        · 降低人们由于需要记住预约活动或重复任务而带来的焦虑。 
    2. 丰富家庭生活 
        · 扩展人们在某些兴趣活动上的技能。 
        · 延伸人们在家庭生活中能覆盖的范围。 
        · 帮忙人们始终保持对日常活动中紧急信息的了解。 
    3. 保证心理安定 
        · 降低由于潜在的家庭资产损失导致的心理焦虑。 
        · 消除对家庭中潜在危险的担心。 
        · 提高对于家庭其他成员安全和健康的信心。


智能家居应用场景::

    1. 安全监控
        例如智能网络摄像头、智能猫眼、智能门锁等。
        智能网络摄像头能够通过人脸或特征识别功能来识别危险，拉响警报或提示家庭主人，
        并能够与本地或云端存储和应用服务接口，这样家庭主人也能够在离家时实时得知家庭情况。
    2. 智慧能源和照明
        例如智能门窗、智能灯泡和恒温器
        学习型的恒温器，内置多种传感器，可不间断监控室内的温湿度、光线等变化。
    3. 家庭娱乐
        包括智能电视、PC和手机游戏、虚拟现实以及各种游戏终端等。
        一方面需要提高网络 带宽，降低传输时延从而提高用户体验，
            特别是对于VR、网络游戏、2K蓝光或4K超高清多媒体内容的播放等
        另一方面需要管理和存储家庭多媒体内容，
            并能够方便无缝地在各种家庭终端设备上进行显示和播放。
    4. 智慧健康
        实现对于家庭成员健康不间断的监测，协助进行健康分析和判断。
        并与家庭或社区医院进行信息同步或通信，例如老人或小孩看护等。 
    5. 智能家电
        例如智能冰箱
        在某种食材不足的时候能够自动识别出来，及时通知家庭主人或实现自动下单补给。


1.智能家居边缘架构
^^^^^^^^^^^^^^^^^^

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/DNlnH0.png

   智能家居边缘计算架构


（1）智能设备接入和抽象::

    实现不同网络的连接和协议的转换。
    网关可以融合多种技术实现跨协议的 互联互通，包括WAN、LAN、WLAN、PAN。
    一些新的技术，如蓝牙5.0、LPWA（NB-IoT、LoRa），也为智能家居的网络接入提供了更多选择
    不同协议通过插件方式来支持和管理，然后转换为统一的表达方式，并抽象出统一格式的服务接口

（2）边缘分析引擎::

    包括传感器数据分析、本地语音识别、语音事件检测、语音播放、视觉分析等功能。
    分析引擎能够对采集的温度、湿度、声音或视频等敏感数据在本地（边缘端）进行暂存和分析，
    然后将分析处理结果直接返回，或将分析后的脱敏数据发送到云端进行进一步分析或长期保存。
    例如:
    特征声识 别算法（ACA）运行在本地，当检测到非家庭成员进入房间时直接返回结果并触发报警；
    由于本地存储空间的限制，自然语义理解功能一般运行在云端

（3）本地规则引擎::

    根据不同的需求通过本地的用户界面创建规则，配置相应动作，实时下载到网关设备执行。
    规则引擎也存在于云端，用户可以远程设定、下载和执行规则

（4）设备管理和安全::

    设备管理主要包括设备上下线、设备状态监测、设备固件更新、软件升级等。
    设备安全不仅仅包括设备端，还包括连接安全、网关侧安全以及云端服务安全等。

（5）应用框架::

    通过应用框架提供的服务接口，第三方客户可以方便地使用方案中提供的服务，
    例如 语音服务、智能设备的通信服务等。
    好处: 客户不需要了解硬件平台和智能设备协议的差异性，从而实现定制化应用的快速开发和部署

（6）云服务本地代理::

    云服务本地代理用于集成不同云服务的本地SDK、从而实现与不同云服务的对 接，
    丰富服务内容，并实现智能家居的远端监控和管理，
    例如阿里巴巴的Link Edge SDK、百度的DuerOS、 腾讯的WeChat IoT SDK等。


2.基于深度学习的语音识别
^^^^^^^^^^^^^^^^^^^^^^^^

本地语音识别算法主要包括以下几个步骤::

    1）语音前置处理。
        包括回声消除、波束成形、抗混响、降噪等。
    2）特征提取。
        提取反映语音信号特征的关键特征参数，形成特征矢量序列。
        常用的是由频谱衍生出来的Mel频率倒谱系数（MFCC）。
    3）声学模型匹配。
        根据训练语音库的特征参数训练出声学模型参数，
        识别时将待识别的语音特征参数与声学模型匹配，得到识别结果。
    4）语音解码。
        即语音技术中的识别过程。

3.智能家居标准协议
^^^^^^^^^^^^^^^^^^

推动定义和打造一个通用、互操作的智能家居标准协议是智能家居进一步发展的重要基石。


智能工厂
--------

边缘计算的技术和架构在智能制造中的发展中一般需要经历三个阶段::

    1）连接未连接的设备
    2）智慧边缘计算
    3）自主系统

.. figure:: https://img.zhaoweiguo.com/uPic/2022/04/3MSWy9.png

   边缘计算节点部署方式


第6章 边缘计算发展展望
======================

边缘计算规模部署主要面临以下六个方面的挑战::

    1. 体系架构规范化
        固定互联网、移动通信网、消费物联网、工业互联网等不同网络接入和承载技术，
        导致边缘计算各具体应用的技术体系存在一定的差异性和极限性。
        边缘计算的系统架构需要不断整合容纳各领域技术，加快边缘计算体系标准化、规范化建设，
        从而实现跨行业系统的互通信、网络的 实时性、应用的智能性、服务的安全性等。
    2. 一套系统架构满足不同业务需求
        学术理论和工程应用技术日趋完善，以业务特性定义系统架构的设计思路成为主流。
        边缘计算业务呈现多样化，以一套商用边缘计算系统架构满足不同的业务需求成为难点和挑战
        针对完整的“云-边-端”商业应用部署，边缘计算系统架构需要联动云和端设计，
            打破边界或模糊边界的架构需求，对从事边缘系统设计和开发的技术人员的知识深度和广度提出了更高的要求。
            若要基于软件定义设备、虚拟化、容器隔离、微服务等关键技术，打造一个支撑边缘计算的通用型操作系统，
            能实现云端业务扩展到边缘，并可部署在电信设备、网关或者边缘数据平台等不同位置，还需要更多的商业应用案例去验证。
    3. 产业推进难度很大
        实施角度: 行业设备专用化，过渡方案能否平滑升级、新技术方案能否被企业接受还需考验；
        产业角度: 工业互联网、物联网技术方案碎片化，跨厂商的互联互通和互操作是很大的挑战
            边缘计算需要跨越计算、网络、存储等方面进行长链条的技术方案整合，难度更大。
    4. 边缘计算规模部署商业模式需要进一步探索
        边缘计算平台将传统的云服务业务下沉，在边缘侧 提供计算、网络、存储、应用和智能，
            现有的网络运营商需要重新制定计费规则；
        边缘计算技术研发、标准化工作涉及:
            互联网企业、通信设备企业、通信运营商、工业企业等多方利益，
            如何建立共赢的商业模式也面临挑战。 
    5. 安全隐私存在挑战
        边缘计算中基于多授权方的轻量级数据加密与细粒度数据共享，
            多授权中心的数据加密算法复杂，目前可借鉴的工程案例很少。
        边缘计算分布式计算环境下的多源异构数据传播管控和安全管理是业界前沿课题，
            由于数据所有权和控制权相互分离，通过有效的审计验证来保证数据的完整性尤为重要
        由于边缘设备资源受限，传统较为复杂的加密算法、访问控制措施、身份认证协议和隐私保护方法在边缘计算中无法适用
        边缘设备产生的海量数据涉及个人隐私，安全和隐私保护是边缘计算商用部署必须解决的问题
    6. 创新和风险并存
        边缘侧实现增值服务、价值创新的关键在于数据的分析和应用、能力的开放和协同。
        作为一种创新的计算架构，实现边缘计算的增值服务，需要桥接云和端，
            架构需要启用微服务、智能化分层等技术。新技术的演进对于商业应用落地势必存在风险
















