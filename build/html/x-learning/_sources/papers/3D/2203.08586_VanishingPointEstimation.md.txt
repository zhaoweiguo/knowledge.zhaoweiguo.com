# 2203.08586: Deep vanishing point detection: Geometric priors make dataset variations vanish

* [https://arxiv.org/abs/2203.08586](https://arxiv.org/abs/2203.08586)
* GitHub: [https://github.com/yanconglin/VanishingPoint_HoughTransform_GaussianSphere](https://github.com/yanconglin/VanishingPoint_HoughTransform_GaussianSphere)
* Google Scholar(28, 2025-04-21)
* ç»„ç»‡: Delft University of Technology, The Netherlands



## æ¦‚å¿µ

* æ¶ˆå¤±ç‚¹ï¼ˆVanishing Pointï¼‰
    - åœ¨äºŒç»´å›¾åƒä¸­ï¼Œä¸‰ç»´ä¸–ç•Œä¸­ä¸€ç»„å¹³è¡Œçº¿åœ¨é€è§†æŠ•å½±(ï¼ˆPerspective Projectionï¼‰)ä¸‹äº¤æ±‡çš„ç‚¹ã€‚
    - æ¶ˆå¤±ç‚¹å°±æ˜¯ä½ åœ¨ç…§ç‰‡é‡Œçœ‹åˆ°çš„ã€Œè¿œæ–¹çš„æ±‡èšç‚¹ã€ï¼Œæ˜¯å¹³è¡Œçº¿åœ¨é€è§†ä¸‹â€œçœ‹èµ·æ¥â€ä¼šäº¤æ±‡çš„åœ°æ–¹ã€‚
    - ä¾‹å­ï¼šç«™åœ¨é“è·¯ä¸Šçœ‹è¿œæ–¹ï¼Œä¸¤æ¡é“è½¨æœ¬æ¥æ˜¯å¹³è¡Œçš„ï¼Œä½†åœ¨ç…§ç‰‡é‡Œï¼Œå®ƒä»¬æœ€ç»ˆæ±‡èšæˆä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹å°±æ˜¯æ¶ˆå¤±ç‚¹ã€‚
    - å¯¹äºå¸¸è§çš„ æ›¼å“ˆé¡¿ä¸–ç•Œï¼ˆå»ºç­‘ç±»å›¾åƒï¼‰ï¼Œå¸¸å¸¸æœ‰ä¸‰ä¸ªä¸»è¦æ¶ˆå¤±ç‚¹ï¼Œåˆ†åˆ«å¯¹åº” ğ‘¥ã€ğ‘¦ã€z ä¸‰ä¸ªæ–¹å‘
    - æ¶ˆå¤±ç‚¹åœ¨å›¾åƒä¸­çš„åº”ç”¨ï¼š
        1. **ä¸‰ç»´ç»“æ„æ¢å¤**
            - ä» 2D å›¾åƒåæ¨å‡ºç›¸æœºå§¿æ€æˆ–ä¸‰ç»´æ–¹å‘ï¼ˆå¦‚å•å›¾é‡å»ºï¼‰
        2. **å›¾åƒæ ¡æ­£ / æ‹‰ç›´**
            - å°†å€¾æ–œçš„å›¾åƒæˆ–é€è§†ç•¸å˜æ ¡æ­£å›æ­£è§†å›¾ï¼ˆå¦‚å»ºç­‘å›¾åƒçŸ«æ­£ï¼‰
        3. **å‡ ä½•å…ˆéªŒæå–**
            - æ¶ˆå¤±ç‚¹å¯ä»¥æ­ç¤ºå›¾åƒä¸­çš„æ–¹å‘ç»“æ„
            - ç»“åˆé«˜æ–¯çƒï¼Œå¯ä»¥ç”¨äºæ–¹å‘èšç±»ã€æ›¼å“ˆé¡¿æ–¹å‘è¯†åˆ«
        4. **è§†è§‰SLAM / AR / æœºå™¨äººå®šä½**
            - ç”¨æ¶ˆå¤±ç‚¹è¾…åŠ©ä¼°è®¡ç›¸æœºæ–¹å‘æˆ–åœºæ™¯ç»“æ„

* éœå¤«ç©ºé—´ä¸­çš„"bin" æ˜¯ä»€ä¹ˆ
    - éœå¤«å˜æ¢ä¼šæŠŠå›¾åƒä¸­çš„ç‚¹æ˜ å°„åˆ°å‚æ•°ç©ºé—´ï¼ˆé€šå¸¸æ˜¯æåæ ‡çš„ Î¸-Ï ç©ºé—´ï¼‰ï¼Œä¸ºäº†è®¡ç®—æœºèƒ½å¤„ç†ï¼Œæˆ‘ä»¬ä¼šæŠŠè¿™ä¸ªç©ºé—´ç¦»æ•£åŒ–ï¼Œä¾‹å¦‚ï¼š
    - Î¸ ä» 0Â° åˆ° 180Â°ï¼Œæˆ‘ä»¬åˆ†æˆ 180 ä¸ªè§’åº¦ï¼ˆæ¯æ ¼ 1Â°ï¼‰
    - Ï ä» -R åˆ° +Rï¼Œæˆ‘ä»¬åˆ†æˆ 256 ä¸ªè·ç¦»æ ¼
    - è¿™æ ·æ•´ä¸ª (Î¸, Ï) å‚æ•°ç©ºé—´å°±è¢«åˆ†å‰²æˆå¾ˆå¤šæ ¼å­ â€”â€”æ¯ä¸ªæ ¼å­å°±æ˜¯ä¸€ä¸ª binï¼Œå®ƒè¡¨ç¤ºä¸€æ¡å…·ä½“çš„ç›´çº¿ï¼



## Abstract


æ ¸å¿ƒæ„æ€ï¼šä½œè€…æå‡ºäº†ä¸€ç§ç»“åˆå‡ ä½•å…ˆéªŒçŸ¥è¯†çš„æ–°æ–¹æ³•ï¼Œç”¨ä»¥æ”¹è¿›å›¾åƒä¸­çš„æ¶ˆå¤±ç‚¹ï¼ˆVanishing Pointï¼‰æ£€æµ‹ï¼Œå°¤å…¶æ˜¯ä¸ºäº†è§£å†³æ·±åº¦å­¦ä¹ æ–¹æ³•å­˜åœ¨çš„å‡ ä¸ªå…³é”®é—®é¢˜ã€‚

---

> **Deep learning has improved vanishing point detection in images.**  
æ·±åº¦å­¦ä¹ å·²ç»æå‡äº†å›¾åƒä¸­æ¶ˆå¤±ç‚¹æ£€æµ‹çš„æ€§èƒ½ã€‚

> **Yet, deep networks require expensive annotated datasets trained on costly hardware and do not generalize to even slightly different domains, and minor problem variants.**  
ä½†æ˜¯ï¼Œæ·±åº¦ç½‘ç»œå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼šéœ€è¦æ˜‚è´µçš„æ•°æ®æ ‡æ³¨ã€ä¾èµ–é«˜æˆæœ¬çš„ç¡¬ä»¶ï¼Œè€Œä¸”å¯¹ç¨æœ‰ä¸åŒçš„é¢†åŸŸæˆ–é—®é¢˜å˜ç§ï¼ˆæ¯”å¦‚ç¨å¾®ä¸åŒçš„æ¶ˆå¤±ç‚¹åˆ†å¸ƒï¼‰æ³›åŒ–èƒ½åŠ›å·®ã€‚

---

> **Here, we address these issues by injecting deep vanishing point detection networks with prior knowledge.**  
æœ¬æ–‡é€šè¿‡å‘æ·±åº¦ç½‘ç»œä¸­æ³¨å…¥**å…ˆéªŒçŸ¥è¯†ï¼ˆprior knowledgeï¼‰**ï¼Œæ¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚

> **This prior knowledge no longer needs to be learned from data, saving valuable annotation efforts and compute, unlocking realistic few-sample scenarios, and reducing the impact of domain changes.**  
ä½¿ç”¨å…ˆéªŒçŸ¥è¯†åï¼Œè¿™éƒ¨åˆ†ä¿¡æ¯ä¸å†éœ€è¦ä»æ•°æ®ä¸­å­¦ä¹ ï¼Œä»è€Œå¯ä»¥å‡å°‘æ ‡æ³¨æˆæœ¬å’Œè®­ç»ƒè®¡ç®—é‡ï¼Œä½¿å¾—**å°‘é‡æ ·æœ¬å­¦ä¹ æˆä¸ºå¯èƒ½**ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ›´å¥½åœ°åº”å¯¹é¢†åŸŸå˜åŒ–ã€‚

---

> **Moreover, the interpretability of the priors allows to adapt deep networks to minor problem variations such as switching between Manhattan and non-Manhattan worlds.**  
æ›´è¿›ä¸€æ­¥ï¼Œè¿™äº›**å…·æœ‰å¯è§£é‡Šæ€§çš„å‡ ä½•å…ˆéªŒ**ä¹Ÿå¸®åŠ©æ¨¡å‹åº”å¯¹**é—®é¢˜è®¾å®šçš„ç»†å¾®å˜åŒ–**ï¼Œæ¯”å¦‚ä»æ›¼å“ˆé¡¿ä¸–ç•Œï¼ˆå»ºç­‘ç»“æ„è§„æ•´ã€æ¶ˆå¤±ç‚¹åˆ†å¸ƒæ˜ç¡®ï¼‰åˆ‡æ¢åˆ°éæ›¼å“ˆé¡¿ä¸–ç•Œï¼ˆç»“æ„ä¸è§„åˆ™ã€æ¶ˆå¤±ç‚¹æ›´è‡ªç”±ï¼‰çš„é—®é¢˜ã€‚

---

> **We seamlessly incorporate two geometric priors: (i) Hough Transform â€“ mapping image pixels to straight lines, and (ii) Gaussian sphere â€“ mapping lines to great circles whose intersections denote vanishing points.**  
ä½œè€…å¼•å…¥äº†ä¸¤ç§å‡ ä½•å…ˆéªŒä¿¡æ¯ï¼Œ**è‡ªç„¶åœ°**èåˆè¿›äº†æ·±åº¦ç½‘ç»œä¸­ï¼š
- (i) **Houghå˜æ¢**ï¼šå°†å›¾åƒä¸­çš„åƒç´ æ˜ å°„åˆ°ç›´çº¿ä¸Šï¼›
- (ii) **é«˜æ–¯çƒï¼ˆGaussian Sphereï¼‰**ï¼šæŠŠå›¾åƒä¸­çš„ç›´çº¿æ˜ å°„åˆ°çƒé¢ä¸Šçš„å¤§åœ†ï¼Œè¿™äº›å¤§åœ†çš„äº¤ç‚¹å¯¹åº”ç€æ¶ˆå¤±ç‚¹ã€‚

---

> **Experimentally, we ablate our choices and show comparable accuracy to existing models in the large-data setting.**  
é€šè¿‡å®éªŒï¼Œä½œè€…å¯¹å„ä¸ªè®¾è®¡è¿›è¡Œäº†æ¶ˆèåˆ†æï¼Œå¹¶è¯æ˜åœ¨å¤§æ•°æ®é‡åœºæ™¯ä¸­ï¼Œä»–ä»¬çš„æ–¹æ³•å¯ä»¥è¾¾åˆ°ä¸ç°æœ‰æ–¹æ³•ç›¸å½“çš„å‡†ç¡®ç‡ã€‚

> **We validate our modelâ€™s improved data efficiency, robustness to domain changes, adaptability to non-Manhattan settings.**  
å¹¶è¿›ä¸€æ­¥éªŒè¯äº†æ¨¡å‹åœ¨**æ•°æ®æ•ˆç‡ï¼ˆç”¨æ›´å°‘æ•°æ®è®­ç»ƒï¼‰**ã€**å¯¹é¢†åŸŸå˜åŒ–çš„é²æ£’æ€§**ã€ä»¥åŠ**é€‚åº”éæ›¼å“ˆé¡¿ç»“æ„çš„èƒ½åŠ›**ä¸Šæœ‰æ˜æ˜¾æå‡ã€‚

---

* æ€»ç»“ä¸€å¥è¯ï¼š
    - è¿™ç¯‡è®ºæ–‡é€šè¿‡æŠŠ**å‡ ä½•å…ˆéªŒï¼ˆHoughå˜æ¢+é«˜æ–¯çƒï¼‰**å¼•å…¥æ·±åº¦ç½‘ç»œï¼Œä¸ä»…æé«˜äº†æ¶ˆå¤±ç‚¹æ£€æµ‹çš„**æ•°æ®æ•ˆç‡**å’Œ**æ³›åŒ–èƒ½åŠ›**ï¼Œè¿˜æå‡äº†æ¨¡å‹åœ¨ä¸åŒç»“æ„åœºæ™¯ä¸‹çš„**é€‚åº”æ€§**å’Œ**å¯è§£é‡Šæ€§**ã€‚

---


## 1. Introduction

å¼•å…¥äº†ä¸¤ä¸ªå‡ ä½•å…ˆéªŒï¼ˆgeometric priorsï¼‰æ¥å¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œæ•°æ®æ•ˆç‡ã€‚

---

![](https://img.zhaoweiguo.com/uPic/2025/04/QkTwcO.png)

Figure 1:We add two geometric priors: (i) Hough Transform and (ii) Gaussian sphere mapping, for vanishing points detection. We transform learned image features to the Hough domain, where lines are mapped to individual bins. We further project the Hough bins to the Gaussian sphere, where lines become great circles and vanishing points are at the intersection of great circles. Each color represents a set of image lines related to a vanishing point. Adding geometric prior knowledge makes our model data-efficient, less dependent on domain-specifics, and easily adaptable to problem variations such as detecting a variable number of vanishing points.

ä½œè€…åœ¨æ¨¡å‹ä¸­åŠ å…¥äº†ä¸¤ç§å‡ ä½•å…ˆéªŒçŸ¥è¯†ï¼š
1. **éœå¤«å˜æ¢ï¼ˆHough Transformï¼‰**ï¼šç”¨äºå°†å›¾åƒä¸­çš„çº¿æ®µè½¬æ¢ä¸ºå‚æ•°ç©ºé—´ä¸­çš„â€œç‚¹(bin)â€ã€‚
2. **é«˜æ–¯çƒæ˜ å°„ï¼ˆGaussian Sphere Mappingï¼‰**ï¼šå°†è¿™äº› bin æ˜ å°„åˆ°çƒé¢ä¸Šï¼Œä½¿çº¿å˜æˆ**å¤§åœ†ï¼ˆgreat circlesï¼‰**ï¼Œè€Œ**æ¶ˆå¤±ç‚¹å°±æ˜¯è¿™äº›å¤§åœ†çš„äº¤ç‚¹**ã€‚

è¿™å¼ å›¾å¯è§†åŒ–åœ°å±•ç¤ºäº†æ¯ç»„å›¾åƒä¸­çš„çº¿å¦‚ä½•æ˜ å°„æˆçƒé¢ä¸Šçš„å¤§åœ†ï¼Œä¸åŒé¢œè‰²è¡¨ç¤ºå½’å±äºä¸åŒæ¶ˆå¤±ç‚¹çš„ä¸€ç»„çº¿ã€‚

---

* ç ”ç©¶èƒŒæ™¯ä¸åŠ¨æœº
    * **æ¶ˆå¤±ç‚¹æ£€æµ‹**çš„é‡è¦æ€§åŠå…¶åº”ç”¨ï¼š
        - **åº”ç”¨åœºæ™¯**ï¼šæ‘„åƒæœºæ ¡å‡†ã€åœºæ™¯ç†è§£ã€SLAMï¼ˆåŒæ­¥å®šä½ä¸å»ºå›¾ï¼‰ã€è‡ªåŠ¨é©¾é©¶ç­‰ã€‚
        - **ç°æœ‰æ–¹æ³•é—®é¢˜**ï¼š
            - æ·±åº¦å­¦ä¹ æ–¹æ³•è™½ç„¶å¼ºå¤§ï¼Œä½†ä¾èµ–**å¤§è§„æ¨¡æ ‡æ³¨æ•°æ®**ï¼›
            - æ ‡æ³¨è¿‡ç¨‹æ˜‚è´µï¼Œå®¹æ˜“å‡ºé”™ï¼›
            - åŸ¹è®­èµ„æºæ¶ˆè€—å¤§ï¼›
            - æ•°æ®åŸŸå˜åŒ–ï¼ˆdomain shiftï¼‰æ—¶æ³›åŒ–èƒ½åŠ›å·®ï¼›
            - é—®é¢˜ç¨å˜ï¼Œç½‘ç»œå°±å¾—é‡è®¾è®¡ã€‚

> â—æ€»ç»“ï¼š**ç°æœ‰æ·±åº¦å­¦ä¹ æ–¹æ³•å¤ªä¾èµ–æ•°æ®ï¼Œæ³›åŒ–å·®ï¼Œè°ƒæ•´æˆæœ¬é«˜ã€‚**

---

* è®ºæ–‡æ–¹æ³•æ ¸å¿ƒæ€è·¯
    - é€šè¿‡**å¼•å…¥å‡ ä½•å…ˆéªŒ**æ¥è§£å†³ä¸Šè¿°é—®é¢˜

> Using geometric priors is data-efficient as this knowledge no longer needs to be learned from data.

* æ ¸å¿ƒä¼˜åŠ¿ï¼š
    - ä¸éœ€è¦ä»å¤´å­¦ä¹ å‡ ä½•è§„åˆ™ï¼ˆæ¯”å¦‚â€œçº¿çš„äº¤ç‚¹æ˜¯æ¶ˆå¤±ç‚¹â€ï¼‰ï¼ŒèŠ‚çœæ•°æ®å’Œè®¡ç®—ï¼›
    - æ›´å®¹æ˜“æ³›åŒ–åˆ°æ–°åœºæ™¯ï¼›
    - æ›´å®¹æ˜“è§£é‡Šå’Œé€‚é…ä»»åŠ¡å˜ä½“ã€‚

---

* æ–¹æ³•ç»†èŠ‚-å®ç°äº†ä»¥ä¸‹ä¸¤ä¸ªå¯è®­ç»ƒçš„æ¨¡å—ï¼š
    1. **éœå¤«å˜æ¢æ¨¡å—**ï¼šå°†æ¯æ¡çº¿è¡¨ç¤ºæˆæåæ ‡å¯¹çš„ `(offset, angle)`ï¼Œå˜æˆ Hough ç©ºé—´çš„ binã€‚
    2. **é«˜æ–¯çƒæ˜ å°„æ¨¡å—**ï¼š
        - å°† Hough ç©ºé—´çš„ bin æ˜ å°„åˆ°å•ä½çƒé¢ä¸Šï¼›
        - å›¾åƒä¸­çš„çº¿ â†’ çƒé¢ä¸Šçš„å¤§åœ†ï¼›
        - æ¶ˆå¤±ç‚¹ â†’ å¤§åœ†çš„äº¤ç‚¹ï¼›
        - å¥½å¤„æ˜¯å¯ä»¥æ£€æµ‹åœ¨å›¾åƒè§†é‡å¤–çš„æ¶ˆå¤±ç‚¹ï¼ˆä¾‹å¦‚é€è§†ä¸­çš„ç‚¹ï¼‰ã€‚

ä¸¤è€…éƒ½èƒ½ç«¯åˆ°ç«¯è®­ç»ƒï¼Œå¹¶åˆ©ç”¨æ·±åº¦ç½‘ç»œæå–çš„ç‰¹å¾è¿›è¡Œä¼˜åŒ–ã€‚

---

* è´¡çŒ®æ€»ç»“ï¼ˆContributionsï¼‰
    1. æå‡ºå°† CNN ç‰¹å¾ â†’ éœå¤«ç©ºé—´ â†’ é«˜æ–¯çƒç©ºé—´ çš„æ–¹æ³•ï¼Œç”¨äºæ¶ˆå¤±ç‚¹æ£€æµ‹ï¼›
    2. åœ¨ ScanNet å’Œ SceneCity Urban æ•°æ®é›†ä¸Šè¾¾åˆ°ä¸ SOTA ç±»ä¼¼ç²¾åº¦ï¼›
    3. æ·»åŠ å…ˆéªŒåï¼Œåœ¨å°æ•°æ®é›†ä¸Šè¡¨ç°æ›´å¥½ï¼ˆæ•°æ®æ•ˆç‡æ›´é«˜ï¼‰ï¼›
    4. æˆåŠŸé€‚é…â€œæ¶ˆå¤±ç‚¹æ•°ä¸å›ºå®šâ€çš„é—®é¢˜ï¼ˆNYU Depth æ•°æ®é›†ä¸Šï¼Œæ¶ˆå¤±ç‚¹æ•°é‡ä» 1 åˆ° 8ï¼‰ï¼›
    5. åœ¨è·¨æ•°æ®é›†æµ‹è¯•ä¸­è¡¨ç°æ›´ç¨³å¥ï¼Œå‡å°‘äº† domain shift çš„å½±å“ã€‚

---

æ€»ç»“ä¸€å¥è¯

> è¿™ç¯‡è®ºæ–‡çš„æ ¸å¿ƒç†å¿µæ˜¯ï¼š**é€šè¿‡å¼•å…¥éœå¤«å˜æ¢å’Œé«˜æ–¯çƒæ˜ å°„ä¸¤ç§å‡ ä½•å…ˆéªŒçŸ¥è¯†ï¼ŒæŠŠä¸€äº›â€œç†æ‰€å½“ç„¶çš„å‡ ä½•å…³ç³»â€æ³¨å…¥æ¨¡å‹ä¸­ï¼Œä»è€Œå‡å°‘å¯¹æ•°æ®çš„ä¾èµ–ã€å¢å¼ºæ³›åŒ–èƒ½åŠ›ï¼Œå¹¶æé«˜æ¨¡å‹å¯¹ä»»åŠ¡å˜ä½“çš„é€‚åº”æ€§ã€‚**



## 2. Related Work

### âœ… åŸºäºå‡ ä½•çš„æ¶ˆå¤±ç‚¹æ£€æµ‹(Geometry-based vanishing point detection)

* **æ ¸å¿ƒè§‚ç‚¹ï¼š**
    - æ¶ˆå¤±ç‚¹æœ¬è´¨æ˜¯å›¾åƒä¸­ç›´çº¿çš„äº¤ç‚¹ã€‚
    - å¦‚ä½•æ£€æµ‹è¿™äº›çº¿ï¼š
        - è½®å»“æ£€æµ‹ï¼ˆcontour detectionï¼‰
        - ç‚¹-çº¿åŒæ˜ å°„ï¼ˆpoint-to-line dual mappingï¼‰
        - æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯ **éœå¤«å˜æ¢ï¼ˆHough Transformï¼‰**ã€‚

* **ä¸æœ¬æ–‡å…³ç³»ï¼š**
    - æœ¬æ–‡æ­£æ˜¯å°† **éœå¤«å˜æ¢å½“ä½œå‡ ä½•å…ˆéªŒ**å¼•å…¥æ¨¡å‹ï¼Œæ˜¯å¯¹è¿™ä¸€ä¼ ç»Ÿæ–¹æ³•çš„ç°ä»£æ·±åº¦å­¦ä¹ æ‰©å±•ã€‚

* å°†çº¿ç»„åˆæˆæ¶ˆå¤±ç‚¹ï¼ˆCombining lines to vanishing pointsï¼‰
    - åŸºäº**æ¦‚ç‡**ï¼šè®¡ç®—çº¿æ˜¯å¦é€šè¿‡åŒä¸€ç‚¹ï¼›
    - **æŠ•ç¥¨æœºåˆ¶**ï¼šæ¯”å¦‚ RANSAC æˆ–ç´¯åŠ å™¨ï¼›
    - **å‡è®¾æ£€éªŒ**ï¼šæ¯”å¦‚ J-Linkage åˆ¤æ–­å“ªäº›çº¿å±äºåŒä¸€æ¶ˆå¤±ç‚¹ï¼›
    - **çº¿èšç±»**ï¼ˆclusteringï¼‰ã€**EMç®—æ³•**ã€**åˆ†æ”¯ç•Œå®šæ³•ï¼ˆbranch-and-boundï¼‰** ç­‰ä¹Ÿå¯ç”¨äºç»„åˆçº¿ã€‚

    - **å±€é™ç‚¹ï¼š**
        > è¿™äº›æ–¹æ³•è™½ç„¶æœ‰æ•ˆï¼Œä½†éƒ½**æ²¡æœ‰å¼•å…¥çœŸå® 3D ä¸–ç•Œä¸­çš„å…ˆéªŒçŸ¥è¯†**ï¼ˆä¾‹å¦‚çº¿â†’çƒé¢å¤§åœ†â†’äº¤ç‚¹è¿™æ ·çš„å‡ ä½•é€»è¾‘ï¼‰ã€‚

* é«˜æ–¯çƒå‡ ä½•å…ˆéªŒï¼ˆGaussian Sphereï¼‰
    * **æ ¸å¿ƒæ€æƒ³ï¼š**
        - å›¾åƒä¸­çš„çº¿ = é«˜æ–¯çƒä¸Šçš„å¤§åœ†ï¼›
        - å¤§åœ†çš„äº¤ç‚¹ = æ¶ˆå¤±ç‚¹ï¼›
        - é«˜æ–¯çƒå°†â€œæ— ç•Œçš„å›¾åƒå¹³é¢â€æ˜ å°„åˆ°â€œæœ‰ç•Œçš„çƒé¢â€ï¼Œæ›´æ˜“å»ºæ¨¡ã€‚
    * **ä¼˜ç‚¹ï¼š**
        - é™åˆ¶äº†æœç´¢ç©ºé—´ï¼ˆæ­£åˆ™åŒ–ï¼‰ï¼Œå¯¹**æ•°æ®è¾ƒå°‘æ—¶çš„æ·±åº¦å­¦ä¹ æ¨¡å‹å¾ˆæœ‰å¸®åŠ©**ï¼›
        - æœ¬æ–‡æ­£æ˜¯å€ŸåŠ©è¿™ä¸ªå…ˆéªŒçŸ¥è¯†æ„å»ºçƒé¢æ˜ å°„æ¨¡å—ã€‚

---

### âœ… åŸºäºå­¦ä¹ çš„æ¶ˆå¤±ç‚¹æ£€æµ‹(Learning-based vanishing point detection)

* **å…³é”®æ€è·¯ï¼š**
    - ä½¿ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚ CNNï¼‰ä»å¤§é‡æ ‡æ³¨æ•°æ®ä¸­å­¦ä¹ æ¶ˆå¤±ç‚¹ï¼›
    - å¸¸è§æµç¨‹åŒ…æ‹¬ï¼šçº¿æ£€æµ‹ â†’ æŠ•å½± â†’ ç½‘ç»œè®­ç»ƒ â†’ åå¤„ç†ï¼›
    - ä¸€äº›å·¥ä½œè¿˜ç”¨äº†**åœ†é”¥å·ç§¯ï¼ˆconic convolutionsï¼‰**ï¼Œæ›´é€‚åˆçƒé¢æ•°æ®ã€‚

* **æœ¬æ–‡çš„ä¸åŒä¹‹å¤„ï¼š**
    > æœ¬æ–‡**ä¸æ˜¯è¿½æ±‚æ›´å¤§çš„æ•°æ®ã€æ›´æ·±çš„æ¨¡å‹**ï¼Œè€Œæ˜¯å…³æ³¨**å°æ ·æœ¬ã€è·¨åŸŸã€éæ›¼å“ˆé¡¿ä¸–ç•Œ**ç­‰æ›´çœŸå®ä½†å›°éš¾çš„åœºæ™¯ã€‚

---

### âœ… å¯¹æŠ—é¢†åŸŸåç§»(Robustness to domain shifts)

* **é—®é¢˜ï¼š**
    - ä¼ ç»Ÿæ–¹æ³•é å‡ ä½•å…ˆéªŒï¼Œä¸ä¾èµ–æ•°æ®ï¼Œæ‰€ä»¥å¤©ç”Ÿè·¨åŸŸï¼›
    - ä½†è¿™äº›æ–¹æ³•æ²¡åŠæ³•å……åˆ†åˆ©ç”¨æ·±åº¦ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›ï¼›
    - åè¿‡æ¥ï¼Œæ·±åº¦æ¨¡å‹å¯¹ domain shiftï¼ˆå¦‚è·¨æ•°æ®é›†ï¼‰éå¸¸æ•æ„Ÿã€‚

* **å·²æœ‰åº”å¯¹ç­–ç•¥ï¼š**
    - åŸŸè‡ªé€‚åº”ã€é€šç”¨åŒ–ã€å¤šåŸŸè®­ç»ƒç­‰ï¼Œä½†éƒ½éœ€è¦å¤æ‚çš„æ¶æ„å˜åŒ–ã€‚

* **æœ¬æ–‡ç­–ç•¥ï¼š**
    > æå‡ºä¸€ç§æ–¹æ³•ï¼Œ**åœ¨ä¸æ”¹å˜ç½‘ç»œç»“æ„çš„å‰æä¸‹**ï¼Œç»“åˆå‡ ä½•çŸ¥è¯†ä¸æ·±åº¦å­¦ä¹ ï¼Œæå‡å¯¹ domain shift çš„é²æ£’æ€§ã€‚

---

### âœ… æ›¼å“ˆé¡¿ vs éæ›¼å“ˆé¡¿ä¸–ç•Œ(Manhattan versus non-Manhattan world)

* **æ›¼å“ˆé¡¿ä¸–ç•Œå‡è®¾ï¼š**
    - å‡è®¾åœºæ™¯ä¸­æœ‰ 3 ä¸ªæ­£äº¤æ–¹å‘ï¼ˆæ‰€ä»¥æœ‰ 3 ä¸ªæ­£äº¤æ¶ˆå¤±ç‚¹ï¼‰ï¼›
    - é€‚åˆå»ºç­‘åœºæ™¯ï¼Œä½†å¾ˆå¤šçœŸå®æƒ…å†µï¼ˆå¦‚æ–œå¡ã€è‡ªç”±æ„æ¶ï¼‰ä¸æ»¡è¶³è¿™ä¸ªå‡è®¾ã€‚

* **åº”å¯¹éæ›¼å“ˆé¡¿ä¸–ç•Œçš„æ–¹æ³•ï¼š**
    - å¤šæ¨¡å‹æ‹Ÿåˆã€åœ°å¹³çº¿æ£€æµ‹ã€çƒé¢ä¸Šçš„éæå¤§å€¼æŠ‘åˆ¶ç­‰ã€‚

* **æœ¬æ–‡çš„æ–¹æ³•ï¼š**
    > ä¸å¼ºåŠ æ›¼å“ˆé¡¿å‡è®¾ï¼Œè€Œæ˜¯é€šè¿‡ **Hough + Gaussian sphere + èšç±»ç®—æ³•** æ¥æ£€æµ‹æ•°é‡ä¸å›ºå®šçš„å¤šä¸ªæ¶ˆå¤±ç‚¹ã€‚

---

### ğŸ”š æ€»ç»“

> è¿™éƒ¨åˆ†å·¥ä½œå›é¡¾æ¢³ç†äº†ä»å‡ ä½•æ–¹æ³•ã€æ·±åº¦å­¦ä¹ æ–¹æ³•åˆ°å¯¹æŠ—é¢†åŸŸåç§»å’Œéæ›¼å“ˆé¡¿æƒ…å†µçš„å¤„ç†æ–¹å¼ï¼Œ**å‡¸æ˜¾äº†æœ¬æ–‡çš„åˆ›æ–°ç‚¹**åœ¨äºï¼š
- åˆ©ç”¨å‡ ä½•å…ˆéªŒï¼ˆéœå¤« + çƒé¢ï¼‰æ¥çº¦æŸæ¨¡å‹ï¼›
- ä¸ä¾èµ–å¤§æ•°æ®ï¼Œé²æ£’æ€§å¼ºï¼›
- èƒ½è‡ªç„¶é€‚é…ä¸åŒçš„ä»»åŠ¡è®¾å®šï¼ˆå¦‚éæ›¼å“ˆé¡¿ã€è·¨åŸŸï¼‰ï¼›
- åŒæ—¶ä»ä¿ç•™äº†æ·±åº¦å­¦ä¹ çš„è¡¨è¾¾èƒ½åŠ›ã€‚

---

## 3. Geometric priors for VP detection

![](https://img.zhaoweiguo.com/uPic/2025/04/uvgYS0.png)

Figure 2:Overview: The model starts from in input image, and predicts vanishing points on the Gaussian hemisphere by relying on two geometric priors: (i) Hough Transform, and (ii) Gaussian sphere mapping. We use a convolutional network to learn features which are then mapped to Hough space, where each bin is a line. We filter the Hough space and project Hough bins to the Gaussian hemisphere and apply spherical convolutions to find vanishing points. We indicate the size of the learned features above, where the last dimension is the number of channels. We sample 32,768 points on the hemisphere using the Fibonacci lattice, resulting in features maps of size 32,768. Our model learns to classify spherical points as vanishing points or not using a binary cross-entropy loss. There is no intermediate supervision.

* **ä»»åŠ¡ç›®æ ‡ï¼š**
    - ä»ä¸€å¼ å›¾åƒä¸­æ£€æµ‹æ¶ˆå¤±ç‚¹ã€‚  
    - æ¶ˆå¤±ç‚¹å¸¸ç”¨äºç†è§£å›¾åƒçš„å‡ ä½•ç»“æ„ï¼Œå°¤å…¶åœ¨**ç»“æ„åŒ–ç¯å¢ƒ**å¦‚åŸå¸‚è¡—æ™¯ä¸­ååˆ†å…³é”®ã€‚

* **æ¨¡å‹æµç¨‹æ¦‚è§ˆï¼š**
    1. è¾“å…¥å›¾åƒ â†’ å·ç§¯ç½‘ç»œæå–ç‰¹å¾ã€‚
    2. ç‰¹å¾ â†’ æŠ•å½±åˆ°éœå¤«ç©ºé—´ï¼ˆHough spaceï¼‰ï¼Œæ¯ä¸ª bin å¯¹åº”ä¸€æ¡ç›´çº¿ã€‚
    3. è¿‡æ»¤å™ªå£° â†’ æŠ•å½±è¿™äº›çº¿æ¡åˆ°é«˜æ–¯çƒé¢ï¼ˆGaussian sphereï¼‰ã€‚
    4. åœ¨çƒé¢ä¸Šè¿›è¡Œå·ç§¯ï¼ˆEdgeConvï¼‰ â†’ ç²¾ç¡®å®šä½æ¶ˆå¤±ç‚¹ã€‚

---

### ğŸ§© (i) éœå¤«å˜æ¢ï¼ˆHough Transformï¼‰

* **ç›®çš„ï¼š**
    - å°†å›¾åƒä¸­çš„åƒç´ ç‰¹å¾è½¬æ¢ä¸ºä¸€ç»„**å‚æ•°åŒ–ç›´çº¿**ã€‚

* **æ ¸å¿ƒå…¬å¼ï¼š**
    - å›¾åƒä¸­çš„ä¸€ç»„åƒç´ ç‚¹æ²¿ä¸€æ¡ç›´çº¿ï¼ŒæŠ•ç¥¨ç»™æŸä¸ª (Ï, Î¸) ç»„åˆï¼ˆå³ä¸€æ¡çº¿ï¼‰ï¼š
    - \[HT(\rho, \theta) = \sum_{i} F(\rho \cos \theta - i \sin \theta, \rho \sin \theta + i \cos \theta)\]
    - è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸€æ¡å¯èƒ½çš„ç›´çº¿ç»„åˆ (Ï, Î¸)ï¼Œæ ¹æ®å›¾åƒç‰¹å¾å›¾ F åšåŠ æƒæŠ•ç¥¨ã€‚

* **å‚æ•°è®¾ç½®ï¼š**
    - å›¾åƒç‰¹å¾å›¾å°ºå¯¸ï¼š128Ã—128
    - Hough ç©ºé—´åˆ†è¾¨ç‡ï¼š184 ä¸ª Ïï¼ˆè·ç¦»ï¼‰ï¼Œ180 ä¸ª Î¸ï¼ˆè§’åº¦ï¼‰

* **å»å™ªå¤„ç†ï¼š**
    - ä½¿ç”¨ **1D å·ç§¯** æ²¿ Ï è½´å¹³æ»‘å“åº”ï¼Œä¿ç•™å±€éƒ¨æœ€å¤§å€¼ï¼ˆå¯¹åº”äºâ€œæ½œåœ¨çº¿æ¡â€ï¼‰ã€‚

---

### ğŸ§­ (ii.1) é«˜æ–¯çƒé¢æ˜ å°„ï¼ˆGaussian Sphere Mappingï¼‰

![](https://img.zhaoweiguo.com/uPic/2025/04/60Hhze.png)

Figure 3: Gaussian sphere representations for vanishing points:
(a) The Gaussian sphere is a unit sphere located at the camera center, $\mathbf{O}$.
Points on the sphere are encoded by two angles: $(\alpha,\beta)$ the azimuth and the elevation, respectively.
A line segment $\mathbf{AB}$ in the image plane together with the camera center $\mathbf{O}$ forms a plane $\psi$, highlighted in blue.
To define the mapping from the image to the sphere, we only need to know the normal $\overrightarrow{n}$ to the plane $\psi$.
(b) Image lines are projected as great circles on the sphere.
The intersection of multiple great circles on the sphere represents a vanishing point.

---


* **ç›®æ ‡ï¼š**
    - å°†éœå¤«ç©ºé—´ä¸­çš„ç›´çº¿ï¼ˆÏ, Î¸ï¼‰**æ˜ å°„åˆ°çƒé¢ä¸Šçš„å¤§åœ†å¼§ï¼ˆgreat circlesï¼‰**ï¼Œå¯»æ‰¾äº¤ç‚¹ä½œä¸ºå€™é€‰æ¶ˆå¤±ç‚¹ã€‚

* **å…³é”®å‡ ä½•ï¼š**
    - è®¾ç›¸æœºä¸­å¿ƒä¸º **O**
    - å›¾åƒä¸­ä¸€æ¡çº¿æ®µ ABï¼Œè¿åŒ O æ„æˆä¸€ä¸ªå¹³é¢ Ïˆ
    - è¿™ä¸ªå¹³é¢çš„æ³•å‘é‡ \( \vec{n} = \frac{\vec{OA} \times \vec{OB}}{\|\vec{OA} \times \vec{OB}\|} \)
    - æŠ•å½±è¿™æ¡çº¿æ®µå¯¹åº”çš„å¤§åœ†å¼§åˆ°é«˜æ–¯çƒï¼ˆå•ä½çƒï¼‰

* **çƒé¢åæ ‡ï¼š**
    - æ–¹ä½è§’ï¼ˆazimuthï¼‰Î±ï¼šä» z è½´åœ¨ xz å¹³é¢æ—‹è½¬çš„è§’åº¦
    - ä»°è§’ï¼ˆelevationï¼‰Î²ï¼šä» xz å¹³é¢å‘ y è½´çš„è§’åº¦
    - åˆ©ç”¨å…¬å¼ï¼š\[\beta(\alpha, \vec{n}) = \tan^{-1} \left( \frac{-n_x \sin \alpha - n_z \cos \alpha}{n_y} \right)\]

    - æ¯æ¡çº¿éƒ½å¯ä»¥æ˜ å°„åˆ°çƒé¢ä¸Šçš„ä¸€æ¡å¤§åœ†ã€‚å¤šä¸ªå¤§åœ†çš„äº¤ç‚¹å°±æ˜¯æ½œåœ¨çš„æ¶ˆå¤±ç‚¹ã€‚

* **é‡‡æ ·æ–¹å¼ï¼š**
    - ä½¿ç”¨ Fibonacci latticeï¼ˆæ–æ³¢é‚£å¥‘ç‚¹é˜µï¼‰å‡åŒ€é‡‡æ ·é«˜æ–¯åŠçƒï¼Œå…± **32,768** ä¸ªç‚¹
    - å°†æ‰€æœ‰ Hough ç©ºé—´çš„çº¿æ¡æ˜ å°„åˆ°è¿™äº›ç‚¹ä¸Šï¼Œæœ€è¿‘é‚»åŒ¹é…
    - æ˜ å°„å…³ç³»é¢„è®¡ç®—åå­˜ä¸ºå½¢çŠ¶ `[N_Ï Ã— N_Î¸ Ã— M]` çš„å¼ é‡ï¼ˆå…¶ä¸­ M æ˜¯ Î± çš„é‡‡æ ·æ•°é‡ï¼Œå¦‚ 1024ï¼‰

---

### ğŸ§  (ii.2) çƒé¢å·ç§¯ï¼ˆSpherical Convolutionï¼‰

* **ç›®çš„ï¼š**
    - åœ¨çƒé¢ä¸Šå®šä½ç²¾ç¡®çš„æ¶ˆå¤±ç‚¹ã€‚

* **æ–¹æ³•ï¼š**
    - å°†çƒé¢é‡‡æ ·ç‚¹è§†ä¸ºç‚¹äº‘ï¼Œæ„å»º KNN å›¾
    - ä½¿ç”¨ EdgeConvï¼ˆè¾¹å·ç§¯ï¼‰å¯¹æ¯ä¸ªç‚¹çš„å±€éƒ¨é‚»åŸŸåšèšåˆ
    - å…±ç”¨ 5 å±‚ EdgeConvï¼Œæ¯å±‚ä½¿ç”¨ï¼š
        - å…¨è¿æ¥å±‚
        - BatchNorm
        - LeakyReLU
    - ä½¿ç”¨ç‰¹å¾è¿æ¥ï¼ˆconcatenationï¼‰å¢å¼ºä¿¡æ¯æµ
    - æœ€åä½¿ç”¨äºŒåˆ†ç±»ï¼ˆæ˜¯å¦æ˜¯æ¶ˆå¤±ç‚¹ï¼‰è¿›è¡Œè®­ç»ƒ

---

* ğŸ“Œ æ€»ç»“ä¸€å¥è¯ï¼š
     - è¿™å¥—æ¨¡å‹åˆ›æ–°æ€§åœ°å°†æ¶ˆå¤±ç‚¹æ£€æµ‹è½¬æ¢ä¸º**å…ˆæ˜ å°„çº¿åˆ°çƒé¢ã€å†åœ¨çƒé¢ä¸Šåšåˆ†ç±»**çš„ä»»åŠ¡ï¼Œæ ¸å¿ƒä¼˜åŠ¿æ˜¯å¼•å…¥**å‡ ä½•å…ˆéªŒç»“æ„ï¼ˆçº¿â†’å¤§åœ†â†’äº¤ç‚¹ï¼‰**ï¼Œæå¤§åœ°æå‡äº†æ³›åŒ–èƒ½åŠ›ä¸é²æ£’æ€§ã€‚

---

## 4. Experiments

1. ä½œè€…è®¾è®¡çš„å‡ ä½•å…ˆéªŒï¼ˆHTå˜æ¢ + çƒé¢å·ç§¯ï¼‰ç¡®å®æå‡äº†æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨å°æ•°æ®é‡å’Œç²¾åº¦è¦æ±‚é«˜çš„ä»»åŠ¡ä¸­ã€‚
2. åœ¨Manhattanä¸–ç•Œå‡è®¾ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å‡ ä¹èƒ½åŒ¹æ•Œæˆ–è¶…è¿‡ç°æœ‰SOTAï¼Œå‚æ•°å°‘ï¼Œè¿è¡Œå¿«ã€‚
3. åœ¨éManhattançš„NYU Depthæ•°æ®é›†ä¸Šä¹Ÿå…·å¤‡è¾ƒå¥½é€‚åº”æ€§ï¼Œæ˜¾ç¤ºå‡ºæ¨¡å‹è¾ƒå¼ºçš„æ³›åŒ–èƒ½åŠ›ã€‚

### 4.1 Exp 1: Evaluating model choices

* ä»–ä»¬çš„æ¨¡å‹åœ¨æ•°æ®æ•ˆç‡å’Œç¨³å®šæ€§æ–¹é¢è¡¨ç°ä¼˜è¶Šã€‚


### 4.2 Exp 2: Validation on large datasets

1. **æ¨¡å‹é€‰æ‹©å®éªŒ**å±•ç¤ºäº†ä»–ä»¬è®¾è®¡ä¸­ï¼š
   - ç»“åˆä¼ ç»Ÿå‡ ä½•æ–¹æ³•ï¼ˆå¦‚ Houghï¼‰ä¸æ·±åº¦å­¦ä¹ èƒ½æ˜¾è‘—æå‡è¡¨ç°ï¼›
   - çƒé¢å·ç§¯ã€ç²¾ç»†é‡åŒ–å’Œç«¯åˆ°ç«¯è®­ç»ƒéƒ½æ˜¯å…³é”®ï¼›
2. **æ•°æ®æ•ˆç‡å®éªŒ**è¯´æ˜ä»–ä»¬çš„æ–¹æ³•ï¼š
   - èƒ½åœ¨æ•°æ®ç¨€ç¼ºä¸‹ä¿æŒç¨³å®šã€ä¼˜å¼‚è¡¨ç°ï¼›
   - æ¯”å…¶ä»–ä¾èµ–æ‰‹å·¥ç‰¹å¾çš„æ¨¡å‹é²æ£’æ€§æ›´å¼ºï¼›
3. **æ³›åŒ–ä¸å¤§æ•°æ®éªŒè¯**ï¼š
   - åœ¨å¤§è§„æ¨¡è®­ç»ƒä¸‹ä¹Ÿä¸æ‰ç²¾åº¦ï¼›
   - åœ¨å°è§„æ¨¡æ— å¾®è°ƒæ—¶ä¾ç„¶é¢†å…ˆï¼Œè¯´æ˜å…·å¤‡è‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ï¼›
   - å¹¶ä¸”å…·æœ‰è¾ƒé«˜çš„æ¨ç†é€Ÿåº¦ã€‚



### 4.3 Exp 3: Challenging scenarios


* ä½œè€…æ¨¡å‹é€šè¿‡å¼•å…¥å‡ ä½•å…ˆéªŒï¼ˆGeometric Priorsï¼‰ï¼Œåœ¨ä»¥ä¸‹æŒ‘æˆ˜åœºæ™¯ä¸­éƒ½æ˜¾è‘—ä¼˜äºç°æœ‰æ–¹æ³•ï¼š
    - è®­ç»ƒæ•°æ®æå°‘æ—¶
    - åœºæ™¯ä¸ç¬¦åˆæ›¼å“ˆé¡¿å‡è®¾ï¼ˆå¦‚çœŸå®ä¸–ç•Œå¤æ‚ç¯å¢ƒï¼‰
    - è®­ç»ƒæµ‹è¯•æ•°æ®é›†åˆ†å¸ƒä¸ä¸€è‡´æ—¶ï¼ˆè·¨åŸŸæ³›åŒ–ï¼‰

---

## 5. Conclusion and limitations

* è®ºæ–‡çš„è´¡çŒ®åœ¨äºï¼š
    - å¼•å…¥äº†**éœå¤«å˜æ¢**å’Œ**é«˜æ–¯çƒæ˜ å°„**è¿™ä¸¤ä¸ªå‡ ä½•å…ˆéªŒï¼Œ
    - åœ¨å¤šæ ·åŒ–ã€å¤æ‚çš„æ•°æ®åœºæ™¯ä¸‹è¡¨ç°ä¼˜å¼‚ï¼Œå°¤å…¶èƒ½çªç ´â€œæ›¼å“ˆé¡¿ä¸–ç•Œâ€çš„é™åˆ¶ã€‚

* ä½†ä»å­˜åœ¨ä¸¤å¤§é—®é¢˜ï¼š
    1. **é¢„è®¡ç®—æ˜ å°„å¸¦æ¥çš„é‡åŒ–è¯¯å·®é™åˆ¶äº†ç²¾åº¦**ï¼›
    2. **éœ€è¦å¤§é‡æ ‡æ³¨æ•°æ®**ï¼Œéš¾ä»¥ç›´æ¥ç”¨äºæ•°æ®ä¸è¶³æˆ–å¼±ç›‘ç£çš„åœºæ™¯ã€‚























































