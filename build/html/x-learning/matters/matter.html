

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>


<!-- start added 2025-04-14   增加对markdown中公式的支持 -->
<script>
window.MathJax = {
    tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true
    },
    options: {
        ignoreHtmlClass: "tex2jax_ignore|mathjax_ignore",
        processHtmlClass: "tex2jax_process|mathjax_process|math|output_area"
    }
};
</script>
<script defer="defer" src="https://fastly.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<!-- end added 2025-04-14   增加对markdown中公式的支持 -->


<!-- start added 2025-08-06   增加对mermaid图的支持 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        flowchart: { useMaxWidth: true }
    });
});
</script>
<!--  end added 2025-08-06   增加对mermaid图的支持 -->




  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Matter Core &mdash; 新溪-gordon V2025.09 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Matter协议分析" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html" />
    <link rel="prev" title="Matter 协议" href="../matter.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>
  <script src="../_static/js/jquery.min.js"></script>


<!-- 评论插件 gittalk start -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> -->
<!-- 评论插件 gittalk end -->


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> 新溪-gordon
          

          
          </a>

          
            
            
              <div class="version">
                V2025.09
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../book.html">书籍</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../books/bookreview.html">书</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/bookreviews/2021.html">2021年看的书</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/cryptography-graph.html">图解密码技术</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/deep-learning-with-python.html">Deep learning with Python</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/how-networks-work.html">网络是怎么连接的</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/building-microservices.html">微服务设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/microservice_design_principle_and_architecture.html">微服务设计原理与架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/microservice-governance.html">微服务治理: 体系、架构及实践</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/TCPIP-ILLustrated-Volume1.html">TCP/IP ILLustrated Volume 1: The Protocols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/SRE.html">SRE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/the-site-reliability-workbook.html">The Site Reliability Workbook</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/bitcoin-and-cryptocurrency-technologies.html">Bitcoin and Cryptocurrency Technologies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/2021s/other.html">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/bookreviews/detail.html">详情</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id3">编码实践</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id4">设计模式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id5">工程实践</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id6">领域驱动设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id7">产品与需求</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id8">开发文化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id9">管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id10">科幻小说</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/bookreviews/detail.html#id11">其他相关</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/booklist.html">要看的书</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/booklists/classic.html">经典书</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/classic.html#it-core">IT Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/classic.html#id3">编译原理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/classic.html#id4">组成原理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/classic.html#it">IT 设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/classic.html#id5">管理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklists/AI.html">AI 相关</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/AI.html#id2">推荐系统</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklists/IT.html">IT相关</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/IT.html#id2">区块链</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/IT.html#id3">统计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/IT.html#id4">网络</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/IT.html#id5">实时协同</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklists/methodology.html">方法论</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklists/fiction.html">小说</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/fiction.html#science-fiction">科幻小说science fiction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklists/source.html">书籍来源</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/booklists/sources/geek.html">极客来源</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklist.html#id3">数学基础</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklist.html#id4">语言经典</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/booklist.html#c">C 语言</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklist.html#id5">计算机经典</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklist.html#id6">计算机语言设计</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/booklist.html#id7">其他</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/ai.html">ai</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html">Microsoft: AI-For-Beginners</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html#i-introduction-to-ai">I Introduction to AI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html#ii-symbolic-ai">II Symbolic AI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html#iii-introduction-to-neural-networks">III Introduction to Neural Networks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html#iv-computer-vision">IV Computer Vision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html#v-nlp">V. NLP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html#vi-other">VI. Other</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-AI-For-Beginners.html#vii-ethics">VII. Ethics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html">Microsoft: Machine Learning for Beginners</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#introduction">1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#regression">2. Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#web-app">3. Web-App</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#classification">4. Classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#clustering">5. Clustering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#nlp">6. NLP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#timeseries">7. TimeSeries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#reinforcement">8. Reinforcement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-ML-for-Beginners.html#real-world">9. Real-World</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/Microsoft-Generative-AI-For-Beginners.html">Microsoft: Generative AI For Beginners</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Generative-AI-For-Beginners.html#id2">第一章: 简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Generative-AI-For-Beginners.html#llms">第二章: 不同的 LLMs对比</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Generative-AI-For-Beginners.html#ai">第三章: AI安全</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Generative-AI-For-Beginners.html#id3">第四章: 提示工程基础</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Generative-AI-For-Beginners.html#id4">第五章: 提示工程进阶</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Generative-AI-For-Beginners.html#id5">第八章: 创建搜索应用</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/Getting-Started-with-OpenCV.html">Getting Started with OpenCV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/Microsoft-Learn-Introduction-to-PyTorch.html">Microsoft Learn: Introduction to PyTorch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Learn-Introduction-to-PyTorch.html#id2">简介</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/Microsoft-Learn-Introduction-to-NLP-with-PyTorch.html">Microsoft Learn: Introduction to NLP with PyTorch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Learn-Introduction-to-NLP-with-PyTorch.html#id2">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Learn-Introduction-to-NLP-with-PyTorch.html#representing-text-as-tensors">2. Representing text as Tensors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Learn-Introduction-to-NLP-with-PyTorch.html#bag-of-words-and-tf-idf-representations">3. Bag-of-Words and TF-IDF representations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Microsoft-Learn-Introduction-to-NLP-with-PyTorch.html#embeddings">4. Embeddings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/HuggingFace-Learn.html">HuggingFace: Learn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/Kaggle-Learn.html">Kaggle Learn</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Kaggle-Learn.html#intermediate-machine-learning">Intermediate Machine Learning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Kaggle-Learn.html#intro-to-deep-learning">Intro to Deep Learning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/Kaggle-Learn.html#id4">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/scikit-learn.html">scikit-learn 1.3.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html">Build a Large Language Model (From Scratch)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#understanding-llm">1. Understanding LLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#working-with-text-data">2. Working with Text Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#coding-attention-mechanisms">3. Coding Attention Mechanisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#implementing-a-gpt-model-from-scratch-to-generate-text">4 Implementing a GPT model from Scratch To Generate Text</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#pretraining-on-unlabeled-data">5 Pretraining on Unlabeled Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#fine-tuning-for-classification">6 Fine-tuning for classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#fine-tuning-to-follow-instructions">7 Fine-tuning to follow instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#appendix-a-introduction-to-pytorch">Appendix A. Introduction to PyTorch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#appendix-b-references-and-further-reading">Appendix B. References and Further Reading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#appendix-c-exercise-solutions">Appendix C. Exercise Solutions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#appendix-d-adding-bells-and-whistles-to-the-training-loop">Appendix D. Adding Bells and Whistles to the Training Loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#appendix-e-parameter-efficient-fine-tuning-with-lora">appendix E Parameter-efficient fine- tuning with LoRA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Build_LLM_From_Scratch.html#id8">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/ais/2024/Dive_into_Deep_Learning.html">动手学深度学习(Dive into Deep Learning)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Dive_into_Deep_Learning.html#id2">前言</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Dive_into_Deep_Learning.html#part-1-basics-and-preliminaries">Part 1: Basics and Preliminaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Dive_into_Deep_Learning.html#part-2-modern-deep-learning-techniques">Part 2: Modern Deep Learning Techniques</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/ais/2024/Dive_into_Deep_Learning.html#part-3-scalability-efficiency-and-applications">Part 3: Scalability, Efficiency, and Applications</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/architecture.html">架构相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/architectures/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9E%B6%E6%9E%84.html">微服务设计原理与架构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9E%B6%E6%9E%84.html#id3">微服务建模</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9E%B6%E6%9E%84.html#id17">服务拆分与集成</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9E%B6%E6%9E%84.html#id18">微服务架构关键要素</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9E%B6%E6%9E%84.html#id21">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%B2%BE%E7%B2%B9.html">领域驱动设计精粹</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%B2%BE%E7%B2%B9.html#id4">第 2 章 运用限界上下文与通用语言进行战略设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%B2%BE%E7%B2%B9.html#id6">第 3 章 运用子域进行战略设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%B2%BE%E7%B2%B9.html#id7">第 4 章 运用上下文映射进行战略设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%B2%BE%E7%B2%B9.html#id8">第 5 章 运用聚合进行战术设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%B2%BE%E7%B2%B9.html#id9">第 6 章 运用领域事件进行战术设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%B2%BE%E7%B2%B9.html#id10">第 7 章 加速和管理工具</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/architectures/%E5%AE%9E%E7%8E%B0%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1.html">实现领域驱动设计</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/architectures/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1.html">领域驱动设计</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/optimize.html">优化相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/optimizes/%E6%80%A7%E8%83%BD%E4%B9%8B%E5%B7%85.html">性能之巅</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/optimizes/%E6%80%A7%E8%83%BD%E4%B9%8B%E5%B7%85.html#id3">书评</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/protocol.html">协议相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html">UNIX 网络编程卷1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id3">第1章 简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#tcp-udpsctp">第2章 传输层: TCP, UDP和SCTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id8">第3章 套接字编程简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id14">第4章 基本TCP套接字编程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id16">第5章 TCP客户/服务器程序示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#i-o-selectpoll">第6章 I/O复用: select和poll函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id24">第7章 套接字选项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#udp">第8章 基本UDP套接字编程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id26">第9章 基本SCTP套接字编程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id27">第11章 名字与地址转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#ipv4ipv6">第12章 IPv4与IPv6的互操作性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#inetd">第13章 守护进程和inetd超级服务器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id31">第14章 高级I/O函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#unix">第15章 Unix域协议</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id35">第16章 非阻塞式I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#ioctl">第17章 ioctl操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id36">第18章 路由套接字</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id37">第19章 密钥管理套接字</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id38">第20章 广播</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id41">第21章 多播</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id47">第22章 高级UDP套接字编程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id51">第23章 高级SCTP套接字编程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id52">第24章 带外数据</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id57">第25章 信号驱动式I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id58">第26章 线程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#ip">第27章 IP选项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id66">第28章 原始套接字</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id70">第29章 数据链路访问</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id74">第30章 客户/服务器程序设计范式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#a-ipv4-ipv6-icmpv4icmpv6">附录A IPv4, IPv6, ICMPv4和ICMPv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/UNIX%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8D%B71.html#id77">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/protocols/TCP-IP%20%E8%AF%A6%E6%83%85%E5%8D%B71.html">TCP/IP 详情-卷1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/TCP-IP%20%E8%AF%A6%E6%83%85%E5%8D%B71.html#id3">第1章 概 述</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/TCP-IP%20%E8%AF%A6%E6%83%85%E5%8D%B71.html#id4">第2章 链 路 层</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/TCP-IP%20%E8%AF%A6%E6%83%85%E5%8D%B71.html#ip">第3章 IP:网际协议</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/TCP-IP%20%E8%AF%A6%E6%83%85%E5%8D%B71.html#id15">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/protocols/TCP-IP%20%E8%AF%A6%E6%83%85%E5%8D%B71-%E7%AC%AC2%E7%89%88.html">TCP:IP 详情卷1-第2版</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/protocols/TCP-IP%20%E8%AF%A6%E6%83%85%E5%8D%B71-%E7%AC%AC2%E7%89%88.html#id3">第1章 概 述</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/edge.html">边缘相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/edges/%E9%9B%BE%E8%AE%A1%E7%AE%97%E4%B8%8E%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%EF%BC%9A%E5%8E%9F%E7%90%86%E5%8F%8A%E8%8C%83%E5%BC%8F.html">雾计算与边缘计算: 原理及范式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html">边缘计算入门 20 课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id3">第 01 课: 边缘计算深度调研</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id17">第 02 课: 云走向边缘, 云将无处不在</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id27">第 03 课: 信通院-边缘计算发展现状与趋势展望</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#edgerec">第 04 课: EdgeRec: 边缘计算在推荐系统中的应用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id51">第 05 课: 阿里云边缘云原生应用实践应用实践</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#kubeedge-sedna-0-1">第 06 课: KubeEdge 子项目 Sedna 0.1 发布</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#superedge">第 07 课: 用 SuperEdge 统管边缘设备和机器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#k8s-10">第 08 课: 如何使用 k8s 管理 10 万边缘节点</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#ai">第 09 课: 边云协同-打通 AI 最后一公里</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#edgeadm-k8s">第 10 课: 用 edgeadm 一键安装边缘 K8s 集群</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#kubeedge-10086">第 11 课: 基于 KubeEdge 实现 10086 客服云边协同平台</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#volcano">第 12 课: Volcano 架构设计与原理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id57">第 13 课: 一文读懂 SuperEdge 的云边隧道</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id58">第 14 课: 打破内网壁垒-从云端一次添加上千边缘节点</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id59">第 15 课: 一文读懂 SuperEdge 边缘容器架构与原理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id60">第 16 课: 2020 十大边缘计算开源项目</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#addon-superedge-k8s">第 17 课: Addon SuperEdge 让原生 K8s 管理边缘应用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id63">第 18 课: SuperEdge 云边隧道新特性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id64">第 19 课: 《深入理解边缘计算》</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#fabedge">第 20 课: FabEdge 边缘网络方案</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id65">第 21 课: 边缘计算云原生开源方案选型比较</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E5%85%A5%E9%97%A8%2020%20%E8%AF%BE.html#id66">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html">边缘计算方法与工程实践</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html#id3">第1章 边缘计算综述</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html#id4">第2章 边缘计算基础资源架构技术</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html#id5">第3章 边缘计算软件架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html#id7">第4章 边缘计算安全管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html#id23">第5章 边缘计算应用案例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/edges/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html#id39">第6章 边缘计算发展展望</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/iot.html">物联网相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html">图解物联网</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id3">第1章 物联网的基础知识</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id4">第 2 章 物联网的架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id5">第 3 章 物联网设备</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id9">第 4 章 先进的感测技术</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id12">第 5 章 物联网服务的系统开发</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id14">第 6 章 物联网与数据分析</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id15">第 7 章 物联网与可穿戴设备</a></li>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E5%9B%BE%E8%A7%A3%E7%89%A9%E8%81%94%E7%BD%91.html#id16">第 8 章 物联网与机器人</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/iots/%E7%89%A9%E8%81%94%E7%BD%91%E8%AE%BE%E8%AE%A1.html">物联网设计</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../books/iots/%E7%89%A9%E8%81%94%E7%BD%91%E8%AE%BE%E8%AE%A1.html#id3">第一部分 原型阶段</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../books/iots/%E8%87%AA%E5%B7%B1%E5%8A%A8%E6%89%8B%E8%AE%BE%E8%AE%A1%E7%89%A9%E8%81%94%E7%BD%91.html">自己动手设计物联网</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../books/lang.html">编程语言相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../books/langs/C%20%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1.html">C 程序设计</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../geek.html">极客时间</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../geeks/principle.html">[重要]编程基础</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/principles/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html">深入浅出计算机组成原理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html#id4">指令和运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html#id15">处理器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html#id35">书籍</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/principles/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html">网络编程实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html#id4">第一模块: 基础篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html#id28">第二模块: 提高篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html#id48">第三模块: 性能篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html#id62">第四模块: 实战篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html#id63">结束语</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html">趣谈 Linux 操作系统</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id2">第二部分 系统初始化 (4 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id10">第三部分 进程管理 (10 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id34">第四部分 内存管理 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id51">第五部分 文件系统 (4 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id60">第六部分 输入输出系统 (5 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id69">第七部分 进程间通信 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id83">第八部分 网络系统 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id90">第九部分 虚拟化 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id100">第十部分 容器化 (4 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id105">实战串讲篇 (9 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%B6%A3%E8%B0%88%20Linux%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html#id106">学习攻略</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html">编译原理实战课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id4">语法分析</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id7">语义分析</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id10">运行时机制</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#ir">中间代码 IR</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id11">代码优化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id12">代码生成</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#ast">解析树和 AST 的区别</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#golang">Golang</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#erlang">Erlang</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id15">并发</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#meta-programming">元编程-Meta-Programming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id19">泛型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id20">函数式编程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id21">远程办公</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id22">如何学习</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id23">收集</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E6%88%98%E8%AF%BE.html#id24">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/principles/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html">操作系统实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html#id4">整体设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html#id6">程序的基石：硬件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html#id7">同步原语</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html#id8">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/principles/%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E5%86%99%E4%B8%80%E9%97%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80.html">手把手带你写一门编程语言</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E5%86%99%E4%B8%80%E9%97%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80.html#id4">开篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E5%86%99%E4%B8%80%E9%97%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80.html#id5">词法分析</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E5%86%99%E4%B8%80%E9%97%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80.html#id6">语法分析</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E5%86%99%E4%B8%80%E9%97%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80.html#id7">语义分析</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html">计算机基础实战课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id3">课程设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id4">01以史为鉴 (3讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#mini-cpu-9">02硬件-芯片(手写mini CPU) (9讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id11">03环境准备 (2讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id12">04语言与指令 (9讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id13">05应用与内存 (8讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id30">06国庆策划 (3讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#io-6">07IO与文件 (6讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id36">08综合应用 (6讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id44">09结束语 (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/principles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E8%AF%BE.html#id45">10技术雷达 (5讲)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/architecture.html">架构相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E5%B7%A6%E8%80%B3%E5%90%AC%E9%A3%8E.html">左耳听风-陈皓</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E5%B7%A6%E8%80%B3%E5%90%AC%E9%A3%8E.html#id4">程序员如何用技术变现</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E5%B7%A6%E8%80%B3%E5%90%AC%E9%A3%8E.html#id19">05 _ 何为技术领导力</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E5%B7%A6%E8%80%B3%E5%90%AC%E9%A3%8E.html#id25">06 _ 如何才能拥有技术领导力</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html">许式伟的架构课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id4">编程语言</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id9">操作系统</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id10">外置存储</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id11">需求分析</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id12">详细设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id13">导致故障的因素</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id14">软件架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id15">架构设计文档</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id20">软件质量管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id21">软件工程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id22">架构设计的优劣</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%AE%B8%E5%BC%8F%E4%BC%9F%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id23">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B9%8B%E7%BE%8E.html">软件工程之美</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/md/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B9%8B%E7%BE%8Esummary.html">软件工程之美summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/md/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B9%8B%E7%BE%8E.html">软件工程之美</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B9%8B%E7%BE%8E.html#id3">基础理论 (9 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B9%8B%E7%BE%8E.html#id20">需求分析篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B9%8B%E7%BE%8E.html#id26">系统设计篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B9%8B%E7%BE%8E.html#id31">开发编码篇 (7 讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E.html">设计模式之美</a></li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/DDD%20%E5%AE%9E%E6%88%98%E8%AF%BE.html">DDD 实战课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/DDD%20%E5%AE%9E%E6%88%98%E8%AF%BE.html#id3">开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/DDD%20%E5%AE%9E%E6%88%98%E8%AF%BE.html#id8">基础篇 (5 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/DDD%20%E5%AE%9E%E6%88%98%E8%AF%BE.html#id30">02进阶篇 (6 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/DDD%20%E5%AE%9E%E6%88%98%E8%AF%BE.html#id61">03实战篇 (10 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/DDD%20%E5%AE%9E%E6%88%98%E8%AF%BE.html#id107">结束语</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90.html">架构实战案例解析</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90.html#id4">01概述篇 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90.html#id12">02业务架构篇 (9 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90.html#id47">03技术架构篇 (9 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90.html#id79">总结篇 (2 讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E4%B9%94%E6%96%B0%E4%BA%AE%E7%9A%84%20CTO%20%E6%88%90%E9%95%BF%E5%A4%8D%E7%9B%98.html">乔新亮的 CTO 成长复盘</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E4%B9%94%E6%96%B0%E4%BA%AE%E7%9A%84%20CTO%20%E6%88%90%E9%95%BF%E5%A4%8D%E7%9B%98.html#id3">00开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E4%B9%94%E6%96%B0%E4%BA%AE%E7%9A%84%20CTO%20%E6%88%90%E9%95%BF%E5%A4%8D%E7%9B%98.html#id4">01对个人认知的复盘 (6 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E4%B9%94%E6%96%B0%E4%BA%AE%E7%9A%84%20CTO%20%E6%88%90%E9%95%BF%E5%A4%8D%E7%9B%98.html#id11">02对管理工作的复盘 (10 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E4%B9%94%E6%96%B0%E4%BA%AE%E7%9A%84%20CTO%20%E6%88%90%E9%95%BF%E5%A4%8D%E7%9B%98.html#id22">03对专业成长的复盘 (10 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E4%B9%94%E6%96%B0%E4%BA%AE%E7%9A%84%20CTO%20%E6%88%90%E9%95%BF%E5%A4%8D%E7%9B%98.html#id34">结束语</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E5%A6%82%E4%BD%95%E8%90%BD%E5%9C%B0%E4%B8%9A%E5%8A%A1%E5%BB%BA%E6%A8%A1.html">如何落地业务建模</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E5%A6%82%E4%BD%95%E8%90%BD%E5%9C%B0%E4%B8%9A%E5%8A%A1%E5%BB%BA%E6%A8%A1.html#id3">开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E5%A6%82%E4%BD%95%E8%90%BD%E5%9C%B0%E4%B8%9A%E5%8A%A1%E5%BB%BA%E6%A8%A1.html#id4">旧约: “前云时代” 的领域驱动设计 (11 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E5%A6%82%E4%BD%95%E8%90%BD%E5%9C%B0%E4%B8%9A%E5%8A%A1%E5%BB%BA%E6%A8%A1.html#id6">深度答疑专题 (4 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E5%A6%82%E4%BD%95%E8%90%BD%E5%9C%B0%E4%B8%9A%E5%8A%A1%E5%BB%BA%E6%A8%A1.html#id7">新约: 云时代的业务建模 (2 讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html">郭东白的架构课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id3">我的收获</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id4">课程设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id5">00开篇词|没有战略意图,就成不了一个顶尖的架构师</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id6">01模块一:生存法则 (15 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id45">02模块二:创造价值 (21讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id98">03模块三:职业成长 (9讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id113">04模块四:思考力 (11讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id138">05结束语</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/architectures/%E9%83%AD%E4%B8%9C%E7%99%BD%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AF%BE.html#id139">06加餐</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/architectures/%E6%9D%8E%E6%99%BA%E6%85%A7%20%C2%B7%20%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E8%AF%BE.html">李智慧 · 高并发架构实战课</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/secure.html">安全</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html">实用密码学</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id4">00开篇词 _ 人人都要会点密码学</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id5">01 | 学习密码学有什么用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id6">02 | 单向散列函数: 如何保证信息完整性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id7">03 | 如何设置合适的安全强度</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id11">04 | 选择哈希算法应该考虑哪些因素</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id14">05|如何有效避免长度延展攻击</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id15">06|对称密钥: 如何保护私密数据</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id18">07 | 怎么选择对称密钥算法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#ecb">09 | 为什么ECB模式不安全</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#cbc">10 | 怎么防止数据重放攻击CBC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id32">11 | 怎么利用解密端攻击</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id39">12 | 怎么利用加密端攻击</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id45">13 | 如何防止数据被调包</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id50">14 | 加密数据能够自我验证吗</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#aead">15 | AEAD 有哪些安全陷阱</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id57">16 | 为什么说随机数都是骗人的</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id65">17 | 加密密钥是怎么来的</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id69">18 | 如何管理对称密钥</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id74">19|量子时代,你准备好了吗</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/%E5%AE%9E%E7%94%A8%E5%AF%86%E7%A0%81%E5%AD%A6.html#id78">结束语</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/secures/Web%20%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%AE%9E%E6%88%98.html">Web 安全攻防实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/Web%20%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%AE%9E%E6%88%98.html#id2">1. 前端基础</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/secures/Web%20%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%AE%9E%E6%88%98.html#id5">2. Web安全之后端安全</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/testing.html">测试相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/testings/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E8%AF%BE.html">接口测试入门课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E8%AF%BE.html#id3">点评</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E8%AF%BE.html#id4">开篇词 | 把接口测试这件小事做深/做透</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E8%AF%BE.html#id5">01 | 基础: 跳出细节看全局</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E8%AF%BE.html#id6">02 | 方法论: 没有任何文档, 怎么才能快速了解接口的信息</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/testings/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%B5%8B%E8%AF%95%E8%AF%BE.html">程序员的测试课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%B5%8B%E8%AF%95%E8%AF%BE.html#id3">开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%B5%8B%E8%AF%95%E8%AF%BE.html#id5">基础篇 (11 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%B5%8B%E8%AF%95%E8%AF%BE.html#id36">应用篇 (5 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%B5%8B%E8%AF%95%E8%AF%BE.html#id40">03扩展篇 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%B5%8B%E8%AF%95%E8%AF%BE.html#id41">结束语</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html">软件测试 52 讲</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id3">01测试基础知识篇 (11讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#gui-10">02GUI自动化测试篇 (10讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#api-3">03API自动化测试篇 (3讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id14">04代码测试篇 (3讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id16">05性能测试篇 (7讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id17">06测试数据准备篇 (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id18">07测试基础架构篇 (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id19">08测试新技术篇 (5讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id24">09测试人员的互联网架构核心知识篇 (5讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/testings/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%2052%20%E8%AE%B2.html#id25">10特别放送篇 (8讲)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/cloudnative.html">云原生</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html">容器实战高手课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#namespace">Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#cgroups">Cgroups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#linux-kernel">Linux Kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#load-average">Load Average</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#memory-cgroup">Memory Cgroup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#id4">存储</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#network">Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#id5">容器安全</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#k8s">k8s</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/cloudnatives/%E5%AE%B9%E5%99%A8%E5%AE%9E%E6%88%98%E9%AB%98%E6%89%8B%E8%AF%BE.html#id6">思考</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/manager.html">管理&amp;长成</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/managers/%E8%B7%9F%E7%9D%80%E9%AB%98%E6%89%8B%E5%AD%A6%E5%A4%8D%E7%9B%98.html">跟着高手学复盘</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E8%B7%9F%E7%9D%80%E9%AB%98%E6%89%8B%E5%AD%A6%E5%A4%8D%E7%9B%98.html#id3">01基础概念篇 (3 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E8%B7%9F%E7%9D%80%E9%AB%98%E6%89%8B%E5%AD%A6%E5%A4%8D%E7%9B%98.html#id8">02实操流程篇 (9 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E8%B7%9F%E7%9D%80%E9%AB%98%E6%89%8B%E5%AD%A6%E5%A4%8D%E7%9B%98.html#id64">03实战案例篇 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E8%B7%9F%E7%9D%80%E9%AB%98%E6%89%8B%E5%AD%A6%E5%A4%8D%E7%9B%98.html#id76">结束语</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E8%B7%9F%E7%9D%80%E9%AB%98%E6%89%8B%E5%AD%A6%E5%A4%8D%E7%9B%98.html#id77">春节荐书</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/managers/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%9B%E9%98%B6%E6%94%BB%E7%95%A5.html">程序员进阶攻略</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%9B%E9%98%B6%E6%94%BB%E7%95%A5.html#id4">启程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%9B%E9%98%B6%E6%94%BB%E7%95%A5.html#id7">修炼</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%9B%E9%98%B6%E6%94%BB%E7%95%A5.html#id22">修行</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%9B%E9%98%B6%E6%94%BB%E7%95%A5.html#id92">徘徊</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%9B%E9%98%B6%E6%94%BB%E7%95%A5.html#id124">寻路</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%9B%E9%98%B6%E6%94%BB%E7%95%A5.html#id137">蜕变</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html">10x 程序员工作法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id3">思考框架</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id4">四个思考原则</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id5">总结</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id6">一. 以终为始</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id12">二. 任务分解</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id17">三. 沟通反馈</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id18">四. 自动化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id19">五. 综合运用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id20">好书推荐</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/10x%20%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B7%A5%E4%BD%9C%E6%B3%95.html#id28">提问</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html">大厂晋升指南</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id4">晋升原则</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id5">晋升逻辑</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id6">能力模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id7">职级档次</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#p7">P7</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#p8">P8</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#p9">P9</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#p10-p11">P10/P11</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#ppt">面评技巧-PPT框架</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id18">面评技巧-PPT 讲解</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id19">面评技巧-PPT 答辩</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id20">面评技巧-注意点</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id24">面评技巧-技术大会</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id25">面评技巧-其他</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id26">学习方法-指导原则</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id27">学习方法-找时间：海绵学习法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id28">学习方法-学什么：三段分解法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id29">学习方法-怎么学</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id33">学习方法-保证效果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id34">做事方法-总</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#kpi-okr">做事方法-KPI&amp;OKR</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#c">做事方法-3C 方案设计法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#pdca">做事方法-PDCA执行法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#w">做事方法-5W根因分析法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#s">做事方法-5S 问题处理法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#d">做事方法-4D 总结法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id35">做事方法-金字塔汇报法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id37">做事方法-四线复盘法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id38">专项提升-业务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#w1h8c1d">专项提升-业务:5W1H8C1D 分析法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#aarrr">专项提升-业务:AARRR 漏斗模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id39">专项提升-业务:宝洁战略模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id40">专项提升-管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id41">专项提升-管理:管理四象限</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id42">专项提升-管理:管理五模式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id43">别人的心得</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id44">其他</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id46">10000小时定律</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id47">领域分层图</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id48">参考</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/managers/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97.html#id53">其他</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/analysis.html">数据分析</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html">数据分析实战 45 讲</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html#id4">思维导图</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html#id5">开篇词 | 你为什么需要数据分析能力</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html#id10">01基础篇 (16 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html#id24">02算法篇 (20 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html#id37">03实战篇 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html#id44">04工作篇 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2.html#id47">结束语</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html">数据分析思维课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id4">思维导图</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id5">00开篇词 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id7">01数据分析基础 (11 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id34">02数据算法基础 (9 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id50">03如何用数据说话 (6 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id68">04分析工具 (5 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id74">05特别放送 (6 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/analysis/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E8%AF%BE.html#id75">其他</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/ai.html">AI 相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%9F%BA%E7%A1%80%E8%AF%BE.html">人工智能基础课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%9F%BA%E7%A1%80%E8%AF%BE.html#id4">数学基础</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%9F%BA%E7%A1%80%E8%AF%BE.html#id12">机器学习</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%89%E5%8D%81%E5%85%AD%E5%BC%8F.html">推荐系统三十六式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%89%E5%8D%81%E5%85%AD%E5%BC%8F.html#id4">内容推荐</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%89%E5%8D%81%E5%85%AD%E5%BC%8F.html#id9">近邻推荐</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%89%E5%8D%81%E5%85%AD%E5%BC%8F.html#id18">矩阵分解</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%89%E5%8D%81%E5%85%AD%E5%BC%8F.html#id19">个人成长</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E.html">AI 大模型之美</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E.html#id2">课前必读 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E.html#id5">基础知识篇: 探索大型语言模型的能力 (8 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E.html#nlp-10">实战提高篇一: 利用NLP技术完成高级任务 (10讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E.html#id42">实战提高篇(二) 大型语音与图像模型的应用 (9讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E.html#id55">扩展</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%2040%20%E8%AE%B2.html">机器学习 40 讲</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%2040%20%E8%AE%B2.html#id3">01机器学习概观 (10 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%2040%20%E8%AE%B2.html#id5">02统计机器学习模型 (18 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%2040%20%E8%AE%B2.html#id6">03概率图模型 (14 讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98.html">PyTorch 深度学习实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98.html#id2">开篇词 | 如何高效入门 PyTorch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98.html#id3">01基础篇 (5 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98.html#id5">02模型训练篇 (12 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98.html#id26">03实战篇 (9 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98.html#id56">加餐| 基础模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98.html#id60">结束语| 人生充满选择, 选择与努力同样重要</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/%E9%9B%B6%E5%9F%BA%E7%A1%80%20GPT%20%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE.html">零基础 GPT 应用入门课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E9%9B%B6%E5%9F%BA%E7%A1%80%20GPT%20%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE.html#id2">开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E9%9B%B6%E5%9F%BA%E7%A1%80%20GPT%20%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE.html#id7">基础速通 (3讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E9%9B%B6%E5%9F%BA%E7%A1%80%20GPT%20%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE.html#id10">黄金密钥 (7讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E9%9B%B6%E5%9F%BA%E7%A1%80%20GPT%20%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE.html#id18">综合实战 (6讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html">AI 大模型系统实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html#id2">热身篇 (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html#id6">架构基础篇 (6讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98.html#id33">技术原理篇 (5讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/AI%20%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98.html">AI 绘画核心技术与实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98.html#id2">开篇词 (2讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98.html#ai-4">热身篇:AI 绘画初体验 (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98.html#ai-9">基础篇:AI 绘画原理揭秘 (9讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98.html#dall-e-2-stable-diffusion-5">进阶篇:从 DALL-E 2 到 Stable Diffusion (5讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/AI%20%E7%BB%98%E7%94%BB%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98.html#ai-8">综合演练篇:AI 绘画高手养成计划 (8讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/ais/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html">零基础实战机器学习</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/ais/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AE%9E%E6%88%98%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html#id3">08 | 模型优化1: 怎么用特征工程提高模型效率</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/blockchain.html">区块链</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/blockchains/%E8%AF%B4%E9%80%8F%E5%8C%BA%E5%9D%97%E9%93%BE.html">说透区块链</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/blockchains/%E8%AF%B4%E9%80%8F%E5%8C%BA%E5%9D%97%E9%93%BE.html#id3">数字人民币</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/blockchains/%E8%AF%B4%E9%80%8F%E5%8C%BA%E5%9D%97%E9%93%BE.html#id4">书籍</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/coding.html">代码精进</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91.html">代码之丑</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91.html#id3">开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91.html#id4">13 类典型坏味道 (13 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91.html#id5">延伸阅读 (4 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E4%B9%8B%E4%B8%91.html#id10">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/codings/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E4%B9%8B%E7%BE%8E.html">软件设计之美</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/md/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E4%B9%8B%E7%BE%8E.html">软件设计之美</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF.html">代码精进之路</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF.html#id3">01第一模块: 代码 “规范” 篇 (16 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF.html#id19">02第二模块: 代码 “经济” 篇 (14 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/codings/%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF.html#id48">03第三模块: 代码 “安全” 篇 (14 讲)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/lang.html">编程语言</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/langs/Go%E8%AF%AD%E8%A8%80%E6%A0%B8%E5%BF%8336%E8%AE%B2.html">Go 语言核心 36 讲</a></li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html">TonyBai Go语言第一课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id2">课程设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id3">00开篇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id5">01入门篇: 勤加练手 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id6">02基础篇: “脑勤” 多理解 (20 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id8">03核心篇: “脑勤 +” 洞彻核心 (5 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id16">04实战篇: 打通“最后一公里” (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id17">大咖助阵</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id18">加餐</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/langs/Tony-Bai-Go-%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id26">泛型</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/langs/Python%20%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98.html">Python 核心技术与实战</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/product.html">产品&amp;运营</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html">梁宁-产品思维 30 讲</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id4">发刊词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id7">模块一: 同理心</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id23">模块二: 机会判断</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id31">模块三: 系统能力</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id45">模块四: 用户体验</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id66">模块五: 创新模式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id73">产品世界观</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id80">彩蛋</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/products/%E6%A2%81%E5%AE%81%E3%83%BB%E4%BA%A7%E5%93%81%E6%80%9D%E7%BB%B4%2030%20%E8%AE%B2.html#id90">参考</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/interview.html">面试</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html">后端工程师的高阶面经</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html#id3">开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html#id5">01微服务架构 (10讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html#mysql-13">数据库与MySQL (13讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html#id269">消息队列 (10讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html#id321">缓存 (9讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html#nosql-5">NoSQL (5讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/interviews/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E9%AB%98%E9%98%B6%E9%9D%A2%E7%BB%8F.html#id394">结束语</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/softengineering.html">软件工程</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/softengineers/%E8%AF%B4%E9%80%8F%E6%95%8F%E6%8D%B7.html">说透敏捷</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/softengineers/%E8%AF%B4%E9%80%8F%E6%95%8F%E6%8D%B7.html#id3">开篇词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/softengineers/%E8%AF%B4%E9%80%8F%E6%95%8F%E6%8D%B7.html#id4">原理篇 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/softengineers/%E8%AF%B4%E9%80%8F%E6%95%8F%E6%8D%B7.html#id14">实战篇 (4 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/softengineers/%E8%AF%B4%E9%80%8F%E6%95%8F%E6%8D%B7.html#id26">策略篇 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/softengineers/%E8%AF%B4%E9%80%8F%E6%95%8F%E6%8D%B7.html#id29">管理篇 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/softengineers/%E8%AF%B4%E9%80%8F%E6%95%8F%E6%8D%B7.html#id32">结束语</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geeks/other.html">其它</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html">互联网人的英语私教课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#ksa">KSA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id4">独立主格结构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id5">介词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id6">收集</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id8">关键英语</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#vs">并列句 VS 复杂句</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id9">单词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id10">英语谚语</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id11">常用短语</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id12">口语专用词汇</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id13">好的英文网站</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id15">其他</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id16">会不会阅读</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id17">词汇学习</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#paraphrase">paraphrase</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id18">动词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id19">其他</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BA%92%E8%81%94%E7%BD%91%E4%BA%BA%E7%9A%84%E8%8B%B1%E8%AF%AD%E7%A7%81%E6%95%99%E8%AF%BE.html#id20">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/%E4%BB%8E%200%20%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F.html">从 0 打造音视频直播系统</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BB%8E%200%20%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F.html#webrtc-1-1-23">WebRTC 1 对 1 通话 (23 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BB%8E%200%20%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F.html#webrtc-7">WebRTC 多人音视频实时通话 (7 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BB%8E%200%20%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F.html#id22">支持上万人同时在线的直播系统 (8 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%BB%8E%200%20%E6%89%93%E9%80%A0%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F.html#id27">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/%E5%BF%AB%E6%89%8B%C2%B7%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE.html">快手·音视频技术入门课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E5%BF%AB%E6%89%8B%C2%B7%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE.html#id3">开篇基础 (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E5%BF%AB%E6%89%8B%C2%B7%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE.html#id29">流媒体技术速成 (5讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E5%BF%AB%E6%89%8B%C2%B7%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE.html#ffmpeg-api-4">FFmpeg API 应用 (4讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E5%BF%AB%E6%89%8B%C2%B7%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE.html#ffmpeg-2">FFmpeg 社区“玩法” (2讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E5%BF%AB%E6%89%8B%C2%B7%E9%9F%B3%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E8%AF%BE.html#id55">结束语 | 音视频技术更宠爱脚踏实地的人</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF.html">攻克视频技术</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF.html#id3">图像基础和前处理 (3 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF.html#id12">视频编码 (5讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF.html#id22">参考</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%94%BB%E5%85%8B%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF.html#id23">评论</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF.html">搞定音频技术</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF.html#id3">音频基础 (4 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF.html#id13">02音频降噪 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF.html#id15">03回声消除 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF.html#id18">04音频网络传输 (3 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF.html#id22">05空间音频 (2 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E6%90%9E%E5%AE%9A%E9%9F%B3%E9%A2%91%E6%8A%80%E6%9C%AF.html#id24">06音频特效生成与算法 (3 讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html">专利写作第一课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id3">开篇词 | 写专利, 将是知识工作者的核心产出</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id4">01 _ 为什么我推荐互联网人要积极写专利</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id5">02 _ 奖金是专利写作中最不值得一提的事儿</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#keyperson">03 _ 找到KeyPerson利益点, 提升专利通过率</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#prd-1">04 _ 像写PRD一样, 撰写专利交底书1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#prd-2">05 _ 像写PRD一样, 撰写专利交底书2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id14">06 _ 如何把常见的生活问题变成专利(案例-节假日不响起闹钟)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id23">07 _ 专利创新的步伐不必迈得特别大</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id28">08 _ 那些异想天开的专利是怎么诞生的</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/%E4%B8%93%E5%88%A9%E5%86%99%E4%BD%9C%E7%AC%AC%E4%B8%80%E8%AF%BE.html#id32">答疑 _ 专利申请十大常见问题</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/WebAssembly%20%E5%85%A5%E9%97%A8%E8%AF%BE.html">WebAssembly 入门课</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/WebAssembly%20%E5%85%A5%E9%97%A8%E8%AF%BE.html#id2">课前必读</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/WebAssembly%20%E5%85%A5%E9%97%A8%E8%AF%BE.html#id9">01核心原理篇 (6 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/WebAssembly%20%E5%85%A5%E9%97%A8%E8%AF%BE.html#id21">02应用篇 (6 讲)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geeks/others/WebAssembly%20%E5%85%A5%E9%97%A8%E8%AF%BE.html#id22">03实战篇 (6 讲)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../geeks/others/other.html">其他</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../matter.html">Matter 协议</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Matter Core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chapter-1-introduction">Chapter 1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-2-architecture">Chapter 2. Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">2.1. Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layered-architecture">2.2. Layered Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-topology">2.3. Network Topology</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scoped-names">2.4. Scoped names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#identifiers">2.5. Identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-identity">2.6. Device identity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security">2.7. Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-commissioning">2.8. Device Commissioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sleepy-end-device-sed">2.9. Sleepy End Device (SED)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-model-root">2.10. Data Model Root</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stack-limits">2.11. Stack Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-of-provisional-items">2.12. List of Provisional Items</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-3-cryptographic-primitives">Chapter 3. Cryptographic Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-4-secure-channel">Chapter 4. Secure Channel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-description">4.1. General Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ipv6-reachability">4.2. IPv6 Reachability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#discovery">4.3. Discovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-frame-format">4.4. Message Frame Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-counters">4.5. Message Counters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-processing">4.6. Message Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-security">4.7. Message Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-privacy">4.8. Message Privacy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-exchanges">4.9. Message Exchanges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#secure-channel-protocol">4.10. Secure Channel Protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-reliability-protocol-mrp">4.11. Message Reliability Protocol (MRP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unicast-communication">4.12. Unicast Communication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#session-establishment">4.13. Session Establishment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#group-communication">4.14. Group Communication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#group-key-management">4.15. Group Key Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-counter-synchronization-protocol-mcsp">4.16. Message Counter Synchronization Protocol(MCSP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bluetooth-transport-protocol-btp">4.17. Bluetooth Transport Protocol (BTP)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-5-commissioning">Chapter 5. Commissioning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#onboarding-payload">5.1. Onboarding Payload</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initiating-commissioning">5.2. Initiating Commissioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-directed-commissioning">5.3. User Directed Commissioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-discovery">5.4. Device Discovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commissioning-flows">5.5. Commissioning Flows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#administrator-assisted-commissioning-flows">5.6. Administrator Assisted Commissioning Flows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-commissioning-flows">5.7. Device Commissioning Flows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#in-field-upgrade-to-matter">5.8. In-field Upgrade to Matter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-6-device-attestation-and-operational-credentials">Chapter 6. Device Attestation and Operational Credentials</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#common-conventions">6.1. Common Conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-attestation">6.2. Device Attestation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#certification-declaration">6.3. Certification Declaration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#node-operational-credentials-specification">6.4. Node Operational Credentials Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operational-certificate-encoding">6.5. Operational Certificate Encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#access-control">6.6. Access Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-7-data-model-specification">Chapter 7. Data Model Specification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#practical-information">7.1. Practical Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-qualities">7.2. Data Qualities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conformance">7.3. Conformance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#element">7.4. Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fabric">7.5. Fabric</a></li>
<li class="toctree-l4"><a class="reference internal" href="#access">7.6. Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-qualities">7.7. Other Qualities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#node">7.8. Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="#endpoint">7.9. Endpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cluster">7.10. Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command">7.11. Command</a></li>
<li class="toctree-l4"><a class="reference internal" href="#attribute">7.12. Attribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="#global-elements">7.13. Global Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#event">7.14. Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-type">7.15. Device Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#non-standard">7.16. Non-Standard</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-field">7.17. Data Field</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-types">7.18. Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manufacturer-specific-extensions">7.19. Manufacturer Specific Extensions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-8-interaction-model-specification">Chapter 8. Interaction Model Specification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17">8.1. Practical Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#concepts">8.2. Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#status-and-interaction">8.3. Status and Interaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-interaction">8.4. Read Interaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#subscribe-interaction">8.5. Subscribe Interaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#report-transaction">8.6. Report Transaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#write-interaction">8.7. Write Interaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#invoke-interaction">8.8. Invoke Interaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#common-action-information-blocks-and-paths">8.9. Common Action Information Blocks and Paths</a></li>
<li class="toctree-l4"><a class="reference internal" href="#status-codes">8.10. Status Codes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-9-system-model-specification">Chapter 9. System Model Specification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id18">9.1. Practical Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#endpoint-composition">9.2. Endpoint Composition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interaction-model-relationships">9.3. Interaction Model Relationships</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binding-relationship">9.4. Binding Relationship</a></li>
<li class="toctree-l4"><a class="reference internal" href="#descriptor-cluster">9.5. Descriptor Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binding-cluster">9.6. Binding Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#label-cluster">9.7. Label Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fixed-label-cluster">9.8. Fixed Label Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-label-cluster">9.9. User Label Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#access-control-cluster">9.10. Access Control Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#group-relationship">9.11. Group Relationship</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bridge-for-non-matter-devices">9.12. Bridge for non-Matter devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bridged-device-basic-information-cluster">9.13. Bridged Device Basic Information Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#actions-cluster">9.14. Actions Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxy-architecture">9.15. Proxy Architecture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-10-interaction-model-encoding-specification">Chapter 10. Interaction Model Encoding Specification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id23">10.1. Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#messages">10.2. Messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">10.3. Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sample-cluster">10.4. Sample Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#information-blocks">10.5. Information Blocks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-definitions">10.6. Message Definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-11-service-and-device-management">Chapter 11. Service and Device Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-information-cluster">11.1. Basic Information Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#group-key-management-cluster">11.2. Group Key Management Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#localization-configuration-cluster">11.3. Localization Configuration Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-format-localization-cluster">11.4. Time Format Localization Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unit-localization-cluster">11.5. Unit Localization Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-source-configuration-cluster">11.6. Power Source Configuration Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-source-cluster">11.7. Power Source Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-commissioning-cluster">11.8. Network Commissioning Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#general-commissioning-cluster">11.9. General Commissioning Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diagnostic-logs-cluster">11.10. Diagnostic Logs Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#general-diagnostics-cluster">11.11. General Diagnostics Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#software-diagnostics-cluster">11.12. Software Diagnostics Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thread-network-diagnostics-cluster">11.13. Thread Network Diagnostics Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wi-fi-network-diagnostics-cluster">11.14. Wi-Fi Network Diagnostics Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ethernet-network-diagnostics-cluster">11.15. Ethernet Network Diagnostics Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-synchronization">11.16. Time Synchronization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#node-operational-credentials-cluster">11.17. Node Operational Credentials Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#administrator-commissioning-cluster">11.18. Administrator Commissioning Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#over-the-air-ota-software-update">11.19. Over-the-Air (OTA) Software Update</a></li>
<li class="toctree-l4"><a class="reference internal" href="#over-the-air-ota-software-update-file-format">11.20. Over-the-Air (OTA) Software Update File Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bulk-data-exchange-protocol-bdx">11.21. Bulk Data Exchange Protocol (BDX)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#distributed-compliance-ledger">11.22. Distributed Compliance Ledger</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-12-multiple-fabrics">Chapter 12. Multiple Fabrics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-fabrics">12.1. Multiple Fabrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#chapter-13-security-requirements">Chapter 13. Security Requirements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#device-vs-node">13.2. Device vs. Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="#factory-reset">13.4. Factory Reset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#threats-and-countermeasures">13.7. Threats and Countermeasures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-a-tag-length-value-tlv-encoding-format">Appendix A: Tag-length-value (TLV) Encoding Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-1-scope-purpose">A.1. Scope &amp; Purpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-2-tags">A.2. Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-9-length-encoding">A.9. Length Encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-10-end-of-container-encoding">A.10. End of Container Encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-11-value-encodings">A.11. Value Encodings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-12-tlv-encoding-examples">A.12. TLV Encoding Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-b-tag-length-value-tlv-schema-definitions">Appendix B: Tag-length-value (TLV) Schema Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#b-1-introduction">B.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#b-2-definitions">B.2. Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#b-3-types">B.3. Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#b-4-pseudo-types">B.4. Pseudo-Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#b-5-qualifiers">B.5. Qualifiers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-c-tag-length-value-tlv-payload-text-representation-format">Appendix C: Tag-length-value (TLV) Payload Text Representation Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#c-1-introduction">C.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-3-examples">C.3. Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-d-status-report-messages">Appendix D: Status Report Messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#d-3-message-format">D.3. Message Format</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-e-matter-specific-asn-1-object-identifiers-oids">Appendix E: Matter-Specific ASN.1 Object Identifiers (OIDs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-f-cryptographic-test-vectors-for-some-procedures">Appendix F: Cryptographic test vectors for some procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-g-minimal-resource-requirements">Appendix G: Minimal Resource Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html">Matter协议分析</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#id2">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#id3">算法</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#ecc">椭圆曲线密码学 (ECC) 原理</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#bridge">Bridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#factory-data">Factory Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#id4">安全</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#pase">PASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#id5">配网过程</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#case">CASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#group">Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#cluster">cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#ota">OTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html#id6">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="chatgpt.html">chatGPT学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-01-introduction-document">Chapter 01 — Introduction Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-02-architecture-document">Chapter 02 — Architecture Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-03-cryptographic-primitives-document">Chapter 03 — Cryptographic Primitives Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-04-secure-channel-document">Chapter 04 — Secure Channel Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-05-commissioning-document">Chapter 05 — Commissioning Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-06-device-attestation-document">Chapter 06 — Device Attestation Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-07-data-model-document">Chapter 07 — Data Model Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-08-interaction-model-document">Chapter 08 — Interaction Model Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-09-system-model-document">Chapter 09 — System Model Document</a><ul>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id2">概述和定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id3">设备类型和服务类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id4">特征</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id5">系统模型实例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-10-interaction-encoding-document">Chapter 10 — Interaction Encoding Document</a><ul>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id6">概述和定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id7">数据类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id8">交互编码格式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-11-device-management-document">Chapter 11 — Device Management Document</a><ul>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id9">概述和定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id10">设备组成</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id11">设备状态</a></li>
<li class="toctree-l4"><a class="reference internal" href="chatgpt.html#id12">设备操作</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-12-multiple-fabrics-document">Chapter 12 — Multiple Fabrics Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#chapter-13-security-requirements-document">Chapter 13 — Security Requirements Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#appendix-a-tag-length-value-tlv-encoding-format">Appendix A: Tag-length-value (TLV) Encoding Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#appendix-b-tag-length-value-tlv-schema-definitions">Appendix B: Tag-length-value (TLV) Schema Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#appendix-c-tag-length-value-tlv-payload-text-representation-format">Appendix C: Tag-length-value (TLV) Payload Text Representation Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="chatgpt.html#appendix-d-status-report-messages">Appendix D: Status Report Messages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rfc.html">rfc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html">RFC791: IP: INTERNET PROTOCOL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#preface">PREFACE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#introduction">1.  INTRODUCTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#overview">2.  OVERVIEW</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#relation-to-other-protocols">2.1.  Relation to Other Protocols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#model-of-operation">2.2.  Model of Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#function-description">2.3.  Function Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#gateways">2.4.  Gateways</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#specification">3.  SPECIFICATION</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#internet-header-format">3.1.  Internet Header Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#discussion">3.2  Discussion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#interfaces">3.3  Interfaces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#appendix-a-examples-scenarios">APPENDIX A:  Examples &amp; Scenarios</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#minimal-data-carrying-internet-datagram">minimal data carrying internet datagram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#moderate-size-internet-datagram-452-data-octets">moderate size internet datagram (452 data octets)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#datagram-containing-options">datagram containing options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#appendix-b-data-transmission-order">APPENDIX B:  Data Transmission Order</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0791-IP%20Spec.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ips/rfc0792-ICMP.html">RFC792: ICMP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc0792-ICMP.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html">RFC3569: An Overview of Source-Specific Multicast (SSM)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#terminology">2.  Terminology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#any-source-multicast-asm">Any-Source Multicast (ASM)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#source-specific-multicast-ssm">Source-Specific Multicast (SSM)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#source-filtered-multicast-sfm">Source-Filtered Multicast (SFM)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#the-igmp-pim-sm-msdp-mbgp-protocol-suite-for-asm">3.  The IGMP/PIM-SM/MSDP/MBGP Protocol Suite for ASM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#problems-with-current-architecture">4.  Problems with Current Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#source-specific-multicast-ssm-benefits-and-requirements">5.  Source Specific Multicast (SSM): Benefits and Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#ssm-framework">6.  SSM Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#address-allocation">6.1.  Address Allocation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#session-description-and-channel-discovery">6.2.  Session Description and Channel Discovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#ssm-aware-applications">6.3.  SSM-Aware Applications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#igmpv3-mldv2-host-reporting-and-querier">6.4.  IGMPv3/MLDv2 Host Reporting and Querier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#pim-ssm-routing">6.5.  PIM-SSM Routing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#interoperability-with-existing-multicast-service-models">7.  Interoperability with Existing Multicast Service Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#id2">应用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#ssm">SSM示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc3569-SSM.html#id3">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ips/rfc4301.html">RFC4301: Security Architecture for the IP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc4301.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ips/rfc4302-IP%20Authentication%20Header.html">RFC4302: IP Authentication Header</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc4302-IP%20Authentication%20Header.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ips/rfc4303.html">RFC4303: IP Encapsulating Security Payload (ESP)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ips/rfc4303.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ips/rfc4693-CIDR.html">RFC4693: Classless Inter-domain Routing (CIDR)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html">RFC3306: Unicast-Prefix-based IPv6 Multicast Addresses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#ipv6">IPv6 多播地址中前缀长度的取值范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#id2">多播地址的分配规则</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#abstract">Abstract</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#introduction">1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#motivation">2. Motivation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#multicast-address-format">4. Multicast Address Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#ssm-source-specific-multicast-addresses">6. SSM(Source-Specific Multicast Addresses)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#examples">7. Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc3306-Unicast-Prefix-based%20IPv6%20Multicast%20Addresses.html#id3">参考</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html">RFC4007: IPv6 Scoped Address Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#address-scope">4.  Address Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#scope-zones">5.  Scope Zones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#zone-indices">6.  Zone Indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#sending-packets">7.  Sending Packets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#receiving-packets">8.  Receiving Packets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#forwarding">9.  Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#routing">10.  Routing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#textual-representation">11.  Textual Representation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4007-IPv6%20Scoped%20Address%20Architecture.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html">RFC4291: IP Version 6 Addressing Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#id2">学习</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#keypoints">keypoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#id3">地址类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#id4">地址分配</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#ipv6-addressing">2.  IPv6 Addressing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#addressing-model">2.1.  Addressing Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#text-representation-of-addresses">2.2.  Text Representation of Addresses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#text-representation-of-address-prefixes">2.3.  Text Representation of Address Prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#address-type-identification">2.4. Address Type Identification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#unicast-addresses">2.5.  Unicast Addresses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#anycast-addresses">2.6.  Anycast Addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#multicast-addresses">2.7.  Multicast Addresses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#pre-defined-multicast-addresses">2.7.1.  Pre-Defined Multicast Addresses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#a-node-s-required-addresses">2.8. A Node’s Required Addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#security-considerations">3. Security Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#appendix-a-creating-modified-eui-64-format-interface-identifiers">Appendix A: Creating Modified EUI-64 Format Interface Identifiers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#links-or-nodes-with-ieee-eui-64-identifiers">Links or Nodes with IEEE EUI-64 Identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#links-or-nodes-with-ieee-802-48-bit-macs">Links or Nodes with IEEE 802 48-bit MACs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#links-with-other-kinds-of-identifiers">Links with Other Kinds of Identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#links-without-identifiers">Links without Identifiers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc4291-IPv6%20Addressing%20Architecture.html#id5">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc6437.html">RFC6437: IPv6 Flow Label Specification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc6437.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc7346-IPv6%20Multicast%20Address%20Scopes.html">RFC7346: IPv6 Multicast Address Scopes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc7346-IPv6%20Multicast%20Address%20Scopes.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc7346-IPv6%20Multicast%20Address%20Scopes.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc7346-IPv6%20Multicast%20Address%20Scopes.html#definition-of-ipv6-multicast-address-scopes-updates-rfc-4291">2.  Definition of IPv6 Multicast Address Scopes (Updates RFC 4291)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc7346-IPv6%20Multicast%20Address%20Scopes.html#definition-of-realm-local-scopes">3.  Definition of Realm-Local Scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc7346-IPv6%20Multicast%20Address%20Scopes.html#definition-of-realm-local-scope-for-ieee-802-15-4">5.  Definition of Realm-Local Scope for IEEE 802.15.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc7346-IPv6%20Multicast%20Address%20Scopes.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc7707.html">RFC7707: Network Reconnaissance in IPv6 Networks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc7707.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html">RFC8200 Internet Protocol, Version 6 (IPv6) Specification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#introduction">1.  Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#changes-from-ipv4-to-ipv6">changes from IPv4 to IPv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#related-rfc">related RFC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#terminology">2.  Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#ipv6-header-format">3.  IPv6 Header Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#ipv6-extension-headers">4.  IPv6 Extension Headers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#extension-header-order">4.1.  Extension Header Order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#options">4.2.  Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#hop-by-hop-options-header">4.3.  Hop-by-Hop Options Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#routing-header">4.4.  Routing Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#fragment-header">4.5.  Fragment Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#destination-options-header">4.6.  Destination Options Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#no-next-header">4.7.  No Next Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#defining-new-extension-headers-and-options">4.8.  Defining New Extension Headers and Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#packet-size-issues">5.  Packet Size Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#flow-labels">6.  Flow Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#traffic-classes">7.  Traffic Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#upper-layer-protocol-issues">8.  Upper-Layer Protocol Issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#upper-layer-checksums">8.1.  Upper-Layer Checksums</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#maximum-packet-lifetime">8.2.  Maximum Packet Lifetime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#maximum-upper-layer-payload-size">8.3.  Maximum Upper-Layer Payload Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#responding-to-packets-carrying-routing-headers">8.4.  Responding to Packets Carrying Routing Headers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#iana-considerations">9.  IANA Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#security-considerations">10. Security Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#same-with-ipv4">same with ipv4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#compare-with-ipv4">compare with ipv4</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#references">11. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#appendix-a-formatting-guidelines-for-options">Appendix A.  Formatting Guidelines for Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#appendix-b-changes-since-rfc-2460">Appendix B.  Changes Since RFC 2460</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8200-IPv6%20Spec.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/ipv6/rfc8201.html">RFC8201: Path MTU Discovery for IP version 6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/ipv6/rfc8201.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/tcps/rfc9293-TCP.html">RFC9293: Transmission Control Protocol (TCP)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/tcps/rfc9293-TCP.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/tcps/rfc0768-UDP.html">RFC0768: User Datagram Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/tcps/rfc0768-UDP.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html">rfc7230: HTTP/1.1: Message Syntax and Routing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#id2">定义</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#hop-by-hop-and-end-to-end">hop-by-hop and end-to-end</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#inbound-and-outbound">Inbound and Outbound</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#head-of-line-hol-blocking-problem">head-of-line (HOL) blocking problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#abnf">ABNF语法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#introduction">1.  Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#syntax-notation">1.2.  Syntax Notation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#architecture">2.  Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#client-server-messaging">2.1.  Client/Server Messaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#implementation-diversity">2.2.  Implementation Diversity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#intermediaries">2.3.  Intermediaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#caches">2.4.  Caches</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#conformance-and-error-handling">2.5.  Conformance and Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#protocol-versioning">2.6. Protocol Versioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#uniform-resource-identifiers">2.7. Uniform Resource Identifiers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#message-format">3. Message Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#start-line">3.1. Start Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#header-fields">3.2. Header Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#message-body">3.3. Message Body</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#handling-incomplete-messages">3.4. Handling Incomplete Messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#transfer-codings">4. Transfer Codings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#chunked-transfer-coding">4.1.  Chunked Transfer Coding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#compression-codings">4.2. Compression Codings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#te">4.3. TE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#trailer">4.4. Trailer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#message-routing">5. Message Routing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#identifying-a-target-resource">5.1.  Identifying a Target Resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#connecting-inbound">5.2.  Connecting Inbound</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#request-target">5.3.  Request Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#host">5.4. Host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#effective-request-uri">5.5. Effective Request URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#associating-a-response-to-a-request">5.6. Associating a Response to a Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#message-forwarding">5.7. Message Forwarding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#connection-management">6. Connection Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#connection">6.1.  Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#establishment">6.2. Establishment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#persistence">6.3. Persistence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#concurrency">6.4. Concurrency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#failures-and-timeouts">6.5. Failures and Timeouts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#tear-down">6.6. Tear-down</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#upgrade">6.7. Upgrade</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#abnf-list-extension-rule">7. ABNF List Extension: #rule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#iana-considerations">8.  IANA Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#header-field-registration">8.1.  Header Field Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#uri-scheme-registration">8.2.  URI Scheme Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#internet-media-type-registration">8.3.  Internet Media Type Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#transfer-coding-registry">8.4.  Transfer Coding Registry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#content-coding-registration">8.5.  Content Coding Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7230%20HTTP-Message%20Syntax%20and%20Routing.html#upgrade-token-registry">8.6.  Upgrade Token Registry</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7231%20HTTP-Semantics%20and%20Content.html">rfc7231: HTTP/1.1: Semantics and Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7232%20HTTP-Conditional%20Requests.html">rfc7232: HTTP/1.1: Conditional Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7233%20HTTP-Range%20Requests.html">rfc7233: HTTP/1.1: Range Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7234%20HTTP-Caching.html">rfc7234: HTTP/1.1: Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/obsoleted-rfc7235%20HTTP-Authentication.html">rfc7235: HTTP/1.1: Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/rfc9110-HTTP%20Semantics.html">rfc9110: HTTP Semantics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http/rfc9110-HTTP%20Semantics.html#introduction">1. Introduction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/rfc9111-HTTP%20Caching.html">rfc9111: HTTP Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http/rfc9112-HTTP1.1.html">rfc9112: HTTP/1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http3/rfc9000.html">RFC9000: QUIC: A UDP-Based Multiplexed and Secure Transport</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http3/rfc9000.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http3/rfc9001.html">RFC9001: Using TLS to Secure QUIC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http3/rfc9002.html">RFC9002: QUIC Loss Detection and Congestion Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http3/rfc9002.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http3/rfc9114.html">RFC9114: HTTP/3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http3/rfc9114.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/http3/rfc9204.html">RFC9204: QPACK: Field Compression for HTTP/3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/http3/rfc9204.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/dns/rfc1035.html">RFC1035: DOMAIN NAMES-IMPLEMENTATION AND SPECIFICATION</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/dns/rfc2782.html">RFC2782: DNS SRV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/dns/rfc6762.html">RFC6762: mDNS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id2">收集</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#chatgpt">chatGPT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id3">规范和要求</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id4">实现和应用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id5">安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id6">性能和可扩展性</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#mdns-names">3.  mDNS Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#reverse-address-mapping">4. Reverse Address Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#querying">5. Querying</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#one-shot-mdns-queries">5.1.  One-Shot mDNS Queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#continuous-mdns-querying">5.2.  Continuous mDNS Querying</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#multiple-questions-per-query">5.3.  Multiple Questions per Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#questions-requesting-unicast-responses">5.4.  Questions Requesting Unicast Responses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#direct-unicast-queries-to-port-5353">5.5.  Direct Unicast Queries to Port 5353</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#responding">6. Responding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#common">common</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#negative-responses">6.1.  Negative Responses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#responding-to-address-queries">6.2.  Responding to Address Queries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#traffic-reduction">7. Traffic Reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#probing-and-announcing-on-startup">8. Probing and Announcing on Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#conflict-resolution">9. Conflict Resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#resource-record-ttl-values-and-cache-coherency">10. Resource Record TTL Values and Cache Coherency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#source-address-check">11.  Source Address Check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#special-characteristics-of-mdns-domains">12.  Special Characteristics of mDNS Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#enabling-and-disabling-mdns">13.  Enabling and Disabling mDNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#considerations-for-multiple-interfaces">14.  Considerations for Multiple Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#considerations-for-multiple-responders-on-the-same-machine">15.  Considerations for Multiple Responders on the Same Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#mdns-character-set">16.  mDNS Character Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#mdns-message-size">17.  mDNS Message Size</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#mdns-message-format">18.  mDNS Message Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id-query-identifier">18.1.  ID (Query Identifier)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#qr-query-response-bit">18.2.  QR (Query/Response) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#opcode">18.3.  OPCODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#aa-authoritative-answer-bit">18.4.  AA (Authoritative Answer) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#tc-truncated-bit">18.5.  TC (Truncated) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#rd-recursion-desired-bit">18.6.  RD (Recursion Desired) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#ra-recursion-available-bit">18.7.  RA (Recursion Available) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#z-zero-bit">18.8.  Z (Zero) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#ad-authentic-data-bit">18.9.  AD (Authentic Data) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#cd-checking-disabled-bit">18.10.  CD (Checking Disabled) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#rcode-response-code">18.11.  RCODE (Response Code)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#repurposing-of-top-bit-of-qclass-in-question-section">18.12.  Repurposing of Top Bit of qclass in Question Section</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#repurposing-of-top-bit-of-rrclass-in-resource-record-sections">18.13.  Repurposing of Top Bit of rrclass in Resource Record Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#name-compression">18.14.  Name Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id7">18.5.  TC (Truncated) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id8">18.6.  RD (Recursion Desired) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id9">18.7.  RA (Recursion Available) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id10">18.8.  Z (Zero) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id11">18.9.  AD (Authentic Data) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id12">18.10.  CD (Checking Disabled) Bit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id13">18.11.  RCODE (Response Code)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id14">18.12.  Repurposing of Top Bit of qclass in Question Section</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id15">18.13.  Repurposing of Top Bit of rrclass in Resource Record Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id16">18.14.  Name Compression</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#summary-of-differences-between-mdns-and-unicast-dns">19.  Summary of Differences between mDNS and Unicast DNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#ipv6-considerations">20.  IPv6 Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#security-considerations">21.  Security Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#iana-considerations">22. IANA Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-a-design-rationale-for-choice-of-udp-port-number">Appendix A. Design Rationale for Choice of UDP Port Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-b-design-rationale-for-not-using-hashed-multicast-addresses">Appendix B. Design Rationale for Not Using Hashed Multicast Addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-c-design-rationale-for-maximum-multicast-dns-name-length">Appendix C. Design Rationale for Maximum Multicast DNS Name Length</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-d-benefits-of-multicast-responses">Appendix D. Benefits of Multicast Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-e-design-rationale-for-encoding-negative-responses">Appendix E. Design Rationale for Encoding Negative Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-f-use-of-utf-8">Appendix F. Use of UTF-8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-g-private-dns-namespaces">Appendix G. Private DNS Namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#appendix-h-deployment-history">Appendix H.  Deployment History</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6762.html#id17">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/dns/rfc6763.html">RFC6763: DNS-Based Service Discovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#id2">收集</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#design-goals">3.  Design Goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#service-instance-enumeration-browsing">4.  Service Instance Enumeration (Browsing)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#structured-service-instance-names">4.1.  Structured Service Instance Names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#user-interface-presentation">4.2.  User Interface Presentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#internal-handling-of-names">4.3.  Internal Handling of Names</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#service-instance-resolution">5. Service Instance Resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#data-syntax-for-dns-sd-txt-records">6. Data Syntax for DNS-SD TXT Records</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#general-format-rules-for-dns-txt-records">6.1. General Format Rules for DNS TXT Records</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#dns-sd-txt-record-size">6.2. DNS-SD TXT Record Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#dns-txt-record-format-rules-for-use-in-dns-sd">6.3. DNS TXT Record Format Rules for Use in DNS-SD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#rules-for-keys-in-dns-sd-key-value-pairs">6.4. Rules for Keys in DNS-SD Key/Value Pairs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#rules-for-values-in-dns-sd-key-value-pairs">6.5. Rules for Values in DNS-SD Key/Value Pairs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#example-txt-record">6.6. Example TXT Record</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#version-tag">6.7. Version Tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#service-instances-with-multiple-txt-records">6.8. Service Instances with Multiple TXT Records</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#id3">7. Service Names</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#selective-instance-enumeration-subtypes">7.1. Selective Instance Enumeration (Subtypes)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#service-name-length-limits">7.2. Service Name Length Limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#flagship-naming">8. Flagship Naming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#service-type-enumeration">9. Service Type Enumeration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#populating-the-dns-with-information">10. Populating the DNS with Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#domain-enumeration">11. Domain Enumeration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#dns-additional-record-generation">12.  DNS Additional Record Generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#ptr-records">12.1.  PTR Records</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#srv-records">12.2.  SRV Records</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#txt-records">12.3.  TXT Records</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#other-record-types">12.4.  Other Record Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#working-examples">13.  Working Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#ipv6-considerations">14.  IPv6 Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#security-considerations">15.  Security Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#iana-considerations">16.  IANA Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#appendix-a-rationale-for-using-dns-as-a-basis-for-service-discovery">Appendix A.  Rationale for Using DNS as a Basis for Service Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#appendix-b-ordering-of-service-instance-name-components">Appendix B.  Ordering of Service Instance Name Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#b-1-semantic-structure">B.1.  Semantic Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#b-2-network-efficiency">B.2.  Network Efficiency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/dns/rfc6763.html#b-3-operational-flexibility">B.3.  Operational Flexibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#appendix-c-what-you-see-is-what-you-get">Appendix C.  What You See Is What You Get</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#appendix-d-choice-of-factory-default-names">Appendix D.  Choice of Factory-Default Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#appendix-e-name-encodings-in-the-domain-name-system">Appendix E.  Name Encodings in the Domain Name System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#appendix-f-continuous-live-update-browsing-model">Appendix F.  “Continuous Live Update” Browsing Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc6763.html#id4">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/dns/rfc8766.html">RFC8766: Discovery Proxy for Multicast DNS-Based Service Discovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/dns/rfc8766.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/streamings/rfc2974-Session%20Announcement%20Protocol.html">RFC2974: Session Announcement Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html">RFC3261: SIP: Session Initiation Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#introduction">1 Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#overview-of-sip-functionality">2 Overview of SIP Functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#overview-of-operation">4 Overview of Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#structure-of-the-protocol">5 Structure of the Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#definitions">6 Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#sip-messages">7 SIP Messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#requests">7.1 Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#responses">7.2 Responses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#header-fields">7.3 Header Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#bodies">7.4 Bodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#framing-sip-messages">7.5 Framing SIP Messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#general-user-agent-behavior">8 General User Agent Behavior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#uac-behavior">8.1 UAC Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#uas-behavior">8.2 UAS Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#redirect-servers">8.3 Redirect Servers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#canceling-a-request">9 Canceling a Request</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#client-behavior">9.1 Client Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#server-behavior">9.2 Server Behavior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#registrations">10 Registrations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#overview">10.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#constructing-the-register-request">10.2 Constructing the REGISTER Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#processing-register-requests">10.3 Processing REGISTER Requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#querying-for-capabilities">11 Querying for Capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#dialogs">12 Dialogs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#creation-of-a-dialog">12.1 Creation of a Dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#requests-within-a-dialog">12.2 Requests within a Dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#termination-of-a-dialog">12.3 Termination of a Dialog</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#initiating-a-session">13 Initiating a Session</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#id3">13.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#uac-processing">13.2 UAC Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#uas-processing">13.3 UAS Processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#modifying-an-existing-session">14 Modifying an Existing Session</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#id4">14.1 UAC Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#id5">14.2 UAS Behavior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#terminating-a-session">15 Terminating a Session</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#terminating-a-session-with-a-bye-request">15.1 Terminating a Session with a BYE Request</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#proxy-behavior">16 Proxy Behavior</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#id8">16.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#stateful-proxy">16.2 Stateful Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#request-validation">16.3 Request Validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#route-information-preprocessing">16.4 Route Information Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#determining-request-targets">16.5 Determining Request Targets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#request-forwarding">16.6 Request Forwarding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#response-processing">16.7 Response Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#processing-timer-c">16.8 Processing Timer C</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#handling-transport-errors">16.9 Handling Transport Errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#cancel-processing">16.10 CANCEL Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#stateless-proxy">16.11 Stateless Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#summary-of-proxy-route-processing">16.12 Summary of Proxy Route Processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#transactions">17 Transactions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#client-transaction">17.1 Client Transaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#server-transaction">17.2 Server Transaction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#transport">18 Transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#common-message-components">19 Common Message Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#sip-and-sips-uniform-resource-indicators">19.1 SIP and SIPS Uniform Resource Indicators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#option-tags">19.2 Option Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#tags">19.3 Tags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#id10">20 Header Fields</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#accept">20.1 Accept</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#accept-encoding">20.2 Accept-Encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#accept-language">20.3 Accept-Language</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#alert-info">20.4 Alert-Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#allow">20.5 Allow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#authentication-info">20.6 Authentication-Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#authorization">20.7 Authorization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#call-id">20.8 Call-ID</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#call-info">20.9 Call-Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#contact">20.10 Contact</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#content-disposition">20.11 Content-Disposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#content-encoding">20.12 Content-Encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#content-language">20.13 Content-Language</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#content-length">20.14 Content-Length</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#content-type">20.15 Content-Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#cseq">20.16 CSeq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#date">20.17 Date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#error-info">20.18 Error-Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#expires">20.19 Expires</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#from">20.20 From</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#in-reply-to">20.21 In-Reply-To</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#max-forwards">20.22 Max-Forwards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#min-expires">20.23 Min-Expires</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#mime-version">20.24 MIME-Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#organization">20.25 Organization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#priority">20.26 Priority</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#proxy-authenticate">20.27 Proxy-Authenticate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#proxy-authorization">20.28 Proxy-Authorization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#proxy-require">20.29 Proxy-Require</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#record-route">20.30 Record-Route</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#reply-to">20.31 Reply-To</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#id11">20.32 Require</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#retry-after">20.33 Retry-After</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#route">20.34 Route</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#server">20.35 Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#subject">20.36 Subject</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#supported">20.37 Supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#timestamp">20.38 Timestamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#to">20.39 To</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#unsupported">20.40 Unsupported</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#user-agent">20.41 User-Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#via">20.42 Via</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#warning">20.43 Warning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#www-authenticate">20.44 WWW-Authenticate</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#response-codes">21 Response Codes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#provisional-1xx">21.1 Provisional 1xx</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#successful-2xx">21.2 Successful 2xx</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#redirection-3xx">21.3 Redirection 3xx</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#request-failure-4xx">21.4 Request Failure 4xx</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#server-failure-5xx">21.5 Server Failure 5xx</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#global-failures-6xx">21.6 Global Failures 6xx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#usage-of-http-authentication">22 Usage of HTTP Authentication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#framework">22.1 Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#user-to-user-authentication">22.2 User-to-User Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#proxy-to-user-authentication">22.3 Proxy-to-User Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#the-digest-authentication-scheme">22.4 The Digest Authentication Scheme</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#s-mime">23 S/MIME</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#s-mime-certificates">23.1 S/MIME Certificates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#s-mime-key-exchange">23.2 S/MIME Key Exchange</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#securing-mime-bodies">23.3 Securing MIME bodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#sip-header-privacy-and-integrity-using-s-mime-tunneling-sip">23.4 SIP Header Privacy and Integrity using S/MIME: Tunneling SIP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#id12">24 Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#registration">24.1 Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#session-setup">24.2 Session Setup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#augmented-bnf-for-the-sip-protocol">25 Augmented BNF for the SIP Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#security-considerations-threat-model-and-security-usage-recommendations">26 Security Considerations: Threat Model and Security Usage Recommendations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#iana-considerations">27 IANA Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#changes-from-rfc-2543">28 Changes From RFC 2543</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#major-functional-changes">28.1 Major Functional Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#minor-functional-changes">28.2 Minor Functional Changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3261-SIP-Session%20Initiation%20Protocol.html#a-table-of-timer-values">A Table of Timer Values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html">RFC3550: RTP: A Transport Protocol for Real-Time Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#introduction">1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtp-use-scenarios">2. RTP Use Scenarios</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#simple-multicast-audio-conference">2.1 Simple Multicast Audio Conference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#audio-and-video-conference">2.2 Audio and Video Conference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#mixers-and-translators">2.3 Mixers and Translators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#layered-encodings">2.4 Layered Encodings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#definitions">3. Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#byte-order-alignment-and-time-format">4. Byte Order, Alignment, and Time Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtp-data-transfer-protocol">5. RTP Data Transfer Protocol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtp-fixed-header-fields">5.1 RTP Fixed Header Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#multiplexing-rtp-sessions">5.2 Multiplexing RTP Sessions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#profile-specific-modifications-to-the-rtp-header">5.3  Profile-Specific Modifications to the RTP Header</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtp-control-protocol-rtcp">6.  RTP Control Protocol – RTCP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtcp-packet-format">6.1  RTCP Packet Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtcp-transmission-interval">6.2  RTCP Transmission Interval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtcp-packet-send-and-receive-rules">6.3  RTCP Packet Send and Receive Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#sender-and-receiver-reports">6.4  Sender and Receiver Reports</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#sdes-source-description-rtcp-packet">6.5  SDES: Source Description RTCP Packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#bye-goodbye-rtcp-packet">6.6  BYE: Goodbye RTCP Packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#app-application-defined-rtcp-packet">6.7  APP: Application-Defined RTCP Packet</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtp-translators-and-mixers">7.  RTP Translators and Mixers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#general-description">7.1  General Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtcp-processing-in-translators">7.2  RTCP Processing in Translators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtcp-processing-in-mixers">7.3  RTCP Processing in Mixers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#cascaded-mixers">7.4  Cascaded Mixers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#ssrc-identifier-allocation-and-use">8.  SSRC Identifier Allocation and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#security">9.  Security</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#confidentiality">9.1 Confidentiality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#authentication-and-message-integrity">9.2 Authentication and Message Integrity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#congestion-control">10. Congestion Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtp-over-network-and-transport-protocols">11. RTP over Network and Transport Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#summary-of-protocol-constants">12. Summary of Protocol Constants</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtcp-packet-types">12.1 RTCP Packet Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#sdes-types">12.2 SDES Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#rtp-profiles-and-payload-format-specifications">13. RTP Profiles and Payload Format Specifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#appendix-a-algorithms">Appendix A.   Algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3550-RTP-A%20Transport%20Protocol%20for%20Real-Time%20Applications.html#appendix-b-changes-from-rfc-1889">Appendix B.   Changes from RFC 1889</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html">RFC3551: RTP Profile for Audio and Video Conferences with Minimal Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#introduction">1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#rtp-and-rtcp-packet-forms-and-protocol-behavior">2. RTP and RTCP Packet Forms and Protocol Behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#registering-additional-encodings">3.  Registering Additional Encodings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#audio">4.  Audio</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#encoding-independent-rules">4.1  Encoding-Independent Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#operating-recommendations">4.2  Operating Recommendations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#guidelines-for-sample-based-audio-encodings">4.3  Guidelines for Sample-Based Audio Encodings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#guidelines-for-frame-based-audio-encodings">4.4  Guidelines for Frame-Based Audio Encodings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#audio-encodings">4.5 Audio Encodings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#video">5.  Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#payload-type-definitions">6.  Payload Type Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#rtp-over-tcp-and-similar-byte-stream-protocols">7.  RTP over TCP and Similar Byte Stream Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#port-assignment">8.  Port Assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc3551-RTP%20Profile%20for%20Audio%20and%20Video%20Conferences%20with%20Minimal%20Control.html#changes-from-rfc-1890">9.  Changes from RFC 1890</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html">RFC6184: RTP Payload Format for H.264 Video</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#introduction">1. Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#the-h-264-codec">1.1.  The H.264 Codec</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#parameter-set-concept">1.2.  Parameter Set Concept</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#network-abstraction-layer-unit-types">1.3.  Network Abstraction Layer Unit Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#conventions">2. Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#scope">3. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#definitions-and-abbreviations">4. Definitions and Abbreviations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#definitions">4.1.  Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#abbreviations">4.2.  Abbreviations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#rtp-payload-format">5. RTP Payload Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#rtp-header-usage">5.1.  RTP Header Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#payload-structures">5.2.  Payload Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#nal-unit-header-usage">5.3.  NAL Unit Header Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#packetization-modes">5.4.  Packetization Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#decoding-order-number-don">5.5.  Decoding Order Number (DON)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#single-nal-unit-packet">5.6.  Single NAL Unit Packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#aggregation-packets">5.7.  Aggregation Packets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#fragmentation-units-fus">5.8.  Fragmentation Units (FUs)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#packetization-rules">6. Packetization Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#de-packetization-process">7. De-Packetization Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#payload-format-parameters">8. Payload Format Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#media-type-registration">8.1.  Media Type Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#sdp-parameters">8.2.  SDP Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#examples">8.3.  Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#parameter-set-considerations">8.4.  Parameter Set Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#decoder-refresh-point-procedure-using-in-band-transport-of-parameter-sets-informative">8.5.  Decoder Refresh Point Procedure Using In-Band Transport of Parameter Sets (Informative)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#informative-appendix-application-examples">12. Informative Appendix: Application Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#video-telephony-according-to-annex-a-of-itu-t-recommendation-h-241">12.1.  Video Telephony According to Annex A of ITU-T Recommendation H.241</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#video-telephony-no-slice-data-partitioning-no-nal-unit-aggregation">12.2.  Video Telephony, No Slice Data Partitioning, No NAL Unit Aggregation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#video-telephony-interleaved-packetization-using-nal-unit-aggregation">12.3.  Video Telephony, Interleaved Packetization Using NAL Unit Aggregation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#video-telephony-with-data-partitioning">12.4.  Video Telephony with Data Partitioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#video-telephony-or-streaming-with-fus-and-forward-error-correction">12.5.  Video Telephony or Streaming with FUs and Forward Error Correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#low-bitrate-streaming">12.6.  Low Bitrate Streaming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#robust-packet-scheduling-in-video-streaming">12.7.  Robust Packet Scheduling in Video Streaming</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#informative-appendix-rationale-for-decoding-order-number">13. Informative Appendix: Rationale for Decoding Order Number</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc6184-RTP%20Payload%20Format%20for%20H.264%20Video.html#example-of-robust-packet-scheduling">13.3.  Example of Robust Packet Scheduling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html">RFC7826: Real-Time Streaming Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#abstract">Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#protocol-overview">2.  Protocol Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#presentation-description">2.1.  Presentation Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#session-establishment">2.2.  Session Establishment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#media-delivery-control">2.3.  Media Delivery Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#session-parameter-manipulations">2.4. Session Parameter Manipulations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#media-delivery">2.5. Media Delivery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#session-maintenance-and-termination">2.6. Session Maintenance and Termination</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#extending-rtsp">2.7. Extending RTSP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#document-conventions">3. Document Conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#terminology">3.2. Terminology</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#protocol-parameters">4. Protocol Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#rtsp-version">4.1.  RTSP Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#rtsp-iri-and-uri">4.2.  RTSP IRI and URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#session-identifiers">4.3.  Session Identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#media-time-formats">4.4.  Media-Time Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#feature-tags">4.5.  Feature Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#message-body-tags">4.6.  Message Body Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#media-properties">4.7.  Media Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#rtsp-message">5. RTSP Message</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#message-types">5.1. Message Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#message-headers">5.2. Message Headers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#message-body">5.3. Message Body</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#message-length">5.4. Message Length</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#general-header-fields">6. General-Header Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#request">7. Request</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#request-line">7.1.  Request Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#request-header-fields">7.2.  Request-Header Fields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#response">8. Response</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#status-line">8.1.  Status-Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#response-headers">8.2.  Response Headers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#id2">9. Message Body</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#message-body-header-fields">9.1.  Message Body Header Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#id3">9.2. Message Body</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#message-body-format-negotiation">9.3. Message Body Format Negotiation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#connections">10. Connections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#reliability-and-acknowledgements">10.1. Reliability and Acknowledgements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#using-connections">10.2. Using Connections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#closing-connections">10.3. Closing Connections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#timing-out-connections-and-rtsp-messages">10.4.  Timing Out Connections and RTSP Messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#showing-liveness">10.5.  Showing Liveness</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#use-of-ipv6">10.6.  Use of IPv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#overload-control">10.7.  Overload Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#capability-handling">11. Capability Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#pipelining-support">12. Pipelining Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#method-definitions">13. Method Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#options">13.1.  OPTIONS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#describe">13.2. DESCRIBE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#setup">13.3.  SETUP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#play">13.4.  PLAY</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#play-notify">13.5.  PLAY_NOTIFY</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#pause">13.6.  PAUSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#teardown">13.7.  TEARDOWN</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#get-parameter">13.8.  GET_PARAMETER</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#redirect">13.10.  REDIRECT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#embedded-interleaved-binary-data">14. Embedded (Interleaved) Binary Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#proxies">15. Proxies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#proxies-and-protocol-extensions">15.1.  Proxies and Protocol Extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#multiplexing-and-demultiplexing-of-messages">15.2.  Multiplexing and Demultiplexing of Messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#caching">16. Caching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#validation-model">16.1.  Validation Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#invalidation-after-updates-or-deletions">16.2.  Invalidation after Updates or Deletions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#status-code-definitions">17. Status Code Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#header-field-definitions">18. Header Field Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#pipelined-requests">18.33.  Pipelined-Requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#security-framework">19. Security Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#rtsp-and-http-authentication">19.1.  RTSP and HTTP Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#rtsp-over-tls">19.2. RTSP over TLS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#security-and-proxies">19.3. Security and Proxies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#syntax">20. Syntax</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#base-syntax">20.1.  Base Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#rtsp-protocol-definition">20.2.  RTSP Protocol Definition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#security-considerations">21. Security Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#signaling-protocol-threats">21.1.  Signaling Protocol Threats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-a-examples">Appendix A.  Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#a-1-media-on-demand-unicast">A.1.  Media on Demand (Unicast)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#a-2-media-on-demand-using-pipelining">A.2.  Media on Demand Using Pipelining</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#a-3-secured-media-session-for-on-demand-content">A.3.  Secured Media Session for On-Demand Content</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#a-4-media-on-demand-unicast">A.4.  Media on Demand (Unicast)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#a-5-single-stream-container-files">A.5.  Single-Stream Container Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#a-6-live-media-presentation-using-multicast">A.6.  Live Media Presentation Using Multicast</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#a-7-capability-negotiation">A.7.  Capability Negotiation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-b-rtsp-protocol-state-machine">Appendix B.  RTSP Protocol State Machine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#b-1-states">B.1.  States</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#b-2-state-variables">B.2.  State Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#b-3-abbreviations">B.3.  Abbreviations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#b-4-state-tables">B.4.  State Tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-c-media-transport-alternatives">Appendix C.  Media-Transport Alternatives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-1-rtp">C.1.  RTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-2-rtp-over-tcp">C.2. RTP over TCP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-3-handling-media-clock-time-jumps-in-the-rtp-media-layer">C.3.  Handling Media-Clock Time Jumps in the RTP Media Layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-4-handling-rtp-timestamps-after-pause">C.4. Handling RTP Timestamps after PAUSE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-5-rtsp-rtp-integration">C.5.  RTSP/RTP Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-6-scaling-with-rtp">C.6.  Scaling with RTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-7-maintaining-npt-synchronization-with-rtp-timestamps">C.7.  Maintaining NPT Synchronization with RTP Timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-8-continuous-audio">C.8.  Continuous Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-9-multiple-sources-in-an-rtp-session">C.9.  Multiple Sources in an RTP Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-10-usage-of-ssrcs-and-the-rtcp-bye-message-during-an-rtsp-session">C.10.  Usage of SSRCs and the RTCP BYE Message during an RTSP Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#c-11-future-additions">C.11.  Future Additions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-d-use-of-sdp-for-rtsp-session-descriptions">Appendix D. Use of SDP for RTSP Session Descriptions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#d-1-definitions">D.1.  Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#d-2-aggregate-control-not-available">D.2.  Aggregate Control Not Available</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#d-3-aggregate-control-available">D.3.  Aggregate Control Available</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#d-4-grouping-of-media-lines-in-sdp">D.4.  Grouping of Media Lines in SDP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#d-5-rtsp-external-sdp-delivery">D.5.  RTSP External SDP Delivery</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-e-rtsp-use-cases">Appendix E. RTSP Use Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#e-1-on-demand-playback-of-stored-content">E.1.  On-Demand Playback of Stored Content</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#e-2-unicast-distribution-of-live-content">E.2.  Unicast Distribution of Live Content</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#e-3-on-demand-playback-using-multicast">E.3.  On-Demand Playback Using Multicast</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#e-4-inviting-an-rtsp-server-into-a-conference">E.4.  Inviting an RTSP Server into a Conference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#e-5-live-content-using-multicast">E.5.  Live Content Using Multicast</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-f-text-format-for-parameters">Appendix F.  Text Format for Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-g-requirements-for-unreliable-transport-of-rtsp">Appendix G.  Requirements for Unreliable Transport of RTSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-h-backwards-compatibility-considerations">Appendix H.  Backwards-Compatibility Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#h-1-play-request-in-play-state">H.1.  Play Request in Play State</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#h-2-using-persistent-connections">H.2.  Using Persistent Connections</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#appendix-i-changes">Appendix I.  Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#i-1-brief-overview">I.1.  Brief Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc7826-Real-Time%20Streaming%20Protocol.html#i-2-detailed-list-of-changes">I.2.  Detailed List of Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html">RFC8866: SDP-Session Description Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#introduction">1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#glossary-of-terms">2. Glossary of Terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#examples-of-sdp-usage">3. Examples of SDP Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#session-initiation">3.1. Session Initiation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#streaming-media">3.2. Streaming Media</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#email-and-the-world-wide-web">3.3. Email and the World Wide Web</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#multicast-session-announcement">3.4. Multicast Session Announcement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#requirements-and-recommendations">4. Requirements and Recommendations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#media-and-transport-information">4.1. Media and Transport Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#timing-information">4.2. Timing Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#sdp-specification">5. SDP Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#protocol-version-v">5.1. Protocol Version (“v=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#origin-o">5.2. Origin (“o=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#session-name-s">5.3. Session Name (“s=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#session-information-i">5.4. Session Information (“i=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#uri-u">5.5. URI (“u=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#email-address-and-phone-number-e-and-p">5.6. Email Address and Phone Number (“e=” and “p=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#connection-information-c">5.7. Connection Information (“c=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#bandwidth-information-b">5.8. Bandwidth Information (“b=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#time-active-t">5.9. Time Active (“t=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#repeat-times-r">5.10. Repeat Times (“r=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#time-zone-adjustment-z">5.11. Time Zone Adjustment (“z=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#encryption-keys-k">5.12. Encryption Keys (“k=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#attributes-a">5.13. Attributes (“a=”)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#media-descriptions-m">5.14. Media Descriptions (“m=”)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#sdp-attributes">6. SDP Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#cat-category">6.1. cat (Category)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#keywds-keywords">6.2. keywds (Keywords)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#tool">6.3. tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#ptime-packet-time">6.4. ptime (Packet Time)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#maxptime-maximum-packet-time">6.5. maxptime (Maximum Packet Time)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#rtpmap">6.6. rtpmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#media-direction-attributes">6.7. Media Direction Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#orient-orientation">6.8. orient (Orientation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#type-conference-type">6.9. type (Conference Type)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#charset-character-set">6.10. charset (Character Set)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#sdplang-sdp-language">6.11. sdplang (SDP Language)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#lang-language">6.12. lang (Language)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#framerate-frame-rate">6.13. framerate (Frame Rate)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#quality">6.14. quality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#fmtp-format-parameters">6.15. fmtp (Format Parameters)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#security-considerations">7. Security Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#iana-considerations">8. IANA Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#sdp-grammar">9. SDP Grammar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/streamings/rfc8866-SDP-Session%20Description%20Protocol.html#summary-of-changes-from-rfc-4566">10. Summary of Changes from RFC 4566</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/STUNs/rfc7350.html">rfc7350: DTLS as Transport for STUN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/STUNs/rfc5769.html">RFC5769: Test Vectors for STUN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/STUNs/rfc5780.html">rfc5780: NAT Behavior Discovery Using STUN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/STUNs/rfc7443.html">rfc7443: ALPN Labels for STUN Usages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/STUNs/rfc7635.html">rfc7635: STUN Extension for Third-Party Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/STUNs/rfc8489.html">RFC8489: STUN - Session Traversal Utilities for NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/x.509/rfc5280.html">RFC5280: Internet X.509 PKIC and CRL Profile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/x.509/rfc5280.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/x.509/rfc5652.html">RFC5652: Cryptographic Message Syntax (CMS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/x.509/rfc5652.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/x.509/rfc5912.html">RFC5912: New ASN.1 Modules for the PKIX</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/x.509/rfc5912.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html">RFC2045: (MIME) Part One: Format of Internet Message Bodies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#introduction">1.  Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#definitions-conventions-and-generic-bnf-grammar">2.  Definitions, Conventions, and Generic BNF Grammar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#mime-header-fields">3.  MIME Header Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#mime-version-header-field">4.  MIME-Version Header Field</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#id2">示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content-type-header-field">5.  Content-Type Header Field</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#syntax-of-the-content-type-header-field">5.1 Syntax of the Content-Type Header Field</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content-type-defaults">5.2 Content-Type Defaults</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content-transfer-encoding-header-field">6. Content-Transfer-Encoding Header Field</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content-transfer-encoding-syntax">6.1.  Content-Transfer-Encoding Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content-transfer-encodings-semantics">6.2.  Content-Transfer-Encodings Semantics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#new-content-transfer-encodings">6.3.  New Content-Transfer-Encodings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#interpretation-and-use">6.4.  Interpretation and Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#translating-encodings">6.5.  Translating Encodings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#canonical-encoding-model">6.6.  Canonical Encoding Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#quoted-printable-content-transfer-encoding">6.7.  Quoted-Printable Content-Transfer-Encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#base64-content-transfer-encoding">6.8.  Base64 Content-Transfer-Encoding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content-id-header-field">7.  Content-ID Header Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content-description-header-field">8.  Content-Description Header Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#additional-mime-header-fields">9.  Additional MIME Header Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#appendix-a-collected-grammar">Appendix A – Collected Grammar</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#content">content</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#encoding">encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#id">id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#description">description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#mime-extension-field">MIME-extension-field</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2045-MIME1.html#id3">通用</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html">RFC2046: (MIME) Part Two: Media Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#overview-of-the-initial-top-level-media-types">3. Overview Of The Initial Top-Level Media Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#discrete-media-type-values">4. Discrete Media Type Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#text-media-type">4.1.  Text Media Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#image-media-type">4.2.  Image Media Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#audio-media-type">4.3.  Audio Media Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#video-media-type">4.4.  Video Media Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#application-media-type">4.5.  Application Media Type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#composite-media-type-values">5. Composite Media Type Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#multipart-media-type">5.1.  Multipart Media Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#message-media-type">5.2 Message Media Type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2046-MIME2.html#experimental-media-type-values">6.  Experimental Media Type Values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html">RFC2047: (MIME) Part Three: Message Header Extensions for Non-ASCII Text</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#introduction">1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#syntax-of-encoded-words">2. Syntax of encoded-words</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#character-sets">3. Character sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#encodings">4. Encodings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#use-of-encoded-words-in-message-headers">5. Use of encoded-words in message headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#support-of-encoded-word-s-by-mail-readers">6. Support of ‘encoded-word’s by mail readers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#conformance">7. Conformance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2047-MIME3.html#examples">8. Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html">RFC2048: (MIME) Part Four: Registration Procedures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#introduction">1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#media-type-registration">2. Media Type Registration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#registration-trees-and-subtype-names">2.1.  Registration Trees and Subtype Names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#registration-requirements">2.2 Registration Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#registration-procedure">2.3 Registration Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#comments-on-media-type-registrations">2.4 Comments on Media Type Registrations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#location-of-registered-media-type-list">2.5 Location of Registered Media Type List</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#iana-procedures-for-registering-media-types">2.6.  IANA Procedures for Registering Media Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#change-control">2.7.  Change Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#registration-template">2.8 Registration Template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#external-body-access-types">3. External Body Access Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2048-MIME4.html#transfer-encodings">4. Transfer Encodings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/MIME/rfc2049-MIME5.html">RFC2049: (MIME) Part Five: Conformance Criteria and Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2049-MIME5.html#introduction">1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2049-MIME5.html#mime-conformance">2.  MIME Conformance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2049-MIME5.html#guidelines-for-sending-email-data">3.  Guidelines for Sending Email Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2049-MIME5.html#canonical-encoding-model">4.  Canonical Encoding Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/MIME/rfc2049-MIME5.html#appendix-a-a-complex-multipart-example">Appendix A – A Complex Multipart Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/rfc1123.html">rfc1123</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/rfc3232.html">RFC3232: ASSIGNED NUMBERS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/rfc3232.html#rfc1700">RFC1700</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/rfc3339.html">rfc3339</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/rfc3339.html#id3">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rfcs/rfc5234-ABNF.html">RFC5234: Augmented BNF for Syntax Specifications: ABNF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rfcs/rfc5234-ABNF.html#id2">示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../iana.html">iana</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IEEE.html">IEEE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../IEEEs/normal.html">常用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../IEEEs/754.html">IEEE 754</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../IEEEs/754.html#id1">工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../IEEEs/754.html#id2">📦 IEEE 754 定义的内容包括：</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../IEEEs/754.html#id3">✅ 1. <strong>浮点数格式</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../IEEEs/754.html#id4">✅ 2. <strong>浮点数结构（三部分）</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../IEEEs/754.html#id5">✅ 3. <strong>特殊值支持</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../IEEEs/754.html#id6">📚 衍生标准（对深度学习重要）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../IEEEs/754.html#fp4">FP4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../IEEEs/802.3.html">IEEE 802.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../IEEEs/802.3.html#ethernet-ii">Ethernet II</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../IEEEs/802.11.html">802.11: Wireless LAN &amp; Mesh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../IEEEs/802.11.html#protocol">Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../IEEEs/802.11.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../IEEEs/802.15.html">802.15: Wireless PAN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../IEEEs/802.15.html#low-rate-wireless-pan">802.15.4: Low-Rate wireless PAN</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ITU.html">ITU</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ITUs/normal.html">常用</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ITUs/normal.html#id3">电信标准化</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ITUs/normal.html#id4">研究组</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ITUs/X%20Series.html">X-Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ITUs/X%20Series.html#directory">DIRECTORY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ITUs/X%20Series.html#asn-1">ASN.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ITUs/X%20Series.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ITUs/G%20Series.html">G-Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ITUs/G%20Series.html#id2">参考</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ITUs/H%20Series.html">H-Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ITUs/H%20Series.html#id2">参考</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ISO.html">ISO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ISOs/normal.html">常用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ISOs/iso10646.html">ISO/IEC 10646: Universal coded character set (UCS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ISOs/iso13818.html">ISO/IEC 13818</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ISOs/iso13818.html#part-1-systems">Part 1: Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ISOs/iso13818.html#part-6-extensions-for-dsm-cc">Part 6: Extensions for DSM-CC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../GB.html">中标</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../GBs/T28181.html">GB/T28181安全技术视频监控联网系统信息传输, 交换, 控制技术要求</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pep.html">pep</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../peps/pep-3333.html">pep-3333</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-3333.html#id3">背景与动机</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-3333.html#id4">pep-3333主要变化</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-3333.html#id5">规范概述</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-3333.html#id6">应用程序端</a></li>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-3333.html#id7">服务器端</a></li>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-3333.html#id8">中间件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../peps/pep-0440.html">pep-0440</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0440.html#id2">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0440.html#id3">基本格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0440.html#id4">版本号的比较</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../peps/pep-0420.html">PEP 420 – Implicit Namespace Packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0420.html#id2">核心要点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0420.html#id3">主要优势</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0420.html#id4">当前现有方案</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-0420.html#pkgutil-style-namespace-packages">pkgutil-style namespace packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-0420.html#pkg-resources-style-namespace-packages">pkg_resources-style namespace packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-0420.html#id5">两方案的不足</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0420.html#specification">Specification 规范</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-0420.html#id6">说明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-0420.html#id7">命名空间包和常规包之间的区别</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../peps/pep-0420.html#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-0420.html#nested-namespace-packages">Nested namespace packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../peps/pep-0420.html#dynamic-path-computation">Dynamic path computation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tmp.html">临时</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html">学习记录</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#id3">局域网内的服务发现会有什么方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#mdns">mDNS协议</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#id4">命令工具</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#id5">组播&amp;广播</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#ipv4">IPv4多播转发</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#id6">多播功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmps/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#id7">任播</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">新溪-gordon</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../matter.html">Matter 协议</a> &raquo;</li>
        
      <li>Matter Core</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/matters/matter.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            <nav id="local-table-of-contents" role="navigation" aria-labelledby="local-table-of-contents-title">
              <h4 id="local-table-of-contents-title">On This Page</h4>
              <ul>
<li><a class="reference internal" href="#">Matter Core</a><ul>
<li><a class="reference internal" href="#chapter-1-introduction">Chapter 1. Introduction</a></li>
<li><a class="reference internal" href="#chapter-2-architecture">Chapter 2. Architecture</a><ul>
<li><a class="reference internal" href="#overview">2.1. Overview</a></li>
<li><a class="reference internal" href="#layered-architecture">2.2. Layered Architecture</a></li>
<li><a class="reference internal" href="#network-topology">2.3. Network Topology</a></li>
<li><a class="reference internal" href="#scoped-names">2.4. Scoped names</a></li>
<li><a class="reference internal" href="#identifiers">2.5. Identifiers</a><ul>
<li><a class="reference internal" href="#ipv6-addressing">2.5.6. IPv6 Addressing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#device-identity">2.6. Device identity</a></li>
<li><a class="reference internal" href="#security">2.7. Security</a></li>
<li><a class="reference internal" href="#device-commissioning">2.8. Device Commissioning</a></li>
<li><a class="reference internal" href="#sleepy-end-device-sed">2.9. Sleepy End Device (SED)</a></li>
<li><a class="reference internal" href="#data-model-root">2.10. Data Model Root</a></li>
<li><a class="reference internal" href="#stack-limits">2.11. Stack Limits</a><ul>
<li><a class="reference internal" href="#system-model-limits">2.11.1. System Model Limits</a></li>
<li><a class="reference internal" href="#interaction-model-limits">2.11.2. Interaction Model Limits</a></li>
</ul>
</li>
<li><a class="reference internal" href="#list-of-provisional-items">2.12. List of Provisional Items</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-3-cryptographic-primitives">Chapter 3. Cryptographic Primitives</a></li>
<li><a class="reference internal" href="#chapter-4-secure-channel">Chapter 4. Secure Channel</a><ul>
<li><a class="reference internal" href="#general-description">4.1. General Description</a></li>
<li><a class="reference internal" href="#ipv6-reachability">4.2. IPv6 Reachability</a><ul>
<li><a class="reference internal" href="#stub-router-behavior">4.2.1. Stub Router Behavior</a></li>
<li><a class="reference internal" href="#matter-node-behavior">4.2.2. Matter Node Behavior</a></li>
</ul>
</li>
<li><a class="reference internal" href="#discovery">4.3. Discovery</a><ul>
<li><a class="reference internal" href="#commissionable-node-discovery">4.3.1. Commissionable Node Discovery</a></li>
<li><a class="reference internal" href="#operational-discovery">4.3.2. Operational Discovery</a></li>
<li><a class="reference internal" href="#commissioner-discovery">4.3.3. Commissioner Discovery</a></li>
<li><a class="reference internal" href="#common-txt-key-value-pairs">4.3.4. Common TXT Key/Value Pairs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-frame-format">4.4. Message Frame Format</a><ul>
<li><a class="reference internal" href="#message-header-field-descriptions">4.4.1. Message Header Field Descriptions</a></li>
<li><a class="reference internal" href="#message-footer-field-descriptions">4.4.2. Message Footer Field Descriptions</a></li>
<li><a class="reference internal" href="#protocol-header-field-descriptions">4.4.3. Protocol Header Field Descriptions</a></li>
<li><a class="reference internal" href="#message-size-requirements">4.4.4. Message Size Requirements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-counters">4.5. Message Counters</a><ul>
<li><a class="reference internal" href="#message-counter-types">4.5.1. Message Counter Types</a><ul>
<li><a class="reference internal" href="#global-unencrypted-message-counter">4.5.1.2. Global Unencrypted Message Counter</a></li>
<li><a class="reference internal" href="#global-group-encrypted-message-counters">4.5.1.3. Global Group Encrypted Message Counters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#secure-session-message-counters">4.5.2. Secure Session Message Counters</a></li>
<li><a class="reference internal" href="#message-counters-as-encryption-nonces">4.5.3. Message Counters as Encryption Nonces</a></li>
<li><a class="reference internal" href="#replay-prevention-and-duplicate-message-detection">4.5.4. Replay Prevention and Duplicate Message Detection</a></li>
<li><a class="reference internal" href="#counter-processing-of-outgoing-messages">4.5.5. Counter Processing of Outgoing Messages</a></li>
<li><a class="reference internal" href="#counter-processing-of-incoming-messages">4.5.6. Counter Processing of Incoming Messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-processing">4.6. Message Processing</a></li>
<li><a class="reference internal" href="#message-security">4.7. Message Security</a><ul>
<li><a class="reference internal" href="#data-confidentiality-and-integrity-with-data-origin-authentication-parameters">4.7.1. Data confidentiality and integrity with data origin authentication parameters</a></li>
<li><a class="reference internal" href="#security-processing-of-outgoing-messages">4.7.2. Security Processing of Outgoing Messages</a></li>
<li><a class="reference internal" href="#security-processing-of-incoming-messages">4.7.3. Security Processing of Incoming Messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-privacy">4.8. Message Privacy</a><ul>
<li><a class="reference internal" href="#privacy-key">4.8.1. Privacy Key</a></li>
<li><a class="reference internal" href="#privacy-nonce">4.8.2. Privacy Nonce</a></li>
<li><a class="reference internal" href="#privacy-processing-of-outgoing-messages">4.8.3. Privacy Processing of Outgoing Messages</a></li>
<li><a class="reference internal" href="#privacy-processing-of-incoming-messages">4.8.4. Privacy Processing of Incoming Messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-exchanges">4.9. Message Exchanges</a><ul>
<li><a class="reference internal" href="#exchange-role">4.9.1. Exchange Role</a></li>
<li><a class="reference internal" href="#exchange-id">4.9.2. Exchange ID</a></li>
<li><a class="reference internal" href="#exchange-context">4.9.3. Exchange Context</a></li>
<li><a class="reference internal" href="#exchange-message-dispatch">4.9.4. Exchange Message Dispatch</a></li>
<li><a class="reference internal" href="#exchange-message-processing">4.9.5. Exchange Message Processing</a><ul>
<li><a class="reference internal" href="#exchange-message-matching">4.9.5.1. Exchange Message Matching</a></li>
<li><a class="reference internal" href="#unsolicited-message-processing">4.9.5.2. Unsolicited Message Processing</a></li>
<li><a class="reference internal" href="#closing-an-exchange">4.9.5.3. Closing an Exchange</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#secure-channel-protocol">4.10. Secure Channel Protocol</a><ul>
<li><a class="reference internal" href="#secure-channel-protocol-messages">4.10.1. Secure Channel Protocol Messages</a></li>
<li><a class="reference internal" href="#parameters-and-constants">4.10.2. Parameters and Constants</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-reliability-protocol-mrp">4.11. Message Reliability Protocol (MRP)</a><ul>
<li><a class="reference internal" href="#reliable-messaging-header-fields">4.11.1. Reliable Messaging Header Fields</a></li>
<li><a class="reference internal" href="#reliable-transfer">4.11.2. Reliable transfer</a><ul>
<li><a class="reference internal" href="#retransmissions">4.11.2.1. Retransmissions</a></li>
<li><a class="reference internal" href="#acknowledgements">4.11.2.2. Acknowledgements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#peer-exchange-management">4.11.3. Peer Exchange Management</a></li>
<li><a class="reference internal" href="#transport-considerations">4.11.4. Transport Considerations</a></li>
<li><a class="reference internal" href="#reliable-message-processing">4.11.5. Reliable Message Processing</a><ul>
<li><a class="reference internal" href="#reliable-message-processing-of-outgoing-messages">4.11.5.1. Reliable Message Processing of Outgoing Messages</a></li>
<li><a class="reference internal" href="#reliable-message-processing-of-incoming-messages">4.11.5.2. Reliable Message Processing of Incoming Messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reliable-message-state">4.11.6. Reliable Message State</a><ul>
<li><a class="reference internal" href="#retransmission-table">4.11.6.1. Retransmission Table</a></li>
<li><a class="reference internal" href="#acknowledgement-table">4.11.6.2. Acknowledgement Table</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mrp-messages">4.11.7. MRP Messages</a></li>
<li><a class="reference internal" href="#id2">4.11.8. Parameters and Constants</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unicast-communication">4.12. Unicast Communication</a><ul>
<li><a class="reference internal" href="#session-establishment-phase">4.12.1. Session Establishment Phase</a><ul>
<li><a class="reference internal" href="#unsecured-session-context">4.12.1.1. Unsecured Session Context</a></li>
<li><a class="reference internal" href="#session-establishment-over-ip">4.12.1.2. Session Establishment over IP</a></li>
<li><a class="reference internal" href="#shared-secrets">4.12.1.3. Shared Secrets</a></li>
<li><a class="reference internal" href="#choosing-secure-unicast-session-identifiers">4.12.1.4. Choosing Secure Unicast Session Identifiers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-data-phase">4.12.2. Application Data Phase</a><ul>
<li><a class="reference internal" href="#secure-session-context">4.12.2.1. Secure Session Context</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#session-establishment">4.13. Session Establishment</a><ul>
<li><a class="reference internal" href="#passcode-authenticated-session-establishment-pase">4.13.1. Passcode-Authenticated Session Establishment (PASE)</a><ul>
<li><a class="reference internal" href="#protocol-overview">4.13.1.1. Protocol Overview</a></li>
<li><a class="reference internal" href="#protocol-details">4.13.1.2. Protocol Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#certificate-authenticated-session-establishment-case">4.13.2. Certificate Authenticated Session Establishment (CASE)</a><ul>
<li><a class="reference internal" href="#id3">4.13.2.1. Protocol Overview</a></li>
<li><a class="reference internal" href="#session-resumption">4.13.2.2. Session Resumption</a></li>
<li><a class="reference internal" href="#id4">4.13.2.3. Protocol Details</a><ul>
<li><a class="reference internal" href="#message-format">Message format</a></li>
<li><a class="reference internal" href="#message-exchange">Message Exchange</a></li>
<li><a class="reference internal" href="#generate-and-send-sigma1">Generate and Send Sigma1</a></li>
<li><a class="reference internal" href="#validate-sigma1">Validate Sigma1</a></li>
<li><a class="reference internal" href="#validate-sigma1-destination-id">Validate Sigma1 Destination ID</a></li>
<li><a class="reference internal" href="#generate-and-send-sigma2">Generate and Send Sigma2</a></li>
<li><a class="reference internal" href="#validate-sigma2">Validate Sigma2</a></li>
<li><a class="reference internal" href="#generate-and-send-sigma3">Generate and Send Sigma3</a></li>
<li><a class="reference internal" href="#validate-sigma3">Validate Sigma3</a></li>
<li><a class="reference internal" href="#validate-sigma1-with-resumption">Validate Sigma1 with Resumption</a></li>
<li><a class="reference internal" href="#generate-and-send-sigma2-resume">Generate and Send Sigma2_Resume</a></li>
<li><a class="reference internal" href="#validate-sigma2-resume">Validate Sigma2_Resume</a></li>
<li><a class="reference internal" href="#sigmafinished">SigmaFinished</a></li>
</ul>
</li>
<li><a class="reference internal" href="#field-descriptions">4.13.2.4. Field Descriptions</a><ul>
<li><a class="reference internal" href="#public-key">Public Key</a></li>
</ul>
</li>
<li><a class="reference internal" href="#signature">4.13.2.5. Signature</a></li>
<li><a class="reference internal" href="#cryptographic-keys">4.13.2.6. Cryptographic Keys</a><ul>
<li><a class="reference internal" href="#identity-protection-key-ipk">Identity Protection Key (IPK)</a></li>
<li><a class="reference internal" href="#sigma2-key-s2k">Sigma2 Key (S2K)</a></li>
<li><a class="reference internal" href="#sigma3-key-s3k">Sigma3 Key (S3K)</a></li>
<li><a class="reference internal" href="#sigma1-resumption-key">Sigma1 Resumption Key</a></li>
<li><a class="reference internal" href="#sigma2-resumption-key">Sigma2 Resumption Key</a></li>
<li><a class="reference internal" href="#session-encryption-keys">Session Encryption Keys</a></li>
<li><a class="reference internal" href="#resumption-session-encryption-keys">Resumption Session Encryption Keys</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-context-storage">4.13.2.7. Session Context Storage</a></li>
<li><a class="reference internal" href="#minimal-number-of-case-sessions">4.13.2.8. Minimal Number of CASE Sessions</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#group-communication">4.14. Group Communication</a><ul>
<li><a class="reference internal" href="#groupcast-session-context">4.14.1. Groupcast Session Context</a></li>
<li><a class="reference internal" href="#sending-a-group-message">4.14.2. Sending a group message</a></li>
<li><a class="reference internal" href="#receiving-a-group-message">4.14.3. Receiving a group message</a></li>
</ul>
</li>
<li><a class="reference internal" href="#group-key-management">4.15. Group Key Management</a><ul>
<li><a class="reference internal" href="#operational-groups">4.15.1. Operational Groups</a></li>
<li><a class="reference internal" href="#operational-group-key-derivation">4.15.2. Operational Group Key Derivation</a><ul>
<li><a class="reference internal" href="#group-security-info">4.15.2.1. Group Security Info</a></li>
<li><a class="reference internal" href="#group-key-set">4.15.2.2. Group Key Set</a></li>
</ul>
</li>
<li><a class="reference internal" href="#epoch-keys">4.15.3. Epoch Keys</a><ul>
<li><a class="reference internal" href="#using-epoch-keys">4.15.3.1. Using Epoch Keys</a></li>
<li><a class="reference internal" href="#managing-epoch-keys">4.15.3.2. Managing Epoch Keys</a></li>
<li><a class="reference internal" href="#epoch-key-rotation">4.15.3.3. Epoch Key Rotation</a></li>
<li><a class="reference internal" href="#epoch-key-rotation-without-time-synchronization">4.15.3.4. Epoch Key Rotation without Time Synchronization</a></li>
<li><a class="reference internal" href="#epoch-key-rotation-logic">4.15.3.5. Epoch Key Rotation logic</a></li>
<li><a class="reference internal" href="#group-session-id">4.15.3.6. Group Session ID</a></li>
</ul>
</li>
<li><a class="reference internal" href="#distribution-of-key-material">4.15.4. Distribution of Key Material</a><ul>
<li><a class="reference internal" href="#installing-a-group-onto-a-newly-commissioned-node">4.15.4.1. Installing a Group onto a Newly Commissioned Node</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#message-counter-synchronization-protocol-mcsp">4.16. Message Counter Synchronization Protocol(MCSP)</a><ul>
<li><a class="reference internal" href="#message-counter-synchronization-methods">4.16.1. Message Counter Synchronization Methods</a><ul>
<li><a class="reference internal" href="#trust-first-policy">4.16.1.1. Trust-first policy</a></li>
<li><a class="reference internal" href="#cache-and-sync-policy">4.16.1.2. Cache-and-sync policy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#group-peer-state">4.16.2. Group Peer State</a></li>
<li><a class="reference internal" href="#mcsp-messages">4.16.3. MCSP Messages</a><ul>
<li><a class="reference internal" href="#msgcountersyncreq-message-counter-synchronization-request">4.16.3.1. MsgCounterSyncReq - Message Counter Synchronization Request</a></li>
<li><a class="reference internal" href="#msgcountersyncrsp-message-counter-synchronization-response">4.16.3.2. MsgCounterSyncRsp - Message Counter Synchronization Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unsynchronized-message-processing">4.16.4. Unsynchronized Message Processing</a></li>
<li><a class="reference internal" href="#message-counter-synchronization-exchange">4.16.5. Message Counter Synchronization Exchange</a></li>
<li><a class="reference internal" href="#message-counter-synchronization-session-context">4.16.6. Message Counter Synchronization Session Context</a></li>
<li><a class="reference internal" href="#sequence-diagram">4.16.7. Sequence Diagram</a><ul>
<li><a class="reference internal" href="#scenario-1-multicast-receiver-initiated">4.16.7.1. Scenario 1 — Multicast Receiver Initiated</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#bluetooth-transport-protocol-btp">4.17. Bluetooth Transport Protocol (BTP)</a><ul>
<li><a class="reference internal" href="#btp-session-interface">4.17.1. BTP Session Interface</a></li>
<li><a class="reference internal" href="#btp-frame-formats">4.17.2. BTP Frame Formats</a><ul>
<li><a class="reference internal" href="#btp-packet-protocol-data-unit">4.17.2.1. BTP Packet Protocol Data Unit</a></li>
<li><a class="reference internal" href="#btp-control-frames">4.17.2.2. BTP Control Frames</a></li>
<li><a class="reference internal" href="#btp-handshake-request">4.17.2.3. BTP Handshake Request</a></li>
<li><a class="reference internal" href="#btp-handshake-response">4.17.2.4. BTP Handshake Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#btp-gatt-service">4.17.3. BTP GATT Service</a><ul>
<li><a class="reference internal" href="#btp-channelization">4.17.3.1. BTP Channelization</a></li>
<li><a class="reference internal" href="#id5">4.17.3.2. BTP GATT Service</a></li>
<li><a class="reference internal" href="#id6">4.17.3.3. Session Establishment</a></li>
<li><a class="reference internal" href="#data-transmission">4.17.3.4. Data Transmission</a></li>
<li><a class="reference internal" href="#message-segmentation-and-reassembly">4.17.3.5. Message Segmentation and Reassembly</a></li>
<li><a class="reference internal" href="#sequence-numbers">4.17.3.6. Sequence Numbers</a></li>
<li><a class="reference internal" href="#receive-windows">4.17.3.7. Receive Windows</a></li>
<li><a class="reference internal" href="#packet-acknowledgements">4.17.3.8. Packet Acknowledgements</a></li>
<li><a class="reference internal" href="#idle-connection-state">4.17.3.9. Idle Connection State</a></li>
<li><a class="reference internal" href="#connection-shutdown">4.17.3.10. Connection Shutdown</a></li>
<li><a class="reference internal" href="#protocol-state-diagrams">4.17.3.11. Protocol State Diagrams</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">4.17.4. Parameters and Constants</a></li>
<li><a class="reference internal" href="#bluetooth-sig-considerations">4.17.5. Bluetooth SIG Considerations</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-5-commissioning">Chapter 5. Commissioning</a><ul>
<li><a class="reference internal" href="#onboarding-payload">5.1. Onboarding Payload</a></li>
<li><a class="reference internal" href="#initiating-commissioning">5.2. Initiating Commissioning</a></li>
<li><a class="reference internal" href="#user-directed-commissioning">5.3. User Directed Commissioning</a><ul>
<li><a class="reference internal" href="#id8">5.3.1. Overview</a></li>
<li><a class="reference internal" href="#udc-protocol-messages">5.3.2. UDC Protocol Messages</a></li>
<li><a class="reference internal" href="#id9">5.3.3. Message format</a></li>
<li><a class="reference internal" href="#id10">5.3.4. Message Exchanges</a></li>
</ul>
</li>
<li><a class="reference internal" href="#device-discovery">5.4. Device Discovery</a></li>
<li><a class="reference internal" href="#commissioning-flows">5.5. Commissioning Flows</a><ul>
<li><a class="reference internal" href="#commissioning-flows-error-handling">5.5.1. Commissioning Flows Error Handling</a></li>
<li><a class="reference internal" href="#commissioning-flow-diagrams">5.5.2. Commissioning Flow Diagrams</a></li>
</ul>
</li>
<li><a class="reference internal" href="#administrator-assisted-commissioning-flows">5.6. Administrator Assisted Commissioning Flows</a><ul>
<li><a class="reference internal" href="#introduction">5.6.1. Introduction</a></li>
<li><a class="reference internal" href="#basic-commissioning-method-bcm">5.6.2. Basic Commissioning Method (BCM)</a></li>
<li><a class="reference internal" href="#enhanced-commissioning-method-ecm">5.6.3. Enhanced Commissioning Method (ECM)</a></li>
<li><a class="reference internal" href="#open-commissioning-window">5.6.4. Open Commissioning Window</a></li>
</ul>
</li>
<li><a class="reference internal" href="#device-commissioning-flows">5.7. Device Commissioning Flows</a></li>
<li><a class="reference internal" href="#in-field-upgrade-to-matter">5.8. In-field Upgrade to Matter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-6-device-attestation-and-operational-credentials">Chapter 6. Device Attestation and Operational Credentials</a><ul>
<li><a class="reference internal" href="#common-conventions">6.1. Common Conventions</a><ul>
<li><a class="reference internal" href="#encoding-of-matter-specific-rdns">6.1.1. Encoding of Matter-specific RDNs</a></li>
<li><a class="reference internal" href="#key-identifier-extension-constraints">6.1.2. Key Identifier Extension Constraints</a></li>
<li><a class="reference internal" href="#certificate-sizes">6.1.3. Certificate Sizes</a></li>
<li><a class="reference internal" href="#presentation-of-example-certificates">6.1.4. Presentation of example certificates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#device-attestation">6.2. Device Attestation</a><ul>
<li><a class="reference internal" href="#id11">6.2.1. Introduction</a></li>
<li><a class="reference internal" href="#device-attestation-certificate-dac">6.2.2. Device Attestation Certificate (DAC)</a><ul>
<li><a class="reference internal" href="#device-attestation-public-key-infrastructure-pki">6.2.2.1. Device Attestation Public Key Infrastructure (PKI)</a></li>
<li><a class="reference internal" href="#encoding-of-vendor-id-and-product-id-in-subject-and-issuer-fields">6.2.2.2. Encoding of Vendor ID and Product ID in subject and issuer fields</a></li>
<li><a class="reference internal" href="#id12">6.2.2.3. Device Attestation Certificate (DAC)</a></li>
<li><a class="reference internal" href="#product-attestation-intermediate-pai-certificate">6.2.2.4. Product Attestation Intermediate (PAI) Certificate</a></li>
<li><a class="reference internal" href="#product-attestation-authority-paa-certificate">6.2.2.5. Product Attestation Authority (PAA) Certificate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#device-attestation-procedure">6.2.3. Device Attestation Procedure</a><ul>
<li><a class="reference internal" href="#attestation-information-validation">6.2.3.1. Attestation Information Validation</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#certification-declaration">6.3. Certification Declaration</a><ul>
<li><a class="reference internal" href="#certification-declaration-cd-format">6.3.1. Certification Declaration (CD) Format</a></li>
<li><a class="reference internal" href="#firmware-information">6.3.2. Firmware Information</a></li>
<li><a class="reference internal" href="#firmware-information-validation-examples">6.3.3. Firmware information validation examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#node-operational-credentials-specification">6.4. Node Operational Credentials Specification</a><ul>
<li><a class="reference internal" href="#id13">6.4.1. Introduction</a></li>
<li><a class="reference internal" href="#node-operational-credentials-management">6.4.2. Node Operational Credentials Management</a></li>
<li><a class="reference internal" href="#node-operational-identifier-composition">6.4.3. Node Operational Identifier Composition</a></li>
<li><a class="reference internal" href="#node-operational-key-pair">6.4.4. Node Operational Key Pair</a></li>
<li><a class="reference internal" href="#node-operational-credentials-certificates">6.4.5. Node Operational Credentials Certificates</a><ul>
<li><a class="reference internal" href="#node-operational-certificate-noc">6.4.5.1. Node Operational Certificate (NOC)</a></li>
<li><a class="reference internal" href="#intermediate-ca-ica-certificate">6.4.5.2. Intermediate CA (ICA) Certificate</a></li>
<li><a class="reference internal" href="#trusted-root-ca-certificates">6.4.5.3. Trusted Root CA Certificates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#node-operational-credentials-procedure">6.4.6. Node Operational Credentials Procedure</a><ul>
<li><a class="reference internal" href="#node-operational-certificate-signing-request-nocsr-procedure">6.4.6.1. Node Operational Certificate Signing Request (NOCSR) Procedure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#node-operational-certificate-signing-request-nocsr">6.4.7. Node Operational Certificate Signing Request (NOCSR)</a></li>
<li><a class="reference internal" href="#node-operational-certificate-renewal">6.4.8. Node Operational Certificate Renewal</a></li>
<li><a class="reference internal" href="#node-operational-certificate-revocation">6.4.9. Node Operational Certificate Revocation</a></li>
<li><a class="reference internal" href="#security-considerations">6.4.10. Security Considerations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#operational-certificate-encoding">6.5. Operational Certificate Encoding</a><ul>
<li><a class="reference internal" href="#id14">6.5.1. Introduction</a><ul>
<li><a class="reference internal" href="#asn-1-object-identifiers-oid">6.5.1.1. ASN.1 Object Identifiers (OID)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#matter-certificate">6.5.2. Matter certificate</a></li>
<li><a class="reference internal" href="#version-number">6.5.3. Version Number</a></li>
<li><a class="reference internal" href="#serial-number">6.5.4. Serial Number</a></li>
<li><a class="reference internal" href="#signature-algorithm">6.5.5. Signature Algorithm</a></li>
<li><a class="reference internal" href="#issuer-and-subject">6.5.6. Issuer and Subject</a><ul>
<li><a class="reference internal" href="#x-501-distinguished-names">6.5.6.1. X.501 Distinguished Names</a></li>
<li><a class="reference internal" href="#matter-certificate-types">6.5.6.2. Matter Certificate Types</a></li>
<li><a class="reference internal" href="#matter-dn-encoding-rules">6.5.6.3. Matter DN Encoding Rules</a></li>
<li><a class="reference internal" href="#matter-dn-examples">6.5.6.4. Matter DN Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#validity">6.5.7. Validity</a></li>
<li><a class="reference internal" href="#public-key-algorithm">6.5.8. Public Key Algorithm</a></li>
<li><a class="reference internal" href="#ec-curve-identifier">6.5.9. EC Curve Identifier</a></li>
<li><a class="reference internal" href="#id15">6.5.10. Public Key</a></li>
<li><a class="reference internal" href="#extensions">6.5.11. Extensions</a></li>
<li><a class="reference internal" href="#matter-certificate-extensions-encoding-rules">6.5.12. Matter certificate Extensions Encoding Rules</a></li>
<li><a class="reference internal" href="#id16">6.5.13. Signature</a></li>
<li><a class="reference internal" href="#invalid-matter-certificates">6.5.14. Invalid Matter certificates</a></li>
<li><a class="reference internal" href="#examples">6.5.15. Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#access-control">6.6. Access Control</a><ul>
<li><a class="reference internal" href="#scope-and-purpose">6.6.1. Scope and Purpose</a></li>
<li><a class="reference internal" href="#model">6.6.2. Model</a><ul>
<li><a class="reference internal" href="#subjects">6.6.2.1. Subjects</a></li>
<li><a class="reference internal" href="#wildcards">6.6.2.2. Wildcards</a></li>
<li><a class="reference internal" href="#subjects-do-not-correspond-to-users">6.6.2.3. Subjects do not correspond to users</a></li>
<li><a class="reference internal" href="#implementation-specific-rules">6.6.2.4. Implementation-specific Rules</a></li>
<li><a class="reference internal" href="#incoming-subject-descriptors">6.6.2.5. Incoming Subject Descriptors</a></li>
<li><a class="reference internal" href="#access-control-extensions">6.6.2.6. Access Control Extensions</a></li>
<li><a class="reference internal" href="#application-level-permissions">6.6.2.7. Application-level Permissions</a></li>
<li><a class="reference internal" href="#bootstrapping-of-the-access-control-cluster">6.6.2.8. Bootstrapping of the Access Control Cluster</a></li>
<li><a class="reference internal" href="#action-attribution">6.6.2.9. Action attribution</a></li>
<li><a class="reference internal" href="#restrictions-on-administer-level-privilege-grant">6.6.2.10. Restrictions on Administer Level Privilege Grant</a></li>
</ul>
</li>
<li><a class="reference internal" href="#access-control-list-examples">6.6.3. Access Control List Examples</a></li>
<li><a class="reference internal" href="#access-control-cluster-update-side-effects">6.6.4. Access Control Cluster update side-effects</a></li>
<li><a class="reference internal" href="#conceptual-access-control-privilege-granting-algorithm">6.6.5. Conceptual Access Control Privilege Granting Algorithm</a><ul>
<li><a class="reference internal" href="#necessary-data-structures">6.6.5.1. Necessary Data Structures</a><ul>
<li><a class="reference internal" href="#access-control-list">6.6.5.1.1. Access Control List</a></li>
<li><a class="reference internal" href="#incoming-subject-descriptor-isd-structure">6.6.5.1.2. Incoming Subject Descriptor (ISD) Structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#overall-algorithm">6.6.5.2. Overall Algorithm</a></li>
<li><a class="reference internal" href="#derivation-of-isd-from-incoming-message">6.6.5.3. Derivation of ISD from Incoming Message</a></li>
</ul>
</li>
<li><a class="reference internal" href="#applying-privileges-to-action-paths">6.6.6. Applying Privileges to Action Paths</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-7-data-model-specification">Chapter 7. Data Model Specification</a><ul>
<li><a class="reference internal" href="#practical-information">7.1. Practical Information</a></li>
<li><a class="reference internal" href="#data-qualities">7.2. Data Qualities</a></li>
<li><a class="reference internal" href="#conformance">7.3. Conformance</a></li>
<li><a class="reference internal" href="#element">7.4. Element</a></li>
<li><a class="reference internal" href="#fabric">7.5. Fabric</a></li>
<li><a class="reference internal" href="#access">7.6. Access</a></li>
<li><a class="reference internal" href="#other-qualities">7.7. Other Qualities</a></li>
<li><a class="reference internal" href="#node">7.8. Node</a></li>
<li><a class="reference internal" href="#endpoint">7.9. Endpoint</a></li>
<li><a class="reference internal" href="#cluster">7.10. Cluster</a></li>
<li><a class="reference internal" href="#command">7.11. Command</a></li>
<li><a class="reference internal" href="#attribute">7.12. Attribute</a></li>
<li><a class="reference internal" href="#global-elements">7.13. Global Elements</a></li>
<li><a class="reference internal" href="#event">7.14. Event</a></li>
<li><a class="reference internal" href="#device-type">7.15. Device Type</a></li>
<li><a class="reference internal" href="#non-standard">7.16. Non-Standard</a></li>
<li><a class="reference internal" href="#data-field">7.17. Data Field</a></li>
<li><a class="reference internal" href="#data-types">7.18. Data Types</a></li>
<li><a class="reference internal" href="#manufacturer-specific-extensions">7.19. Manufacturer Specific Extensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-8-interaction-model-specification">Chapter 8. Interaction Model Specification</a><ul>
<li><a class="reference internal" href="#id17">8.1. Practical Information</a></li>
<li><a class="reference internal" href="#concepts">8.2. Concepts</a><ul>
<li><a class="reference internal" href="#path">8.2.1. Path</a></li>
<li><a class="reference internal" href="#interaction">8.2.2. Interaction</a></li>
<li><a class="reference internal" href="#transaction">8.2.3. Transaction</a></li>
<li><a class="reference internal" href="#action">8.2.4. Action</a></li>
<li><a class="reference internal" href="#common-action-behavior">8.2.5. Common Action Behavior</a></li>
</ul>
</li>
<li><a class="reference internal" href="#status-and-interaction">8.3. Status and Interaction</a><ul>
<li><a class="reference internal" href="#status-response-action">8.3.1. Status Response Action</a></li>
</ul>
</li>
<li><a class="reference internal" href="#read-interaction">8.4. Read Interaction</a><ul>
<li><a class="reference internal" href="#read-transaction">8.4.1. Read Transaction</a></li>
<li><a class="reference internal" href="#read-request-action">8.4.2. Read Request Action</a></li>
<li><a class="reference internal" href="#report-data-action">8.4.3. Report Data Action</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subscribe-interaction">8.5. Subscribe Interaction</a><ul>
<li><a class="reference internal" href="#subscribe-transaction">8.5.1. Subscribe Transaction</a></li>
<li><a class="reference internal" href="#subscribe-request-action">8.5.2. Subscribe Request Action</a></li>
<li><a class="reference internal" href="#subscribe-response-action">8.5.3. Subscribe Response Action</a></li>
</ul>
</li>
<li><a class="reference internal" href="#report-transaction">8.6. Report Transaction</a><ul>
<li><a class="reference internal" href="#report-transaction-non-empty">8.6.1. Report Transaction Non-Empty</a></li>
<li><a class="reference internal" href="#report-transaction-empty">8.6.2. Report Transaction Empty</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-interaction">8.7. Write Interaction</a><ul>
<li><a class="reference internal" href="#write-transaction">8.7.1. Write Transaction</a></li>
<li><a class="reference internal" href="#write-request-action">8.7.2. Write Request Action</a></li>
<li><a class="reference internal" href="#write-response-action">8.7.3. Write Response Action</a></li>
<li><a class="reference internal" href="#timed-request-action">8.7.4. Timed Request Action</a></li>
</ul>
</li>
<li><a class="reference internal" href="#invoke-interaction">8.8. Invoke Interaction</a><ul>
<li><a class="reference internal" href="#invoke-transaction">8.8.1. Invoke Transaction</a></li>
<li><a class="reference internal" href="#invoke-request-action">8.8.2. Invoke Request Action</a></li>
<li><a class="reference internal" href="#invoke-response-action">8.8.3. Invoke Response Action</a></li>
</ul>
</li>
<li><a class="reference internal" href="#common-action-information-blocks-and-paths">8.9. Common Action Information Blocks and Paths</a><ul>
<li><a class="reference internal" href="#path-information">8.9.1. Path Information</a></li>
<li><a class="reference internal" href="#attribute-information-blocks">8.9.2. Attribute Information Blocks</a></li>
<li><a class="reference internal" href="#event-information-blocks-and-paths">8.9.3. Event Information Blocks and Paths</a></li>
<li><a class="reference internal" href="#command-information-blocks-and-paths">8.9.4. Command Information Blocks and Paths</a></li>
<li><a class="reference internal" href="#status-information-blocks-and-paths">8.9.5. Status Information Blocks and Paths</a></li>
</ul>
</li>
<li><a class="reference internal" href="#status-codes">8.10. Status Codes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-9-system-model-specification">Chapter 9. System Model Specification</a><ul>
<li><a class="reference internal" href="#id18">9.1. Practical Information</a></li>
<li><a class="reference internal" href="#endpoint-composition">9.2. Endpoint Composition</a><ul>
<li><a class="reference internal" href="#dynamic-endpoint-allocation">9.2.1. Dynamic Endpoint allocation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interaction-model-relationships">9.3. Interaction Model Relationships</a><ul>
<li><a class="reference internal" href="#subscription">9.3.1. Subscription</a></li>
</ul>
</li>
<li><a class="reference internal" href="#binding-relationship">9.4. Binding Relationship</a></li>
<li><a class="reference internal" href="#descriptor-cluster">9.5. Descriptor Cluster</a></li>
<li><a class="reference internal" href="#binding-cluster">9.6. Binding Cluster</a></li>
<li><a class="reference internal" href="#label-cluster">9.7. Label Cluster</a></li>
<li><a class="reference internal" href="#fixed-label-cluster">9.8. Fixed Label Cluster</a></li>
<li><a class="reference internal" href="#user-label-cluster">9.9. User Label Cluster</a></li>
<li><a class="reference internal" href="#access-control-cluster">9.10. Access Control Cluster</a><ul>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#group-relationship">9.11. Group Relationship</a></li>
<li><a class="reference internal" href="#bridge-for-non-matter-devices">9.12. Bridge for non-Matter devices</a><ul>
<li><a class="reference internal" href="#id19">9.12.1. Introduction</a></li>
<li><a class="reference internal" href="#exposing-functionality-and-metadata-of-bridged-devices">9.12.2. Exposing functionality and metadata of Bridged Devices</a></li>
<li><a class="reference internal" href="#discovery-of-bridged-devices">9.12.3. Discovery of Bridged Devices</a></li>
<li><a class="reference internal" href="#configuration-of-bridged-devices">9.12.4. Configuration of Bridged Devices</a></li>
<li><a class="reference internal" href="#new-features-for-bridged-devices">9.12.5. New features for Bridged Devices</a></li>
<li><a class="reference internal" href="#changes-to-the-set-of-bridged-devices">9.12.6. Changes to the set of Bridged Devices</a></li>
<li><a class="reference internal" href="#changes-to-device-names-and-grouping-of-bridged-devices">9.12.7. Changes to device names and grouping of Bridged Devices</a></li>
<li><a class="reference internal" href="#setup-flow-for-a-bridge-plus-bridged-devices">9.12.8. Setup flow for a Bridge (plus Bridged Devices)</a></li>
<li><a class="reference internal" href="#id20">9.12.9. Access Control</a></li>
<li><a class="reference internal" href="#software-update-ota">9.12.10. Software update (OTA)</a></li>
<li><a class="reference internal" href="#best-practices-for-bridge-manufacturers">9.12.11. Best practices for Bridge Manufacturers</a></li>
<li><a class="reference internal" href="#best-practices-for-administrators">9.12.12. Best practices for Administrators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bridged-device-basic-information-cluster">9.13. Bridged Device Basic Information Cluster</a></li>
<li><a class="reference internal" href="#actions-cluster">9.14. Actions Cluster</a><ul>
<li><a class="reference internal" href="#id21">9.14.10. Examples</a><ul>
<li><a class="reference internal" href="#example-1-scene-recall">9.14.10.1. Example 1: Scene recall</a></li>
<li><a class="reference internal" href="#example-2-set-dynamic-light-effect">9.14.10.2. Example 2: Set dynamic light effect</a></li>
<li><a class="reference internal" href="#example-3-pause-sensor-automation">9.14.10.3. Example 3: Pause sensor automation</a></li>
<li><a class="reference internal" href="#example-4-wake-up-routine">9.14.10.4. Example 4: Wake-up routine</a></li>
<li><a class="reference internal" href="#example-5-scheduled-scene-recall">9.14.10.5. Example 5: Scheduled scene recall</a></li>
<li><a class="reference internal" href="#example-6-alarm-system">9.14.10.6. Example 6: Alarm system</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#proxy-architecture">9.15. Proxy Architecture</a><ul>
<li><a class="reference internal" href="#motivation">9.15.1. Motivation</a></li>
<li><a class="reference internal" href="#subscription-proxy-overview">9.15.2. Subscription Proxy: Overview</a></li>
<li><a class="reference internal" href="#composition-paths">9.15.3. Composition &amp; Paths</a></li>
<li><a class="reference internal" href="#proxy-subscriptions">9.15.4. Proxy Subscriptions</a></li>
<li><a class="reference internal" href="#schemas-and-data-serialization-deserialization">9.15.5. Schemas and Data Serialization/Deserialization</a></li>
<li><a class="reference internal" href="#indirect-proxies">9.15.6. Indirect Proxies</a></li>
<li><a class="reference internal" href="#proxy-discovery-assignment-flow">9.15.7. Proxy Discovery &amp; Assignment Flow</a><ul>
<li><a class="reference internal" href="#step-0-proxy-setup">9.15.7.1. Step 0: Proxy Setup</a></li>
<li><a class="reference internal" href="#step-1-rejection">9.15.7.2. Step 1: Rejection</a></li>
<li><a class="reference internal" href="#step-2-proxy-discovery">9.15.7.3. Step 2: Proxy Discovery</a></li>
<li><a class="reference internal" href="#step-3-proxy-response">9.15.7.4. Step 3: Proxy Response</a></li>
<li><a class="reference internal" href="#step-4-proxy-selection">9.15.7.5. Step 4: Proxy Selection</a></li>
<li><a class="reference internal" href="#step-5-proxy-subscription">9.15.7.6. Step 5: Proxy Subscription</a><ul>
<li><a class="reference internal" href="#option-1">Option 1</a></li>
<li><a class="reference internal" href="#option-2">Option 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-6-eviction">9.15.7.7. Step 6: Eviction</a></li>
<li><a class="reference internal" href="#step-7-re-assignment">9.15.7.8. Step 7: Re-Assignment</a></li>
<li><a class="reference internal" href="#notable-characteristics">9.15.7.9. Notable Characteristics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#constraints">9.15.8. Constraints</a></li>
<li><a class="reference internal" href="#certification">9.15.9. Certification</a></li>
<li><a class="reference internal" href="#security-privacy">9.15.10. Security &amp; Privacy</a></li>
<li><a class="reference internal" href="#id22">9.15.11. Parameters and Constants</a></li>
<li><a class="reference internal" href="#clusters">9.15.12. Clusters</a><ul>
<li><a class="reference internal" href="#proxy-discovery-cluster">9.15.13. Proxy Discovery Cluster</a></li>
<li><a class="reference internal" href="#proxy-configuration-cluster">9.15.14. Proxy Configuration Cluster</a></li>
<li><a class="reference internal" href="#valid-proxies-cluster">9.15.15. Valid Proxies Cluster</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-10-interaction-model-encoding-specification">Chapter 10. Interaction Model Encoding Specification</a><ul>
<li><a class="reference internal" href="#id23">10.1. Overview</a></li>
<li><a class="reference internal" href="#messages">10.2. Messages</a><ul>
<li><a class="reference internal" href="#im-protocol-messages">10.2.1. IM Protocol Messages</a></li>
<li><a class="reference internal" href="#common-action-information-encoding">10.2.2. Common Action Information Encoding</a></li>
<li><a class="reference internal" href="#chunking">10.2.3. Chunking</a></li>
<li><a class="reference internal" href="#transaction-flows">10.2.4. Transaction Flows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id24">10.3. Data Types</a></li>
<li><a class="reference internal" href="#sample-cluster">10.4. Sample Cluster</a></li>
<li><a class="reference internal" href="#information-blocks">10.5. Information Blocks</a><ul>
<li><a class="reference internal" href="#tag-rules">10.5.1. Tag Rules</a></li>
<li><a class="reference internal" href="#attributepathib">10.5.2. AttributePathIB</a></li>
<li><a class="reference internal" href="#dataversionfilterib">10.5.3. DataVersionFilterIB</a></li>
<li><a class="reference internal" href="#attributedataib">10.5.4. AttributeDataIB</a><ul>
<li><a class="reference internal" href="#collection-types-list">Collection Types (List)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#attributereportib">10.5.5. AttributeReportIB</a></li>
<li><a class="reference internal" href="#eventfilterib">10.5.6. EventFilterIB</a></li>
<li><a class="reference internal" href="#clusterpathib">10.5.7. ClusterPathIB</a></li>
<li><a class="reference internal" href="#eventpathib">10.5.8. EventPathIB</a></li>
<li><a class="reference internal" href="#eventdataib">10.5.9. EventDataIB</a></li>
<li><a class="reference internal" href="#eventreportib">10.5.10. EventReportIB</a></li>
<li><a class="reference internal" href="#commandpathib">10.5.11. CommandPathIB</a></li>
<li><a class="reference internal" href="#commanddataib">10.5.12. CommandDataIB</a></li>
<li><a class="reference internal" href="#invokeresponseib">10.5.13. InvokeResponseIB</a></li>
<li><a class="reference internal" href="#commandstatusib">10.5.14. CommandStatusIB</a></li>
<li><a class="reference internal" href="#eventstatusib">10.5.15. EventStatusIB</a></li>
<li><a class="reference internal" href="#attributestatusib">10.5.16. AttributeStatusIB</a></li>
<li><a class="reference internal" href="#statusib">10.5.17. StatusIB</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-definitions">10.6. Message Definitions</a><ul>
<li><a class="reference internal" href="#reportdatamessage">10.6.3. ReportDataMessage</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-11-service-and-device-management">Chapter 11. Service and Device Management</a><ul>
<li><a class="reference internal" href="#basic-information-cluster">11.1. Basic Information Cluster</a></li>
<li><a class="reference internal" href="#group-key-management-cluster">11.2. Group Key Management Cluster</a></li>
<li><a class="reference internal" href="#localization-configuration-cluster">11.3. Localization Configuration Cluster</a></li>
<li><a class="reference internal" href="#time-format-localization-cluster">11.4. Time Format Localization Cluster</a></li>
<li><a class="reference internal" href="#unit-localization-cluster">11.5. Unit Localization Cluster</a></li>
<li><a class="reference internal" href="#power-source-configuration-cluster">11.6. Power Source Configuration Cluster</a></li>
<li><a class="reference internal" href="#power-source-cluster">11.7. Power Source Cluster</a><ul>
<li><a class="reference internal" href="#features">11.7.4. Features</a></li>
<li><a class="reference internal" href="#id25">11.7.5. Data Types</a><ul>
<li><a class="reference internal" href="#wiredfault">11.7.5.1. WiredFault</a></li>
<li><a class="reference internal" href="#batfault">11.7.5.2. BatFault</a></li>
<li><a class="reference internal" href="#batchargefault">11.7.5.3. BatChargeFault</a></li>
</ul>
</li>
<li><a class="reference internal" href="#server">11.7.6. Server</a><ul>
<li><a class="reference internal" href="#id26">11.7.6.1. Attributes</a></li>
<li><a class="reference internal" href="#id27">11.7.6.2. Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-examples">11.7.9. Configuration Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#network-commissioning-cluster">11.8. Network Commissioning Cluster</a><ul>
<li><a class="reference internal" href="#id28">11.8.6. Data Types</a></li>
<li><a class="reference internal" href="#id29">11.8.7. Attributes</a></li>
<li><a class="reference internal" href="#commands">11.8.8. Commands</a><ul>
<li><a class="reference internal" href="#scannetworks-command">11.8.8.2. ScanNetworks Command</a></li>
<li><a class="reference internal" href="#scannetworksresponse-command">11.8.8.3. ScanNetworksResponse Command</a></li>
<li><a class="reference internal" href="#addorupdatewifinetwork-command">11.8.8.4. AddOrUpdateWiFiNetwork Command</a></li>
<li><a class="reference internal" href="#addorupdatethreadnetwork-command">11.8.8.5. AddOrUpdateThreadNetwork Command</a></li>
<li><a class="reference internal" href="#removenetwork-command">11.8.8.8. RemoveNetwork Command</a></li>
<li><a class="reference internal" href="#networkconfigresponse-command">11.8.8.9. NetworkConfigResponse Command</a></li>
<li><a class="reference internal" href="#connectnetwork-command">11.8.8.10. ConnectNetwork Command</a></li>
<li><a class="reference internal" href="#connectnetworkresponse-command">11.8.8.11. ConnectNetworkResponse Command</a></li>
<li><a class="reference internal" href="#reordernetwork-command">11.8.8.12. ReorderNetwork Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-of-networking-configurations">11.8.9. Usage of networking configurations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#general-commissioning-cluster">11.9. General Commissioning Cluster</a><ul>
<li><a class="reference internal" href="#id30">11.9.5. Data Types</a></li>
<li><a class="reference internal" href="#server-attributes">11.9.6. Server Attributes</a></li>
<li><a class="reference internal" href="#id31">11.9.7. Commands</a></li>
</ul>
</li>
<li><a class="reference internal" href="#diagnostic-logs-cluster">11.10. Diagnostic Logs Cluster</a><ul>
<li><a class="reference internal" href="#id32">11.10.6. Data Types</a></li>
<li><a class="reference internal" href="#id33">11.10.9. Commands</a><ul>
<li><a class="reference internal" href="#retrievelogsrequest">11.10.9.1. RetrieveLogsRequest</a></li>
<li><a class="reference internal" href="#retrievelogsresponse">11.10.9.2. RetrieveLogsResponse</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#general-diagnostics-cluster">11.11. General Diagnostics Cluster</a><ul>
<li><a class="reference internal" href="#id34">11.11.6. Data Types</a></li>
<li><a class="reference internal" href="#id35">11.11.7. Attributes</a></li>
<li><a class="reference internal" href="#id36">11.11.8. Commands</a></li>
<li><a class="reference internal" href="#id37">11.11.9. Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#software-diagnostics-cluster">11.12. Software Diagnostics Cluster</a><ul>
<li><a class="reference internal" href="#id38">11.12.6. Data Types</a></li>
<li><a class="reference internal" href="#id39">11.12.7. Attributes</a></li>
<li><a class="reference internal" href="#id40">11.12.8. Commands</a></li>
<li><a class="reference internal" href="#id41">11.12.9. Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#thread-network-diagnostics-cluster">11.13. Thread Network Diagnostics Cluster</a><ul>
<li><a class="reference internal" href="#id42">11.13.6. Data Types</a></li>
<li><a class="reference internal" href="#id43">11.13.7. Attributes</a><ul>
<li><a class="reference internal" href="#routingrole-attribute">11.13.7.2. RoutingRole Attribute</a></li>
<li><a class="reference internal" href="#neighbortable-attribute">11.13.7.8. NeighborTable Attribute</a></li>
<li><a class="reference internal" href="#routetable-attribute">11.13.7.9. RouteTable Attribute</a></li>
<li><a class="reference internal" href="#securitypolicy-attribute">11.13.7.60. SecurityPolicy Attribute</a></li>
<li><a class="reference internal" href="#operationaldatasetcomponents-attribute">11.13.7.62. OperationalDatasetComponents Attribute</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id44">11.13.8. Commands</a></li>
<li><a class="reference internal" href="#id45">11.13.9. Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wi-fi-network-diagnostics-cluster">11.14. Wi-Fi Network Diagnostics Cluster</a><ul>
<li><a class="reference internal" href="#id46">11.14.3. Data Types</a></li>
<li><a class="reference internal" href="#id47">11.14.4. Attributes</a></li>
<li><a class="reference internal" href="#id48">11.14.5. Commands</a></li>
<li><a class="reference internal" href="#id49">11.14.6. Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ethernet-network-diagnostics-cluster">11.15. Ethernet Network Diagnostics Cluster</a><ul>
<li><a class="reference internal" href="#id50">11.15.3. Data Types</a></li>
<li><a class="reference internal" href="#id51">11.15.4. Attributes</a></li>
<li><a class="reference internal" href="#id52">11.15.6. Commands</a></li>
</ul>
</li>
<li><a class="reference internal" href="#time-synchronization">11.16. Time Synchronization</a><ul>
<li><a class="reference internal" href="#id53">11.16.6. Attributes</a></li>
<li><a class="reference internal" href="#id54">11.16.7. Commands</a></li>
<li><a class="reference internal" href="#id55">11.16.8. Events</a></li>
<li><a class="reference internal" href="#id56">11.16.9. Data Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#node-operational-credentials-cluster">11.17. Node Operational Credentials Cluster</a><ul>
<li><a class="reference internal" href="#id57">11.17.5. Data Types</a></li>
<li><a class="reference internal" href="#id58">11.17.6. Attributes</a></li>
<li><a class="reference internal" href="#id59">11.17.7. Commands</a></li>
</ul>
</li>
<li><a class="reference internal" href="#administrator-commissioning-cluster">11.18. Administrator Commissioning Cluster</a><ul>
<li><a class="reference internal" href="#id60">11.18.6. Data Types</a></li>
<li><a class="reference internal" href="#id61">11.18.7. Attributes</a></li>
<li><a class="reference internal" href="#id62">11.18.8. Commands</a></li>
<li><a class="reference internal" href="#id63">11.18.9. Status Codes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#over-the-air-ota-software-update">11.19. Over-the-Air (OTA) Software Update</a><ul>
<li><a class="reference internal" href="#ota-software-update-provider-cluster-definition">11.19.6 OTA Software Update Provider Cluster Definition</a><ul>
<li><a class="reference internal" href="#id64">11.19.6.4. Data Types</a></li>
<li><a class="reference internal" href="#id65">11.19.6.6. Commands</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ota-software-update-requestor-cluster-definition">11.19.7. OTA Software Update Requestor Cluster Definition</a><ul>
<li><a class="reference internal" href="#id66">11.19.7.4. Data Types</a></li>
<li><a class="reference internal" href="#id67">11.19.7.5. Server Attributes</a></li>
<li><a class="reference internal" href="#id68">11.19.7.6. Commands</a></li>
<li><a class="reference internal" href="#announceotaprovider-command">11.19.7.7. AnnounceOTAProvider Command</a></li>
<li><a class="reference internal" href="#id69">11.19.7.8. Events</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#over-the-air-ota-software-update-file-format">11.20. Over-the-Air (OTA) Software Update File Format</a></li>
<li><a class="reference internal" href="#bulk-data-exchange-protocol-bdx">11.21. Bulk Data Exchange Protocol (BDX)</a><ul>
<li><a class="reference internal" href="#protocol-opcodes-and-status-report-values">11.21.3. Protocol Opcodes and Status Report Values</a><ul>
<li><a class="reference internal" href="#bdx-protocol-messages">11.21.3.1. BDX Protocol Messages</a></li>
<li><a class="reference internal" href="#bdx-status-codes">11.21.3.2. BDX Status Codes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#transfer-management-messages">11.21.5. Transfer Management Messages</a></li>
<li><a class="reference internal" href="#data-transfer-messages">11.21.6. Data Transfer Messages</a><ul>
<li><a class="reference internal" href="#block-ordering-rules">11.21.6.1. Block Ordering Rules</a></li>
<li><a class="reference internal" href="#blockquery-message">11.21.6.2. BlockQuery Message</a></li>
<li><a class="reference internal" href="#blockquerywithskip-message">11.21.6.3. BlockQueryWithSkip Message</a></li>
<li><a class="reference internal" href="#block-message">11.21.6.4. Block Message</a></li>
<li><a class="reference internal" href="#blockeof-message">11.21.6.5. BlockEOF Message</a></li>
<li><a class="reference internal" href="#blockack">11.21.6.6. BlockAck</a></li>
<li><a class="reference internal" href="#blockackeof">11.21.6.7. BlockAckEOF</a></li>
</ul>
</li>
<li><a class="reference internal" href="#synchronous-transfers-message-flows">11.21.7. Synchronous Transfers Message Flows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#distributed-compliance-ledger">11.22. Distributed Compliance Ledger</a><ul>
<li><a class="reference internal" href="#scope-purpose">11.22.1. Scope &amp; Purpose</a></li>
<li><a class="reference internal" href="#schemas">11.22.2. Schemas</a></li>
<li><a class="reference internal" href="#vendor-schema">11.22.3. Vendor Schema</a></li>
<li><a class="reference internal" href="#paa-schema">11.22.4. PAA Schema</a></li>
<li><a class="reference internal" href="#devicemodel-schema">11.22.5. DeviceModel Schema</a></li>
<li><a class="reference internal" href="#devicesoftwareversionmodel-schema">11.22.6. DeviceSoftwareVersionModel Schema</a></li>
<li><a class="reference internal" href="#devicesoftwarecompliance-compliance-test-result-schema">11.22.7. DeviceSoftwareCompliance / Compliance test result Schema</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-12-multiple-fabrics">Chapter 12. Multiple Fabrics</a><ul>
<li><a class="reference internal" href="#multiple-fabrics">12.1. Multiple Fabrics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-13-security-requirements">Chapter 13. Security Requirements</a><ul>
<li><a class="reference internal" href="#device-vs-node">13.2. Device vs. Node</a></li>
<li><a class="reference internal" href="#factory-reset">13.4. Factory Reset</a></li>
<li><a class="reference internal" href="#threats-and-countermeasures">13.7. Threats and Countermeasures</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-a-tag-length-value-tlv-encoding-format">Appendix A: Tag-length-value (TLV) Encoding Format</a><ul>
<li><a class="reference internal" href="#a-1-scope-purpose">A.1. Scope &amp; Purpose</a></li>
<li><a class="reference internal" href="#a-2-tags">A.2. Tags</a><ul>
<li><a class="reference internal" href="#a-3-lengths">A.3. Lengths</a></li>
<li><a class="reference internal" href="#a-4-primitive-types">A.4. Primitive Types</a></li>
<li><a class="reference internal" href="#a-5-container-types">A.5. Container Types</a></li>
<li><a class="reference internal" href="#a-6-element-encoding">A.6. Element Encoding</a></li>
<li><a class="reference internal" href="#a-7-control-octet-encoding">A.7. Control Octet Encoding</a><ul>
<li><a class="reference internal" href="#a-7-1-element-type-field">A.7.1. Element Type Field</a></li>
<li><a class="reference internal" href="#a-7-2-tag-control-field">A.7.2. Tag Control Field</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-8-tag-encoding">A.8. Tag Encoding</a><ul>
<li><a class="reference internal" href="#a-8-1-fully-qualified-tag-form">A.8.1. Fully-Qualified Tag Form</a></li>
<li><a class="reference internal" href="#a-8-2-implicit-profile-tag-form">A.8.2. Implicit Profile Tag Form</a></li>
<li><a class="reference internal" href="#a-8-3-common-profile-tag-form">A.8.3. Common Profile Tag Form</a></li>
<li><a class="reference internal" href="#a-8-4-context-specific-tag-form">A.8.4. Context-Specific Tag Form</a></li>
<li><a class="reference internal" href="#a-8-5-anonymous-tag-form">A.8.5. Anonymous Tag Form</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#a-9-length-encoding">A.9. Length Encoding</a></li>
<li><a class="reference internal" href="#a-10-end-of-container-encoding">A.10. End of Container Encoding</a></li>
<li><a class="reference internal" href="#a-11-value-encodings">A.11. Value Encodings</a><ul>
<li><a class="reference internal" href="#a-11-1-integers">A.11.1. Integers</a></li>
<li><a class="reference internal" href="#a-11-2-utf-8-and-octet-strings">A.11.2. UTF-8 and Octet Strings</a></li>
<li><a class="reference internal" href="#a-11-3-booleans">A.11.3. Booleans</a></li>
<li><a class="reference internal" href="#a-11-4-arrays-structures-and-lists">A.11.4. Arrays, Structures and Lists</a></li>
<li><a class="reference internal" href="#a-11-5-floating-point-numbers">A.11.5. Floating Point Numbers</a></li>
<li><a class="reference internal" href="#a-11-6-nulls">A.11.6. Nulls</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-12-tlv-encoding-examples">A.12. TLV Encoding Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-b-tag-length-value-tlv-schema-definitions">Appendix B: Tag-length-value (TLV) Schema Definitions</a><ul>
<li><a class="reference internal" href="#b-1-introduction">B.1. Introduction</a></li>
<li><a class="reference internal" href="#b-2-definitions">B.2. Definitions</a><ul>
<li><a class="reference internal" href="#b-2-1-type-definition-type-def">B.2.1. Type Definition (type-def)</a></li>
<li><a class="reference internal" href="#b-2-2-field-group-definition-field-group-def">B.2.2. FIELD GROUP Definition (field-group-def)</a></li>
<li><a class="reference internal" href="#b-2-3-namespace-definition-namespace-def">B.2.3. Namespace Definition (namespace-def)</a></li>
<li><a class="reference internal" href="#b-2-4-protocol-definition-protocol-def">B.2.4. PROTOCOL Definition (protocol-def)</a></li>
<li><a class="reference internal" href="#b-2-5-vendor-definition-vendor-def">B.2.5. VENDOR Definition (vendor-def)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b-3-types">B.3. Types</a><ul>
<li><a class="reference internal" href="#b-3-1-array-array-of">B.3.1. ARRAY / ARRAY OF</a></li>
<li><a class="reference internal" href="#b-3-2-boolean">B.3.2. BOOLEAN</a></li>
<li><a class="reference internal" href="#b-3-3-float32-float64">B.3.3. FLOAT32 / FLOAT64</a></li>
<li><a class="reference internal" href="#b-3-4-signed-integer-unsigned-integer">B.3.4. SIGNED INTEGER / UNSIGNED INTEGER</a></li>
<li><a class="reference internal" href="#b-3-5-list-list-of">B.3.5. LIST / LIST OF</a></li>
<li><a class="reference internal" href="#b-3-6-octet-string">B.3.6. OCTET STRING</a></li>
<li><a class="reference internal" href="#b-3-7-null">B.3.7. NULL</a></li>
<li><a class="reference internal" href="#b-3-8-string">B.3.8. STRING</a></li>
<li><a class="reference internal" href="#b-3-9-structure">B.3.9. STRUCTURE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b-4-pseudo-types">B.4. Pseudo-Types</a><ul>
<li><a class="reference internal" href="#b-4-1-any">B.4.1. ANY</a></li>
<li><a class="reference internal" href="#b-4-2-choice-of">B.4.2. CHOICE OF</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b-5-qualifiers">B.5. Qualifiers</a><ul>
<li><a class="reference internal" href="#b-5-1-any-order-schema-order-tag-order">B.5.1. any-order / schema-order / tag-order</a></li>
<li><a class="reference internal" href="#b-5-2-extensible">B.5.2. extensible</a></li>
<li><a class="reference internal" href="#b-5-3-id">B.5.3. id</a></li>
<li><a class="reference internal" href="#b-5-4-length">B.5.4. length</a></li>
<li><a class="reference internal" href="#b-5-5-nullable">B.5.5. nullable</a></li>
<li><a class="reference internal" href="#b-5-6-optional">B.5.6. optional</a></li>
<li><a class="reference internal" href="#b-5-7-range">B.5.7. range</a></li>
<li><a class="reference internal" href="#b-5-8-tag">B.5.8. tag</a></li>
<li><a class="reference internal" href="#b-5-9-documentation-and-comments">B.5.9. Documentation and Comments</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-c-tag-length-value-tlv-payload-text-representation-format">Appendix C: Tag-length-value (TLV) Payload Text Representation Format</a><ul>
<li><a class="reference internal" href="#c-1-introduction">C.1. Introduction</a></li>
<li><a class="reference internal" href="#c-3-examples">C.3. Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-d-status-report-messages">Appendix D: Status Report Messages</a><ul>
<li><a class="reference internal" href="#d-3-message-format">D.3. Message Format</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-e-matter-specific-asn-1-object-identifiers-oids">Appendix E: Matter-Specific ASN.1 Object Identifiers (OIDs)</a></li>
<li><a class="reference internal" href="#appendix-f-cryptographic-test-vectors-for-some-procedures">Appendix F: Cryptographic test vectors for some procedures</a></li>
<li><a class="reference internal" href="#appendix-g-minimal-resource-requirements">Appendix G: Minimal Resource Requirements</a></li>
</ul>
</li>
</ul>

            </nav>
  <table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="/index.html">主页</a></p></td>
<td><p><a class="reference internal" href="../genindex.html"><span class="std std-ref">索引</span></a></p></td>
<td><p><a class="reference internal" href="../py-modindex.html"><span class="std std-ref">模块索引</span></a></p></td>
<td><p><a class="reference internal" href="../search.html"><span class="std std-ref">搜索页面</span></a></p></td>
</tr>
</tbody>
</table>
<section id="matter-core">
<h1>Matter Core<a class="headerlink" href="#matter-core" title="此标题的永久链接">¶</a></h1>
<section id="chapter-1-introduction">
<h2>Chapter 1. Introduction<a class="headerlink" href="#chapter-1-introduction" title="此标题的永久链接">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Chapter 01 — Introduction Document
Chapter 02 — Architecture Document
Chapter 03 — Cryptographic Primitives Document
Chapter 04 — Secure Channel Document
Chapter 05 — Commissioning Document
Chapter 06 — Device Attestation Document
Chapter 07 — Data Model Document
Chapter 08 — Interaction Model Document
Chapter 09 — System Model Document
Chapter 10 — Interaction Encoding Document
Chapter 11 — Device Management Document
Chapter 12 — Multiple Fabrics Document
Chapter 13 — Security Requirements Document
</pre></div>
</div>
</section>
<section id="chapter-2-architecture">
<h2>Chapter 2. Architecture<a class="headerlink" href="#chapter-2-architecture" title="此标题的永久链接">¶</a></h2>
<section id="overview">
<h3>2.1. Overview<a class="headerlink" href="#overview" title="此标题的永久链接">¶</a></h3>
<figure class="align-default" id="id72">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/E72484EB-3AF4-4451-8947-019202A9C4C1.png" src="https://img.zhaoweiguo.com/uPic/2022/11/E72484EB-3AF4-4451-8947-019202A9C4C1.png" />
<figcaption>
<p><span class="caption-text">Figure 1. Application and Network Stack</span><a class="headerlink" href="#id72" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="layered-architecture">
<h3>2.2. Layered Architecture<a class="headerlink" href="#layered-architecture" title="此标题的永久链接">¶</a></h3>
<figure class="align-default" id="id73">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/835915B1-024B-4866-8196-64C6292154CE.png" src="https://img.zhaoweiguo.com/uPic/2022/11/835915B1-024B-4866-8196-64C6292154CE.png" />
<figcaption>
<p><span class="caption-text">Figure 2. Layered Architecture</span><a class="headerlink" href="#id73" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">layer</span></code> corresponds to the high order business logic of a device. For example, an application that is focused on lighting might contain logic to handle turning on/off a light bulb, as well as its color characteristics.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Model</span> <span class="pre">layer</span></code> corresponds to the data and verb elements that help support the functionality of the application. The Application operates on these data structures when there is intent to interact with the device.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Interaction</span> <span class="pre">Model</span> <span class="pre">layer</span></code> defines a set of interactions that can be performed between a client and server device. For example, reading or writing attributes on a server device would correspond to application behavior on the device. These interactions operate on the elements defined at the data model layer.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Action</span> <span class="pre">Framing</span> <span class="pre">layer</span></code>: Once an action is constructed using the Interaction Model, it is serialized into a prescribed packed binary format to encode for network transmission.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Security</span> <span class="pre">Layer</span></code>: the message is encrypted and appended with a message authentication code. These actions ensure the data remain confidential and authentic between sender and receiver of the message.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Message</span> <span class="pre">Layer</span></code> constructs the payload format with required and optional header fields, which specify properties of the message as well logical routing information. After the final payload has been constructed by the Message Layer, it is sent to the underlying transport protocol (TCP or MRP) for IP management of the data.</p></li>
</ul>
</section>
<section id="network-topology">
<h3>2.3. Network Topology<a class="headerlink" href="#network-topology" title="此标题的永久链接">¶</a></h3>
<figure class="align-default" id="id74">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/gfARMN.png" src="https://img.zhaoweiguo.com/uPic/2022/11/gfARMN.png" />
<figcaption>
<p><span class="caption-text">Single Network: Figure 3. Single Thread network; Figure 4. Single Wi-Fi network</span><a class="headerlink" href="#id74" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id75">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/4C09C09D-33E7-493A-9C35-B3B97FFC4734.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/4C09C09D-33E7-493A-9C35-B3B97FFC4734.jpg" />
<figcaption>
<p><span class="caption-text">Figure 5. Star network topology</span><a class="headerlink" href="#id75" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="scoped-names">
<h3>2.4. Scoped names<a class="headerlink" href="#scoped-names" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>A Fabric is a collection of Matter devices sharing a trusted root.</p></li>
<li><p>Fabrics are uniquely identified by the tuple of their root CA’s public key and a Fabric ID.</p></li>
<li><p>A Matter device may be a member of multiple fabrics and thus have multiple associated node IDs.</p></li>
</ul>
</section>
<section id="identifiers">
<h3>2.5. Identifiers<a class="headerlink" href="#identifiers" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Fabric</span> <span class="pre">ID</span></code> is a 64-bit number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Fabric</span> <span class="pre">ID</span></code> 0 is reserved across all fabric root public key scopes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Vendor</span> <span class="pre">ID</span></code> is a 16-bit number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Product</span> <span class="pre">ID</span></code> is a 16-bit number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Group</span> <span class="pre">ID</span></code> is a 16-bit number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">ID</span></code> is a 64-bit number</p></li>
</ul>
<p>Table 2. <code class="docutils literal notranslate"><span class="pre">Group</span> <span class="pre">ID</span></code> Allocations</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Range</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0xFF00 - 0xFFFF</p></td>
<td><p>Universal Group ID range reserved for static multicast and anycast identifiers</p></td>
</tr>
<tr class="row-odd"><td><p>0x0001 - 0xFEFF</p></td>
<td><p>Application Group ID, assigned by fabric Administrator</p></td>
</tr>
<tr class="row-even"><td><p>0x0000</p></td>
<td><p>Null or unspecified Group ID</p></td>
</tr>
</tbody>
</table>
<p>Table 3. <code class="docutils literal notranslate"><span class="pre">Universal</span> <span class="pre">Group</span> <span class="pre">ID</span></code> Allocations</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Range</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0xFFFF</p></td>
<td><p>All Nodes</p></td>
</tr>
<tr class="row-odd"><td><p>0xFFFE</p></td>
<td><p>All non-sleepy Nodes</p></td>
</tr>
<tr class="row-even"><td><p>0xFFFD</p></td>
<td><p>All Proxies</p></td>
</tr>
<tr class="row-odd"><td><p>0xFF00-0xFFFC</p></td>
<td><p>Reserved for future use</p></td>
</tr>
</tbody>
</table>
<p>Table 4. Node Identifier Allocations</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Range</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0xFFFF_FFFF_FFFF_xxxx</p></td>
<td><p>Group Node ID</p></td>
</tr>
<tr class="row-odd"><td><p>0xFFFF_FFFF_0000_0000 to 0xFFFF_FFFF_FFFE_FFFF</p></td>
<td><p>Reserved for future use</p></td>
</tr>
<tr class="row-even"><td><p>0xFFFF_FFFE_xxxx_xxxx</p></td>
<td><p>Temporary Local Node ID</p></td>
</tr>
<tr class="row-odd"><td><p>0xFFFF_FFFD_xxxx_xxxx</p></td>
<td><p>CASE Authenticated Tag</p></td>
</tr>
<tr class="row-even"><td><p>0xFFFF_FFFC_xxxx_xxxx to 0xFFFF_FFFC_FFFF_FFFF</p></td>
<td><p>Reserved for future use</p></td>
</tr>
<tr class="row-odd"><td><p>0xFFFF_FFFB_xxxx_xxxx</p></td>
<td><p>PAKE key identifiers</p></td>
</tr>
<tr class="row-even"><td><p>0xFFFF_FFF0_0000_0000 to 0xFFFF_FFFA_FFFF_FFFF</p></td>
<td><p>Reserved for future use</p></td>
</tr>
<tr class="row-odd"><td><p>0x0000_0000_0000_0001 to 0xFFFF_FFEF_FFFF_FFFF</p></td>
<td><p>Operational Node ID</p></td>
</tr>
<tr class="row-even"><td><p>0x0000_0000_0000_0000</p></td>
<td><p>Unspecified Node ID</p></td>
</tr>
</tbody>
</table>
<section id="ipv6-addressing">
<h4>2.5.6. IPv6 Addressing<a class="headerlink" href="#ipv6-addressing" title="此标题的永久链接">¶</a></h4>
<ul>
<li><p>IPv6 Unicast Address includes a <code class="docutils literal notranslate"><span class="pre">global</span> <span class="pre">unicast</span> <span class="pre">address</span> <span class="pre">(GUA)</span></code>, a <code class="docutils literal notranslate"><span class="pre">link-local</span> <span class="pre">address</span> <span class="pre">(LLA)</span></code>, or a <code class="docutils literal notranslate"><span class="pre">unique</span> <span class="pre">local</span> <span class="pre">address</span> <span class="pre">(ULA)</span></code>.</p></li>
<li><p>IPv6 Multicast Port Number is <code class="docutils literal notranslate"><span class="pre">5540</span></code>.</p></li>
<li><p>IPv6 Multicast Address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The first 12 bits are defined by [RFC 3306] and are `0xFF3`
2. The next 4 bits are &quot;scop&quot; (scope) and set based [RFC 7346] to:Site-Local (`0x5`)
    spans all networks in the Fabric, including Thread, Ethernet, and Wi-Fi.
3. The next 8 bits are reserved (`0x00`).
4. The next 8 bits are &quot;plen&quot;, set to `0x40` to indicate a 64-bit long network prefix field
5. The next 8 bits are a locally assigned ULA prefix per [RFC 4193 3.1], set to `0xFD`
6. The next 64 bits are the `Fabric ID` for the network in big-endian order
7. 0x00
8. The next 16-bits are the `Group Identifier` for the group in big-endian order

示例:
IPv6格式: 128位，分为8组，每组四个十六进制
FF35:0040:FD&lt;Fabric ID&gt;00:&lt;Group ID&gt;
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="device-identity">
<h3>2.6. Device identity<a class="headerlink" href="#device-identity" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Device Attestation Certificate (DAC)</p></li>
<li><p>Operational Node ID and a Node Operational Certificate (NOC) for that Operational Node ID, is issued, during the commissioning process of a device into a Fabric.</p></li>
</ul>
</section>
<section id="security">
<h3>2.7. Security<a class="headerlink" href="#security" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Detailed in <code class="docutils literal notranslate"><span class="pre">Chapter</span> <span class="pre">3,</span> <span class="pre">Cryptographic</span> <span class="pre">Primitives</span></code></p></li>
<li><p>Elliptic curve cryptography, based on the NIST P-256 curve (secp256r1) serves as the foundation for public key cryptography and digital signatures.</p></li>
<li><p>Commonly available AES modes of operation have been selected to provide shared key cryptographic operations.</p></li>
<li><p>In scenarios involving an out-of-band passcode-based authentication, Matter uses SPAKE2+, an efficient augmented PAKE algorithm.</p></li>
</ul>
</section>
<section id="device-commissioning">
<h3>2.8. Device Commissioning<a class="headerlink" href="#device-commissioning" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Detailed in <code class="docutils literal notranslate"><span class="pre">Chapter</span> <span class="pre">5,</span> <span class="pre">Commissioning</span></code></p></li>
</ul>
<ol class="arabic simple">
<li><p>Device discovery</p></li>
<li><p>Security setup with PASE</p></li>
<li><p>Device attestation verification</p></li>
<li><p>Information configuration: Commissioner provides Commissionee with information such as regulatory domain, UTC time, Operational Certificate and network interfaces configuration.</p></li>
<li><p>Join network</p></li>
<li><p>Security setup with CASE</p></li>
<li><p>Commissioning complete message exchange</p></li>
</ol>
</section>
<section id="sleepy-end-device-sed">
<h3>2.9. Sleepy End Device (SED)<a class="headerlink" href="#sleepy-end-device-sed" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Idle mode, or slow-polling, sets the maximum time a SED will sleep before polling.</p></li>
<li><p>Active mode sets the SED into a fast-polling interval for maximum responsiveness when the Node is engaged in ongoing communication, such as an active Exchange.</p></li>
<li><p>A Node determines whether it is in Active or Idle mode based on whether it has any outstanding Exchanges in the Message Layer. While there are Exchanges active, a node will remain in Active mode and poll at the fast-polling interval if it is a SED. Once all Exchanges are closed, a node SHOULD transition into Idle mode and poll at the slow-polling interval if it is a SED and the node has no other outstanding reasons for staying awake.</p></li>
</ul>
</section>
<section id="data-model-root">
<h3>2.10. Data Model Root<a class="headerlink" href="#data-model-root" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Endpoint 0 (zero) SHALL be the root node endpoint.</p></li>
<li><p>Endpoint 0 (zero) SHALL support the Root Node device type.</p></li>
</ul>
</section>
<section id="stack-limits">
<h3>2.11. Stack Limits<a class="headerlink" href="#stack-limits" title="此标题的永久链接">¶</a></h3>
<section id="system-model-limits">
<h4>2.11.1. System Model Limits<a class="headerlink" href="#system-model-limits" title="此标题的永久链接">¶</a></h4>
<p>2.11.1.1. Access Control Limits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">A</span> <span class="n">node</span> <span class="n">SHALL</span> <span class="n">guarantee</span> <span class="n">that</span> <span class="n">there</span> <span class="n">are</span> <span class="n">at</span> <span class="n">least</span> <span class="n">three</span> <span class="n">Access</span> <span class="n">Control</span> <span class="n">Entries</span>
    <span class="n">available</span> <span class="k">for</span> <span class="n">every</span> <span class="n">fabric</span> <span class="n">supported</span> <span class="n">by</span> <span class="n">the</span> <span class="n">node</span>

<span class="n">Device</span> <span class="n">types</span> <span class="n">MAY</span> <span class="n">impose</span> <span class="n">additional</span> <span class="n">constraints</span>
    <span class="n">on</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">ACL</span> <span class="n">entries</span> <span class="n">that</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">supported</span><span class="o">.</span>
</pre></div>
</div>
<p>2.11.1.2. Group Limits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">node</span> <span class="n">SHALL</span> <span class="n">support</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">group</span> <span class="n">key</span> <span class="n">per</span> <span class="n">fabric</span> <span class="k">for</span> <span class="n">managing</span> <span class="n">the</span> <span class="n">IPK</span><span class="o">.</span>
<span class="n">If</span> <span class="n">the</span> <span class="n">node</span> <span class="n">implements</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">device</span> <span class="n">types</span> <span class="k">with</span> <span class="n">support</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Groups</span> <span class="n">cluster</span><span class="p">,</span>
    <span class="n">the</span> <span class="n">node</span> <span class="n">SHALL</span> <span class="n">additionally</span> <span class="n">support</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">required</span> <span class="n">groups</span>
        <span class="k">as</span> <span class="n">specified</span> <span class="n">by</span> <span class="nb">all</span> <span class="n">of</span> <span class="n">these</span> <span class="n">implemented</span> <span class="n">device</span> <span class="n">types</span><span class="o">.</span>
<span class="n">A</span> <span class="n">node</span> <span class="n">SHALL</span> <span class="n">support</span> <span class="n">one</span> <span class="n">IPv6</span> <span class="n">multicast</span> <span class="n">group</span> <span class="n">membership</span> <span class="k">for</span> <span class="n">every</span> <span class="n">operational</span> <span class="n">group</span> <span class="n">it</span> <span class="n">supports</span><span class="o">.</span>
<span class="n">Support</span> <span class="k">for</span> <span class="n">GroupKeyMulticastPolicy</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">GroupKeySetStruct</span> <span class="ow">is</span> <span class="n">provisional</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="interaction-model-limits">
<h4>2.11.2. Interaction Model Limits<a class="headerlink" href="#interaction-model-limits" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>2.11.2.1. Read Interaction Limits</p></li>
<li><p>2.11.2.2. Subscribe Interaction Limits</p></li>
<li><p>2.11.2.3. Invoke Interaction Limits</p></li>
</ul>
</section>
</section>
<section id="list-of-provisional-items">
<h3>2.12. List of Provisional Items<a class="headerlink" href="#list-of-provisional-items" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Support for an Invoke Interaction with multiple paths or wildcard paths is provisional.</p></li>
<li><p>The EventList global attribute is provisional.</p></li>
<li><p>The Proxy Architecture, the Proxy Config and Proxy Discovery clusters are provisional.</p></li>
<li><p>The Time Synchronization feature is provisional.</p></li>
</ul>
</section>
</section>
<section id="chapter-3-cryptographic-primitives">
<h2>Chapter 3. Cryptographic Primitives<a class="headerlink" href="#chapter-3-cryptographic-primitives" title="此标题的永久链接">¶</a></h2>
</section>
<section id="chapter-4-secure-channel">
<h2>Chapter 4. Secure Channel<a class="headerlink" href="#chapter-4-secure-channel" title="此标题的永久链接">¶</a></h2>
<section id="general-description">
<h3>4.1. General Description<a class="headerlink" href="#general-description" title="此标题的永久链接">¶</a></h3>
<p>Unsecured communication is strictly limited to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Discovery, which does not use the Matter message format.
• User Directed Commissioning (UDC),
    which uses unsecured messages to initiate the commissioning process.
• Session establishment, which uses unsecured messages to establish a CASE or PASE session.
</pre></div>
</div>
<p>4.1.1.1. Message Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">control</span> <span class="n">message</span>
<span class="mf">2.</span> <span class="n">data</span> <span class="n">message</span>
</pre></div>
</div>
<p>4.1.1.2. Message Transports:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">UDP</span> <span class="n">transports</span> <span class="n">each</span> <span class="n">message</span> <span class="k">as</span> <span class="n">a</span> <span class="n">separate</span> <span class="n">datagram</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">TCP</span> <span class="n">transports</span> <span class="n">each</span> <span class="n">message</span> <span class="k">with</span> <span class="n">a</span> <span class="n">length</span> <span class="n">prepended</span><span class="p">,</span>
    <span class="n">performing</span> <span class="n">segmentation</span> <span class="ow">and</span> <span class="n">reassembly</span> <span class="k">as</span> <span class="n">needed</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">BTP</span> <span class="n">transports</span> <span class="n">each</span> <span class="n">message</span> <span class="n">over</span> <span class="n">BLE</span> <span class="k">as</span> <span class="n">a</span> <span class="n">separate</span> <span class="n">SDU</span><span class="p">,</span>
    <span class="n">performing</span> <span class="n">segmentation</span> <span class="ow">and</span> <span class="n">reassembly</span> <span class="k">as</span> <span class="n">needed</span><span class="o">.</span>
</pre></div>
</div>
<p>4.1.1.3. Message Exchanges:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Message</span> <span class="n">Exchanges</span> <span class="n">Layer</span>
<span class="n">Message</span> <span class="n">Session</span> <span class="n">Layer</span>
<span class="n">Message</span> <span class="n">Encode</span><span class="o">/</span><span class="n">Decode</span>
</pre></div>
</div>
<figure class="align-default" id="id76">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/94962A69-B020-4C26-9F90-70BD35D6D5A4.png" src="https://img.zhaoweiguo.com/uPic/2022/11/94962A69-B020-4C26-9F90-70BD35D6D5A4.png" />
<figcaption>
<p><span class="caption-text">Figure 6. Message Layer Stack</span><a class="headerlink" href="#id76" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="ipv6-reachability">
<h3>4.2. IPv6 Reachability<a class="headerlink" href="#ipv6-reachability" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>a Matter network is composed of (typically one) <code class="docutils literal notranslate"><span class="pre">infrastructure</span> <span class="pre">network</span></code> and one or more <code class="docutils literal notranslate"><span class="pre">stub</span> <span class="pre">networks</span></code>.</p></li>
<li><p>Unlike an infrastructure network, stub networks do not serve as transit networks.</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">infrastructure</span> <span class="pre">network</span></code> is a bridged Wi-Fi / Ethernet network</p></li>
<li><p>the Thread networks are <code class="docutils literal notranslate"><span class="pre">stub</span> <span class="pre">networks</span></code>.</p></li>
<li><p>A stub router connects a <code class="docutils literal notranslate"><span class="pre">stub</span> <span class="pre">network</span></code> to an <code class="docutils literal notranslate"><span class="pre">infrastructure</span> <span class="pre">network</span></code> and provides IPv6 reachability between the two networks.</p></li>
</ul>
<section id="stub-router-behavior">
<h4>4.2.1. Stub Router Behavior<a class="headerlink" href="#stub-router-behavior" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A stub router SHALL implement [draft-lemon-stub-networks]</p></li>
<li><p>If there is no routable prefix on a given network, the stub router SHALL provide its own routable prefix.</p></li>
<li><p>Thread’s “on-mesh prefix” is equivalent to Wi-Fi / Ethernet’s “on-link prefix”.</p></li>
</ul>
</section>
<section id="matter-node-behavior">
<h4>4.2.2. Matter Node Behavior<a class="headerlink" href="#matter-node-behavior" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Matter Nodes SHALL configure a link-local IPv6 address.</p></li>
<li><p>Nodes SHALL support configuration of at least three routable IPv6 addresses(link-local, Thread, mesh-local addresses).</p></li>
</ul>
</section>
</section>
<section id="discovery">
<h3>4.3. Discovery<a class="headerlink" href="#discovery" title="此标题的永久链接">¶</a></h3>
<p>Service Advertising and Discovery is used within Matter in the following contexts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Commissionable Node Discovery
• Operational Discovery
• Commissioner Discovery
• User Directed Commissioning
</pre></div>
</div>
<ul class="simple">
<li><p>Matter software advertising the availability of a service SHOULD indicate that announcements and answers for this service need include only IPv6 address records, not IPv4 address records.</p></li>
<li><p>A Thread Border Router SHALL implement DNS-SD Discovery Proxy [RFC 8766] to enable clients on the Thread mesh (e.g., other Nodes) to discover services (e.g., Matter Nodes) advertised using Multicast DNS on an adjacent Ethernet or Wi‐Fi link, also without the cost of using multicast on the Thread mesh [draft-lemon-stub-networks].</p></li>
<li><p>For short-lived instantaneous queries, these queries can be performed using unicast DNS over UDP to the DNS-SD Discovery Proxy.</p></li>
<li><p>For long-lived queries with ongoing change notification, DNS Push Notifications [RFC 8765] with DNS Stateful Operations [RFC 8490] allows clients on the Thread mesh to be notified of changes to the set of discovered services without expensive polling.</p></li>
</ul>
<section id="commissionable-node-discovery">
<h4>4.3.1. Commissionable Node Discovery<a class="headerlink" href="#commissionable-node-discovery" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>For Matter Commissionable Node Discovery in the already-on-network and Soft-AP cases, the DNS-SD instance name SHALL be a dynamic, pseudo-randomly selected, 64-bit temporary unique identifier: DD200C20D25AE5F7.</p></li>
<li><p>The target host name SHALL be constructed using one of the available link-layer addresses, such as a 48-bit device MAC address (for Ethernet and Wi‐Fi) or a 64-bit MAC Extended Address (for Thread)</p></li>
<li><p>While Section 5.4.2.3, “Announcement Duration” is limited for some forms of device advertisement, a Matter device MAY advertise Matter Commissionable Node Discovery service records for longer periods, possibly permanently. Advertising Commissionable Node Discovery when not in Commissioning Mode is referred to here as Extended Discovery.</p></li>
<li><p>Extended Discovery is allowed only for DNS-SD advertisements and not for the other forms of Device Discovery such as BLE Commissioning Discovery and Wi-Fi Temporary Access Point Commissioning Discovery.</p></li>
</ul>
<p>4.3.1.3. Commissioning Subtypes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">_L</span><span class="o">&lt;</span><span class="n">ddd</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">where</span> <span class="o">&lt;</span><span class="n">ddd</span><span class="o">&gt;</span> <span class="n">provides</span> <span class="n">the</span> <span class="n">full</span> <span class="mi">12</span><span class="o">-</span><span class="n">bit</span> <span class="n">discriminator</span>
<span class="mf">2.</span> <span class="n">_S</span><span class="o">&lt;</span><span class="n">d</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">where</span> <span class="o">&lt;</span><span class="n">d</span><span class="o">&gt;</span> <span class="n">provides</span> <span class="n">the</span> <span class="n">upper</span> <span class="mi">4</span> <span class="n">bits</span> <span class="n">of</span> <span class="n">the</span> <span class="n">discriminator</span>
<span class="mf">3.</span> <span class="n">_V</span><span class="o">&lt;</span><span class="n">dddd</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">where</span> <span class="o">&lt;</span><span class="n">ddddd</span><span class="o">&gt;</span> <span class="n">provides</span> <span class="n">the</span> <span class="mi">16</span><span class="o">-</span><span class="n">bit</span> <span class="n">Vendor</span> <span class="n">ID</span>
<span class="mf">4.</span> <span class="n">_T</span><span class="o">&lt;</span><span class="n">dd</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">where</span> <span class="o">&lt;</span><span class="n">dd</span><span class="o">&gt;</span> <span class="n">provides</span> <span class="n">the</span> <span class="n">device</span> <span class="nb">type</span> <span class="n">identifier</span> <span class="k">for</span> <span class="n">the</span> <span class="n">device</span>
<span class="mf">5.</span> <span class="n">_CM</span><span class="p">,</span> <span class="n">which</span> <span class="n">represents</span> <span class="s2">&quot;currently in Commissioning Mode&quot;</span>

<span class="n">示例</span><span class="p">:</span>
    <span class="n">_L840</span>
    <span class="n">_S3</span>
    <span class="n">_V1234</span>
    <span class="n">_T10</span>
    <span class="n">_CM</span>
</pre></div>
</div>
<p>4.3.1.4. TXT Records:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">discriminator</span> <span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="mf">2.</span> <span class="n">Vendor</span> <span class="n">ID</span> <span class="ow">and</span> <span class="n">Product</span> <span class="n">ID</span> <span class="p">(</span><span class="n">VP</span><span class="p">)</span>
<span class="mf">3.</span> <span class="n">commissioning</span> <span class="n">mode</span> <span class="p">(</span><span class="n">CM</span><span class="p">)</span>
<span class="mf">4.</span> <span class="n">device</span> <span class="nb">type</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span>
<span class="mf">5.</span> <span class="n">device</span> <span class="n">name</span> <span class="p">(</span><span class="n">DN</span><span class="p">)</span>
<span class="mf">6.</span> <span class="n">rotating</span> <span class="n">device</span> <span class="n">identifier</span> <span class="p">(</span><span class="n">RI</span><span class="p">)</span>
<span class="mf">7.</span> <span class="n">pairing</span> <span class="n">hint</span> <span class="p">(</span><span class="n">PH</span><span class="p">)</span>
<span class="mf">8.</span> <span class="n">pairing</span> <span class="n">instructions</span> <span class="p">(</span><span class="n">PI</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Examples are shown using both the <code class="docutils literal notranslate"><span class="pre">dns-sd</span></code> command-line test tool and the <code class="docutils literal notranslate"><span class="pre">avahi</span></code> command-line test tool.</p></li>
</ul>
</section>
<section id="operational-discovery">
<h4>4.3.2. Operational Discovery<a class="headerlink" href="#operational-discovery" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>For Matter Nodes that have already been commissioned onto a Matter Fabric, run-time dynamic discovery of operational Matter Nodes is used, rather than assuming a fixed unchanging IPv6 address and port for the lifetime of the product.</p></li>
<li><p>Operational Instance Name: a Matter Node with Matter compressed fabric identifier 2906-C908-D115-D362 and Matter Node identifier 8FC7-7724-01CD-0696 has Matter operational discovery DNS-SD instance name 2906C908D115D362-8FC7772401CD0696.</p></li>
<li><p>Compressed Fabric Identifier: In order to reduce the very large size of a full Fabric Reference which would need to be used as the scoping construct in the instance name, a 64-bit compressed version of the full Fabric Reference SHALL be used.</p></li>
</ul>
</section>
<section id="commissioner-discovery">
<h4>4.3.3. Commissioner Discovery<a class="headerlink" href="#commissioner-discovery" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A Commissionee MAY initiate the commissioning process by discovering Commissioners on the network</p></li>
</ul>
</section>
<section id="common-txt-key-value-pairs">
<h4>4.3.4. Common TXT Key/Value Pairs<a class="headerlink" href="#common-txt-key-value-pairs" title="此标题的永久链接">¶</a></h4>
<p>The TXT records provided during Commissionable, Operational and Commissioner discovery MAY contain the following optional key/value pairs which are common to every discovery method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">The</span> <span class="n">optional</span> <span class="n">key</span> <span class="n">SII</span> <span class="n">indicates</span> <span class="n">the</span> <span class="n">SLEEPY_IDLE_INTERVAL</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Node</span>
    <span class="o">-</span> <span class="n">Example</span><span class="p">:</span> <span class="n">SII</span><span class="o">=</span><span class="mi">5300</span> <span class="n">to</span> <span class="n">override</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">retry</span> <span class="n">interval</span> <span class="n">value</span> <span class="n">to</span> <span class="mf">5.3</span> <span class="n">seconds</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">The</span> <span class="n">optional</span> <span class="n">key</span> <span class="n">SAI</span> <span class="n">indicates</span> <span class="n">the</span> <span class="n">SLEEPY_ACTIVE_INTERVAL</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Node</span>
    <span class="o">-</span> <span class="n">Example</span><span class="p">:</span> <span class="n">SAI</span><span class="o">=</span><span class="mi">1250</span> <span class="n">to</span> <span class="n">override</span> <span class="n">the</span> <span class="n">active</span> <span class="n">retry</span> <span class="n">interval</span> <span class="n">value</span> <span class="n">to</span> <span class="mf">1.25</span> <span class="n">seconds</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">The</span> <span class="n">optional</span> <span class="n">key</span> <span class="n">T</span> <span class="n">indicates</span> <span class="n">whether</span> <span class="n">the</span> <span class="n">Node</span> <span class="n">supports</span> <span class="n">TCP</span>
    <span class="o">-</span> <span class="n">Example</span><span class="p">:</span> <span class="n">T</span><span class="o">=</span><span class="mi">1</span> <span class="n">to</span> <span class="n">announce</span> <span class="n">TCP</span> <span class="ow">is</span> <span class="n">supported</span> <span class="n">by</span> <span class="n">the</span> <span class="n">advertising</span> <span class="n">Node</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="message-frame-format">
<h3>4.4. Message Frame Format<a class="headerlink" href="#message-frame-format" title="此标题的永久链接">¶</a></h3>
<p>The Matter message format provides flexible support for various communication paradigms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">unicast</span> <span class="n">secure</span> <span class="n">sessions</span>
<span class="mf">2.</span> <span class="n">multicast</span> <span class="n">group</span> <span class="n">messaging</span>
<span class="mf">3.</span> <span class="n">session</span> <span class="n">establishment</span> <span class="n">itself</span>
</pre></div>
</div>
<p>Matter Message format definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Message</span> <span class="n">Header</span>
    <span class="mi">2</span> <span class="nb">bytes</span>     <span class="p">[</span> <span class="n">Message</span> <span class="n">Length</span> <span class="p">]</span>
    <span class="mi">1</span> <span class="n">byte</span>      <span class="n">Message</span> <span class="n">Flags</span>
    <span class="mi">2</span> <span class="nb">bytes</span>     <span class="n">Session</span> <span class="n">ID</span>
    <span class="mi">1</span> <span class="n">byte</span>      <span class="n">Security</span> <span class="n">Flags</span>
    <span class="mi">4</span> <span class="nb">bytes</span>     <span class="n">Message</span> <span class="n">Counter</span>
    <span class="mi">0</span><span class="o">/</span><span class="mi">8</span> <span class="nb">bytes</span>   <span class="p">[</span> <span class="n">Source</span> <span class="n">Node</span> <span class="n">ID</span> <span class="p">]</span>
    <span class="mi">0</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="mi">8</span> <span class="nb">bytes</span> <span class="p">[</span> <span class="n">Destination</span> <span class="n">Node</span> <span class="n">ID</span> <span class="p">]</span>
    <span class="n">variable</span>    <span class="p">[</span> <span class="n">Message</span> <span class="n">Extensions</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="p">]</span>
<span class="mf">2.</span> <span class="n">Message</span> <span class="n">Payload</span>
    <span class="n">variable</span>    <span class="p">[</span> <span class="n">Message</span> <span class="n">Payload</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="p">]</span> <span class="p">(</span><span class="n">encrypted</span><span class="p">)</span>
<span class="mf">3.</span> <span class="n">Message</span> <span class="n">Footer</span>
    <span class="n">variable</span>    <span class="p">[</span> <span class="n">Message</span> <span class="n">Integrity</span> <span class="n">Check</span> <span class="p">]</span>
</pre></div>
</div>
<p>Message Payload of a Matter message SHALL contain a Protocol Message with format as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Protocol</span> <span class="n">Header</span>
    <span class="mi">1</span> <span class="n">byte</span>      <span class="n">Exchange</span> <span class="n">Flags</span>
    <span class="mi">1</span> <span class="n">byte</span>      <span class="n">Protocol</span> <span class="n">Opcode</span>
    <span class="mi">2</span> <span class="nb">bytes</span>     <span class="n">Exchange</span> <span class="n">ID</span>
    <span class="mi">2</span> <span class="nb">bytes</span>     <span class="n">Protocol</span> <span class="n">ID</span>
    <span class="mi">2</span> <span class="nb">bytes</span>     <span class="p">[</span> <span class="n">Protocol</span> <span class="n">Vendor</span> <span class="n">ID</span> <span class="p">]</span>
    <span class="mi">4</span> <span class="nb">bytes</span>     <span class="p">[</span> <span class="n">Acknowledged</span> <span class="n">Message</span> <span class="n">Counter</span> <span class="p">]</span>
    <span class="n">variable</span>    <span class="p">[</span> <span class="n">Secured</span> <span class="n">Extensions</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="p">]</span>
<span class="mf">2.</span> <span class="n">Application</span> <span class="n">Payload</span>
    <span class="n">variable</span>    <span class="p">[</span> <span class="n">Application</span> <span class="n">Payload</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="p">]</span>
</pre></div>
</div>
<section id="message-header-field-descriptions">
<h4>4.4.1. Message Header Field Descriptions<a class="headerlink" href="#message-header-field-descriptions" title="此标题的永久链接">¶</a></h4>
<p>4.4.1.1. Message Length (16 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ow">not</span> <span class="n">including</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Message</span> <span class="n">Length</span> <span class="n">field</span> <span class="n">itself</span><span class="o">.</span>

<span class="n">This</span> <span class="n">field</span> <span class="n">SHALL</span> <span class="n">only</span> <span class="n">be</span> <span class="n">present</span>
    <span class="n">when</span> <span class="n">the</span> <span class="n">message</span> <span class="ow">is</span> <span class="n">being</span> <span class="n">transmitted</span> <span class="n">over</span> <span class="n">a</span> <span class="n">stream</span><span class="o">-</span><span class="n">oriented</span> <span class="n">channel</span> <span class="n">such</span> <span class="k">as</span> <span class="n">TCP</span><span class="o">.</span>
<span class="n">The</span> <span class="n">message</span> <span class="n">length</span> <span class="ow">is</span> <span class="n">equal</span> <span class="n">to</span> <span class="n">the</span> <span class="n">payload</span> <span class="n">length</span> <span class="n">of</span> <span class="n">the</span> <span class="n">UDP</span> <span class="n">packet</span>
    <span class="n">when</span> <span class="n">transmitted</span> <span class="n">over</span> <span class="n">UDP</span>
</pre></div>
</div>
<p>4.4.1.2. Message Flags (8 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>格式:
+---+---+---+---+---+---+---+---+
| 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
+===============+===+===+===+===+
|    Version    | - | S |  DSIZ |
+---------------+---+---+---+---+

说明:
Version (4 bits, positions 4-7):
    • 0 — Matter Message Format version 1.0
    • 1-15 — Reserved for future use
S Flag (1 bit)
    SHALL be set if and only if the Source Node ID field is present.
DSIZ Field (2 bits)
    • 0 — Destination Node ID field is not present
    • 1 — Destination Node ID field is present as a 64-bit Node ID
    • 2 — Destination Node ID field is present as a 16-bit Group ID
    • 3 — Reserved for future use
</pre></div>
</div>
<p>4.4.1.3. Session ID (16 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">An</span> <span class="n">unsigned</span> <span class="n">integer</span> <span class="n">value</span> <span class="n">identifying</span> <span class="n">the</span> <span class="n">session</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">this</span> <span class="n">message</span><span class="o">.</span>
<span class="n">The</span> <span class="n">session</span> <span class="n">identifies</span> <span class="n">the</span> <span class="n">particular</span> <span class="n">key</span> <span class="n">used</span> <span class="n">to</span> <span class="n">encrypt</span> <span class="n">a</span> <span class="n">message</span>
    <span class="n">out</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">available</span> <span class="n">keys</span> <span class="p">(</span><span class="n">either</span> <span class="n">session</span> <span class="ow">or</span> <span class="n">group</span><span class="p">),</span>
    <span class="ow">and</span> <span class="n">the</span> <span class="n">particular</span> <span class="n">encryption</span><span class="o">/</span><span class="n">message</span> <span class="n">integrity</span> <span class="n">algorithm</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span>
</pre></div>
</div>
<p>4.4.1.4. Security Flags (8 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>格式:
+---+---+---+---+---+---+---+---+
| 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
+===+===+===+===========+===+===+
| P | C | MX|  Reserved |  Type |
+---------------+---+---+---+---+

说明:
P Flag (1 bit, position 7):
    Privacy (P) flag
    when set, SHALL identify that the message is encoded with privacy enhancements
C Flag (1 bit, position 6):
    Control message (C) flag
    when set, SHALL identify that the message is a control message
MX Flag (1 bit, position 5):
    Message Extensions (MX) flag
     when set, SHALL indicate that the Message Extensions portion of the message is present
Session Type (2 bit, position 0-1):
    • 0 — Unicast Session
    • 1 — Group Session
    • 2-3 — Reserved for future use
</pre></div>
</div>
<p>4.4.1.5. Message Counter (32 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uniquely</span> <span class="n">identifying</span> <span class="n">the</span> <span class="n">message</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">perspective</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sending</span> <span class="n">node</span><span class="o">.</span>
<span class="n">The</span> <span class="n">message</span> <span class="n">counter</span> <span class="ow">is</span> <span class="n">generated</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">Session</span> <span class="n">Type</span>
    <span class="ow">and</span> <span class="n">increases</span> <span class="n">monotonically</span> <span class="k">for</span> <span class="n">each</span> <span class="n">unique</span> <span class="n">message</span> <span class="n">generated</span><span class="o">.</span>
<span class="n">When</span> <span class="n">messages</span> <span class="n">are</span> <span class="n">retransmitted</span> <span class="n">the</span> <span class="n">counter</span> <span class="n">remains</span> <span class="n">the</span> <span class="n">same</span>
</pre></div>
</div>
<p>4.4.1.6. Source Node ID (64 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unique</span> <span class="n">identifier</span> <span class="n">of</span> <span class="n">the</span> <span class="n">source</span> <span class="n">node</span>
<span class="n">The</span> <span class="n">Source</span> <span class="n">Node</span> <span class="n">ID</span> <span class="n">field</span> <span class="n">SHALL</span> <span class="n">only</span> <span class="n">be</span> <span class="n">present</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">message</span>
    <span class="n">when</span> <span class="n">the</span> <span class="n">S</span> <span class="n">Flag</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Message</span> <span class="n">Flags</span> <span class="n">field</span> <span class="ow">is</span> <span class="nb">set</span> <span class="n">to</span> <span class="mf">1.</span>
</pre></div>
</div>
<p>4.4.1.7. Destination Node ID:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unique</span> <span class="n">Node</span> <span class="n">Identifier</span> <span class="n">of</span> <span class="n">the</span> <span class="n">destination</span> <span class="n">Node</span> <span class="ow">or</span> <span class="n">group</span>
    <span class="n">to</span> <span class="n">which</span> <span class="n">the</span> <span class="n">message</span> <span class="ow">is</span> <span class="n">being</span> <span class="n">sent</span><span class="o">.</span>
<span class="n">The</span> <span class="n">size</span> <span class="ow">and</span> <span class="n">encoding</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Destination</span> <span class="n">Node</span> <span class="n">ID</span> <span class="n">field</span>
    <span class="n">depends</span> <span class="n">on</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">the</span> <span class="n">DSIZ</span> <span class="n">field</span><span class="o">.</span>
</pre></div>
</div>
<p>4.4.1.8. Message Extensions (variable):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">Message</span> <span class="n">Extensions</span> <span class="n">block</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="n">present</span> <span class="n">only</span> <span class="k">if</span> <span class="n">the</span> <span class="n">MX</span> <span class="n">Flag</span> <span class="ow">is</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span>

<span class="n">说明</span><span class="p">:</span>
<span class="mi">2</span> <span class="nb">bytes</span><span class="p">:</span>    <span class="n">Message</span> <span class="n">Extensions</span> <span class="n">Payload</span> <span class="n">Length</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">bytes</span>
<span class="n">variable</span><span class="p">:</span>   <span class="p">[</span> <span class="n">Message</span> <span class="n">Extensions</span> <span class="n">Payload</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="message-footer-field-descriptions">
<h4>4.4.2. Message Footer Field Descriptions<a class="headerlink" href="#message-footer-field-descriptions" title="此标题的永久链接">¶</a></h4>
<p>4.4.2.1. Message Integrity Check (variable length):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MIC</span> <span class="n">field</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="n">present</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">messages</span> <span class="k">except</span> <span class="n">those</span> <span class="n">of</span> <span class="n">Unsecured</span> <span class="n">Session</span> <span class="n">Type</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="protocol-header-field-descriptions">
<h4>4.4.3. Protocol Header Field Descriptions<a class="headerlink" href="#protocol-header-field-descriptions" title="此标题的永久链接">¶</a></h4>
<p>4.4.3.1. Exchange Flags (8 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">格式</span><span class="p">:</span>
<span class="o">+---+---+---+---+---+---+---+---+</span>
<span class="o">|</span> <span class="mi">7</span> <span class="o">|</span> <span class="mi">6</span> <span class="o">|</span> <span class="mi">5</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+===============+===+===+===+===+</span>
<span class="o">|</span>  <span class="n">Reserved</span> <span class="o">|</span> <span class="n">V</span> <span class="o">|</span> <span class="n">SX</span><span class="o">|</span> <span class="n">R</span> <span class="o">|</span> <span class="n">A</span> <span class="o">|</span> <span class="n">I</span> <span class="o">|</span>
<span class="o">+---------------+---+---+---+---+</span>

<span class="n">说明</span><span class="p">:</span>
<span class="n">I</span> <span class="n">Flag</span> <span class="p">(</span><span class="mi">1</span> <span class="n">bit</span><span class="p">,</span> <span class="n">position</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">Initiator</span> <span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="n">flag</span>
    <span class="n">when</span> <span class="nb">set</span><span class="p">,</span> <span class="n">SHALL</span> <span class="n">indicate</span> <span class="n">that</span> <span class="n">the</span> <span class="n">message</span> <span class="n">was</span> <span class="n">sent</span> <span class="n">by</span> <span class="n">the</span> <span class="n">initiator</span> <span class="n">of</span> <span class="n">the</span> <span class="n">exchange</span><span class="o">.</span>
<span class="n">A</span> <span class="n">Flag</span> <span class="p">(</span><span class="mi">1</span> <span class="n">bit</span><span class="p">,</span> <span class="n">position</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">Acknowledgement</span> <span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="n">flag</span>
    <span class="n">when</span> <span class="nb">set</span><span class="p">,</span> <span class="n">SHALL</span> <span class="n">indicate</span> <span class="n">that</span> <span class="n">the</span> <span class="n">message</span> <span class="n">serves</span> <span class="k">as</span> <span class="n">an</span> <span class="n">acknowledgement</span>
        <span class="n">of</span> <span class="n">a</span> <span class="n">previous</span> <span class="n">message</span> <span class="n">received</span> <span class="n">by</span> <span class="n">the</span> <span class="n">current</span> <span class="n">message</span> <span class="n">sender</span><span class="o">.</span>
<span class="n">R</span> <span class="n">Flag</span> <span class="p">(</span><span class="mi">1</span> <span class="n">bit</span><span class="p">,</span> <span class="n">position</span> <span class="mi">2</span><span class="p">):</span>
    <span class="n">Reliability</span> <span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">flag</span>
    <span class="n">when</span> <span class="nb">set</span><span class="p">,</span> <span class="n">SHALL</span> <span class="n">indicate</span> <span class="n">that</span> <span class="n">the</span> <span class="n">message</span> <span class="n">sender</span> <span class="n">wishes</span> <span class="n">to</span>
        <span class="n">receive</span> <span class="n">an</span> <span class="n">acknowledgement</span> <span class="k">for</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span>
<span class="n">SX</span> <span class="n">Flag</span> <span class="p">(</span><span class="mi">1</span> <span class="n">bit</span><span class="p">,</span> <span class="n">position</span> <span class="mi">3</span><span class="p">):</span>
    <span class="n">Secured</span> <span class="n">Extensions</span> <span class="p">(</span><span class="n">SX</span><span class="p">)</span> <span class="n">flag</span>
    <span class="n">when</span> <span class="nb">set</span><span class="p">,</span> <span class="n">SHALL</span> <span class="n">indicate</span> <span class="n">that</span>
        <span class="n">the</span> <span class="n">Secured</span> <span class="n">Extensions</span> <span class="n">portion</span> <span class="n">of</span> <span class="n">the</span> <span class="n">message</span> <span class="ow">is</span> <span class="n">present</span> <span class="ow">and</span> <span class="n">has</span> <span class="n">non</span><span class="o">-</span><span class="n">zero</span> <span class="n">length</span><span class="o">.</span>
<span class="n">V</span> <span class="n">Flag</span> <span class="p">(</span><span class="mi">1</span> <span class="n">bit</span><span class="p">,</span> <span class="n">position</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">Vendor</span> <span class="p">(</span><span class="n">V</span><span class="p">)</span> <span class="n">protocol</span> <span class="n">flag</span>
    <span class="n">when</span> <span class="nb">set</span><span class="p">,</span> <span class="n">SHALL</span> <span class="n">indicate</span> <span class="n">whether</span> <span class="n">the</span> <span class="n">Protocol</span> <span class="n">Vendor</span> <span class="n">ID</span> <span class="ow">is</span> <span class="n">present</span><span class="o">.</span>
</pre></div>
</div>
<p>4.4.3.2. Protocol Opcode (8 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">identifying</span> <span class="n">the</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span>
</pre></div>
</div>
<p>4.4.3.3. Exchange ID (16 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">identifying</span> <span class="n">the</span> <span class="n">exchange</span> <span class="n">to</span> <span class="n">which</span> <span class="n">the</span> <span class="n">message</span> <span class="n">belongs</span>
</pre></div>
</div>
<p>4.4.3.4. Protocol ID (16 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>identifying the protocol in which the Protocol Opcode of the message is defined.

When the Protocol Vendor ID is the ``Matter Standard Vendor ID``:
+-----------------+-----------------------------------------+
| Range           | Type                                    |
+=================+=========================================+
| 0x0000          | PROTOCOL_ID_SECURE_CHANNEL              |
+-----------------+-----------------------------------------+
| 0x0001          | PROTOCOL_ID_INTERACTION_MODEL           |
+-----------------+-----------------------------------------+
| 0x0002          | PROTOCOL_ID_BDX                         |
+-----------------+-----------------------------------------+
| 0x0003          | PROTOCOL_ID_USER_DIRECTED_COMMISSIONING |
+-----------------+-----------------------------------------+
| 0x0004          | PROTOCOL_ID_FOR_TESTING                 |
+-----------------+-----------------------------------------+
| 0x0005 - 0xFFFF | reserved                                |
+-----------------+-----------------------------------------+
</pre></div>
</div>
<p>4.4.3.5. Protocol Vendor ID (16 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">field</span> <span class="n">SHALL</span> <span class="n">only</span> <span class="n">be</span> <span class="n">present</span> <span class="n">when</span> <span class="n">the</span> <span class="n">V</span> <span class="n">Flag</span> <span class="ow">is</span> <span class="nb">set</span><span class="p">;</span>
<span class="n">otherwise</span> <span class="n">the</span> <span class="n">default</span> <span class="ow">is</span> <span class="mi">0</span><span class="p">,</span> <span class="n">corresponding</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Matter</span> <span class="n">Standard</span> <span class="n">Vendor</span> <span class="n">ID</span><span class="o">.</span>
</pre></div>
</div>
<p>4.4.3.6. Acknowledged Message Counter (32 bits):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">containing</span> <span class="n">the</span> <span class="n">message</span> <span class="n">counter</span> <span class="n">of</span> <span class="n">a</span> <span class="n">previous</span> <span class="n">message</span>
    <span class="n">that</span> <span class="ow">is</span> <span class="n">being</span> <span class="n">acknowledged</span> <span class="n">by</span> <span class="n">the</span> <span class="n">current</span> <span class="n">message</span><span class="o">.</span>

<span class="n">SHALL</span> <span class="n">only</span> <span class="n">be</span> <span class="n">present</span> <span class="n">when</span> <span class="n">the</span> <span class="n">A</span> <span class="n">Flag</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">Flags</span> <span class="n">field</span> <span class="ow">is</span> <span class="mf">1.</span>
</pre></div>
</div>
<p>4.4.3.7. Secured Extensions (variable):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="k">for</span> <span class="n">providing</span> <span class="n">backwards</span> <span class="n">compatible</span> <span class="n">extensibility</span><span class="o">.</span>
 <span class="n">SHALL</span> <span class="n">be</span> <span class="n">present</span> <span class="n">only</span> <span class="k">if</span> <span class="n">the</span> <span class="n">SX</span> <span class="n">Flag</span> <span class="ow">is</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">Flags</span> <span class="n">field</span><span class="o">.</span>

<span class="n">Secured</span> <span class="n">Extensions</span> <span class="n">block</span> <span class="nb">format</span> <span class="n">definition</span><span class="p">:</span>
<span class="o">+----------+----------------------------------------------+</span>
<span class="o">|</span> <span class="n">Length</span>   <span class="o">|</span> <span class="n">Field</span>                                        <span class="o">|</span>
<span class="o">+==========+==============================================+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="nb">bytes</span>  <span class="o">|</span> <span class="n">Secured</span> <span class="n">Extensions</span> <span class="n">Payload</span> <span class="n">Length</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">bytes</span><span class="o">.</span> <span class="o">|</span>
<span class="o">+----------+----------------------------------------------+</span>
<span class="o">|</span> <span class="n">variable</span> <span class="o">|</span> <span class="p">[</span> <span class="n">Secured</span> <span class="n">Extensions</span> <span class="n">Payload</span> <span class="p">]</span>               <span class="o">|</span>
<span class="o">+----------+----------------------------------------------+</span>
</pre></div>
</div>
<p>4.4.3.8. Application Payload (variable length):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">zero</span> <span class="ow">or</span> <span class="n">more</span> <span class="nb">bytes</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">application</span> <span class="n">data</span> <span class="n">conveyed</span> <span class="n">by</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="message-size-requirements">
<h4>4.4.4. Message Size Requirements<a class="headerlink" href="#message-size-requirements" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Support for IPv6 fragmentation is not mandatory in Matter, and the expected supported MTU is 1280 bytes, the minimum required by IPv6.</p></li>
<li><p>Therefore, all messages, including transport headers, SHALL fit within that minimal IPv6 MTU.</p></li>
<li><p>This message size limit SHALL apply to the UDP transport.</p></li>
<li><p>A message received over UDP that exceeds this message size limit SHALL NOT be processed.</p></li>
<li><p>Messages sent over TCP or BTP over BLE transports MAY exceed the message size limit if both nodes are capable of supporting larger message sizes.</p></li>
</ul>
</section>
</section>
<section id="message-counters">
<h3>4.5. Message Counters<a class="headerlink" href="#message-counters" title="此标题的永久链接">¶</a></h3>
<p>Message counters serve several purposes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Duplicate</span> <span class="n">Message</span> <span class="n">Detection</span>
<span class="mf">2.</span> <span class="n">Message</span> <span class="n">Acknowledgement</span>
<span class="mf">3.</span> <span class="n">Encryption</span> <span class="n">Nonces</span>
<span class="mf">4.</span> <span class="n">Replay</span> <span class="n">Prevention</span>
</pre></div>
</div>
<section id="message-counter-types">
<h4>4.5.1. Message Counter Types<a class="headerlink" href="#message-counter-types" title="此标题的永久链接">¶</a></h4>
<p>All Nodes implement three global 32-bit counters to vend message counters for certain types of messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Global Unencrypted Message Counter
• Global Group Encrypted Data Message Counter
• Global Group Encrypted Control Message Counter
</pre></div>
</div>
<p>Nodes implement a separate 32-bit counter for each session as part of secure session state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Secure Session Message Counter
</pre></div>
</div>
<figure class="align-default" id="id77">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/6sBJ21.png" src="https://img.zhaoweiguo.com/uPic/2022/11/6sBJ21.png" />
<figcaption>
<p><span class="caption-text">Table 15. Message Counter Type Overview</span><a class="headerlink" href="#id77" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<section id="global-unencrypted-message-counter">
<h5>4.5.1.2. Global Unencrypted Message Counter<a class="headerlink" href="#global-unencrypted-message-counter" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Typically, Nodes store the Global Unencrypted Message Counter in RAM. This makes the counter subject to loss whenever the system reboots or otherwise loses its state.</p></li>
<li><p>This is permissible because retaining the Global Unencrypted Message Counter is not essential to the confidentiality or integrity of the message.</p></li>
<li><p>In the event that the Global Unencrypted Message Counter for a Node is lost, Nodes SHALL randomize the initial value of this counter on startup</p></li>
</ul>
</section>
<section id="global-group-encrypted-message-counters">
<h5>4.5.1.3. Global Group Encrypted Message Counters<a class="headerlink" href="#global-group-encrypted-message-counters" title="此标题的永久链接">¶</a></h5>
<p>There are two such counters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Global Group Encrypted Data Message Counter
    encode regular data messages encrypted with a group key.

• Global Group Encrypted Control Message Counter
    encode control messages encrypted with a group key.
</pre></div>
</div>
</section>
</section>
<section id="secure-session-message-counters">
<h4>4.5.2. Secure Session Message Counters<a class="headerlink" href="#secure-session-message-counters" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>used by the encoding of any encrypted messages using an associated session key.</p></li>
<li><p>Each peer in a Secure Unicast Session SHALL maintain its own message counters, with independent counters being used for each unique session used.</p></li>
<li><p>The Secure Session Message Counter history window SHALL be maintained for the lifetime of the session, and SHALL be deleted at the same time as the session keys, when the session ends.</p></li>
</ul>
</section>
<section id="message-counters-as-encryption-nonces">
<h4>4.5.3. Message Counters as Encryption Nonces<a class="headerlink" href="#message-counters-as-encryption-nonces" title="此标题的永久链接">¶</a></h4>
<p>As Encryption Nonces makes decrypt more harder</p>
</section>
<section id="replay-prevention-and-duplicate-message-detection">
<h4>4.5.4. Replay Prevention and Duplicate Message Detection<a class="headerlink" href="#replay-prevention-and-duplicate-message-detection" title="此标题的永久链接">¶</a></h4>
<p>Message duplication may occur for a number of reasons:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">out</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">order</span> <span class="n">arrival</span><span class="p">,</span>
<span class="mf">2.</span> <span class="n">network</span> <span class="n">latency</span><span class="p">,</span>
<span class="mf">3.</span> <span class="n">malicious</span> <span class="n">attack</span><span class="p">,</span>
<span class="mf">4.</span> <span class="n">network</span> <span class="n">error</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="counter-processing-of-outgoing-messages">
<h4>4.5.5. Counter Processing of Outgoing Messages<a class="headerlink" href="#counter-processing-of-outgoing-messages" title="此标题的永久链接">¶</a></h4>
<ol class="arabic simple">
<li><p>Obtain the outgoing message counter of the sending Node</p></li>
<li><p>The outgoing message counter from step 1 SHALL be incremented by 1.</p></li>
<li><p>Store the incremented outgoing message counter in the OutgoingMessageCounter element associated with the Session Context for the message.</p></li>
</ol>
</section>
<section id="counter-processing-of-incoming-messages">
<h4>4.5.6. Counter Processing of Incoming Messages<a class="headerlink" href="#counter-processing-of-incoming-messages" title="此标题的永久链接">¶</a></h4>
<ol class="arabic simple">
<li><p>Determine the Message Reception State for the sending peer and get the current max_message_counter.</p></li>
<li><p>If the Message Counter is outside the valid message counter window, the message SHALL be marked as a duplicate.</p></li>
</ol>
</section>
</section>
<section id="message-processing">
<h3>4.6. Message Processing<a class="headerlink" href="#message-processing" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>4.6.1. Message Transmission</p></li>
<li><p>4.6.2. Message Reception</p></li>
</ul>
</section>
<section id="message-security">
<h3>4.7. Message Security<a class="headerlink" href="#message-security" title="此标题的永久链接">¶</a></h3>
<section id="data-confidentiality-and-integrity-with-data-origin-authentication-parameters">
<h4>4.7.1. Data confidentiality and integrity with data origin authentication parameters<a class="headerlink" href="#data-confidentiality-and-integrity-with-data-origin-authentication-parameters" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">3.6,</span> <span class="pre">“Data</span> <span class="pre">Confidentiality</span> <span class="pre">and</span> <span class="pre">Integrity”</span></code>.</p></li>
</ul>
<p>4.7.1.1. Nonce:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>数据格式:
    Security Flags(4bit) Message Counter(4*4bit) Source Node ID(8*4bit)
    little-endian byte order

• If the message is of Secure Unicast Session Type:
    For a CASE session,
        Source Node ID=determined via the Secure Session Context associated with the Session Identifier.
    For a PASE session,
        Source Node ID=Unspecified Node ID.
• If the message is of Group Session Type:
    The S Flag of the message SHALL be 1
        and the Nonce Source Node ID SHALL be the SourceNode ID of the message.
    If the S Flag of the message is 0 the message SHALL be dropped.
</pre></div>
</div>
</section>
<section id="security-processing-of-outgoing-messages">
<h4>4.7.2. Security Processing of Outgoing Messages<a class="headerlink" href="#security-processing-of-outgoing-messages" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id78">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/2634E837-D0C6-4CF7-BF00-C27C551555CF.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/2634E837-D0C6-4CF7-BF00-C27C551555CF.jpg" />
<figcaption>
<p><span class="caption-text">Figure 8. Matter Message Encryption</span><a class="headerlink" href="#id78" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id79">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/920B133E-FE3D-495E-8A4E-93CAE76EBBD0.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/920B133E-FE3D-495E-8A4E-93CAE76EBBD0.jpg" />
<figcaption>
<p><span class="caption-text">Figure 9. Matter Message Encryption Legend</span><a class="headerlink" href="#id79" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="security-processing-of-incoming-messages">
<h4>4.7.3. Security Processing of Incoming Messages<a class="headerlink" href="#security-processing-of-incoming-messages" title="此标题的永久链接">¶</a></h4>
</section>
</section>
<section id="message-privacy">
<h3>4.8. Message Privacy<a class="headerlink" href="#message-privacy" title="此标题的永久链接">¶</a></h3>
<p>rely on the cryptographic primitives in <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">3.7,</span> <span class="pre">“Message</span> <span class="pre">privacy”</span></code>.</p>
<section id="privacy-key">
<h4>4.8.1. Privacy Key<a class="headerlink" href="#privacy-key" title="此标题的永久链接">¶</a></h4>
<p>Privacy Key is derived as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PrivacyKey</span> <span class="o">=</span>
    <span class="n">Crypto_KDF</span>
    <span class="p">(</span>
       <span class="n">InputKey</span> <span class="o">=</span> <span class="n">EncryptionKey</span><span class="p">,</span>
       <span class="n">Salt</span> <span class="o">=</span> <span class="p">[],</span>
       <span class="n">Info</span> <span class="o">=</span> <span class="s2">&quot;PrivacyKey&quot;</span><span class="p">,</span>
       <span class="n">Length</span> <span class="o">=</span> <span class="n">CRYPTO_SYMMETRIC_KEY_LENGTH_BITS</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="privacy-nonce">
<h4>4.8.2. Privacy Nonce<a class="headerlink" href="#privacy-nonce" title="此标题的永久链接">¶</a></h4>
<p>The Privacy Nonce SHALL be the <code class="docutils literal notranslate"><span class="pre">CRYPTO_AEAD_NONCE_LENGTH_BYTES</span></code>-octet string constructed as the 16-bit Session ID (in big-endian format) concatenated with the lower 11 (i.e. <code class="docutils literal notranslate"><span class="pre">CRYPTO_AEAD_MIC_LENGTH_BYTES-5</span></code>) bytes of the MIC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PrivacyNonce</span> <span class="o">=</span> <span class="n">Session</span> <span class="n">ID</span> <span class="o">||</span> <span class="n">MIC</span><span class="p">[</span><span class="mf">5..15</span><span class="p">]</span>
</pre></div>
</div>
<p>For example if Session ID is 42 (i.e. 0x002A) and the computed MIC is c5:a0:06:3a:d5:d2:51:81:91:40:0d:d6:8c:5c:16:3b:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Session</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">00</span><span class="p">:</span><span class="mi">2</span><span class="n">a</span>
<span class="n">MIC</span> <span class="o">=</span> <span class="n">c5</span><span class="p">:</span><span class="n">a0</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">3</span><span class="n">a</span><span class="p">:</span><span class="n">d5</span><span class="p">:</span><span class="n">d2</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">81</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="n">d6</span><span class="p">:</span><span class="mi">8</span><span class="n">c</span><span class="p">:</span><span class="mi">5</span><span class="n">c</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">3</span><span class="n">b</span>
<span class="n">MIC</span><span class="p">[</span><span class="mf">5..15</span><span class="p">]</span> <span class="o">=</span> <span class="n">d2</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">81</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="n">d6</span><span class="p">:</span><span class="mi">8</span><span class="n">c</span><span class="p">:</span><span class="mi">5</span><span class="n">c</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">3</span><span class="n">b</span>
<span class="n">PrivacyNonce</span> <span class="o">=</span> <span class="n">SessionID</span> <span class="o">||</span> <span class="n">MIC</span><span class="p">[</span><span class="mf">5..15</span><span class="p">]</span> <span class="o">=</span> <span class="mi">00</span><span class="p">:</span><span class="mi">2</span><span class="n">a</span> <span class="o">||</span> <span class="n">d2</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">81</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="n">d6</span><span class="p">:</span><span class="mi">8</span><span class="n">c</span><span class="p">:</span><span class="mi">5</span><span class="n">c</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">3</span><span class="n">b</span>
<span class="n">PrivacyNonce</span> <span class="o">=</span> <span class="mi">00</span><span class="p">:</span><span class="mi">2</span><span class="n">a</span><span class="p">:</span><span class="n">d2</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">81</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="n">d6</span><span class="p">:</span><span class="mi">8</span><span class="n">c</span><span class="p">:</span><span class="mi">5</span><span class="n">c</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">3</span><span class="n">b</span>
</pre></div>
</div>
</section>
<section id="privacy-processing-of-outgoing-messages">
<h4>4.8.3. Privacy Processing of Outgoing Messages<a class="headerlink" href="#privacy-processing-of-outgoing-messages" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id80">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/F94ABF14-3A54-4EF4-87C4-6B8DB8CE2264.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/F94ABF14-3A54-4EF4-87C4-6B8DB8CE2264.jpg" />
<figcaption>
<p><span class="caption-text">Figure 10. Matter Message Privacy</span><a class="headerlink" href="#id80" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="privacy-processing-of-incoming-messages">
<h4>4.8.4. Privacy Processing of Incoming Messages<a class="headerlink" href="#privacy-processing-of-incoming-messages" title="此标题的永久链接">¶</a></h4>
</section>
</section>
<section id="message-exchanges">
<h3>4.9. Message Exchanges<a class="headerlink" href="#message-exchanges" title="此标题的永久链接">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>An Exchange provides a way to group related messages together, organize communication flows, and enable higher levels of the communication stack to track semantically relevant groupings of messages.</p>
</div>
<p>The underlying session SHALL be one of the following session types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">secure</span> <span class="n">unicast</span> <span class="p">(</span><span class="k">as</span> <span class="n">established</span> <span class="n">by</span> <span class="n">PASE</span> <span class="ow">or</span> <span class="n">CASE</span><span class="p">)</span>
<span class="mf">2.</span> <span class="n">unsecured</span> <span class="p">(</span><span class="k">as</span> <span class="ow">is</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">session</span> <span class="n">establishment</span> <span class="n">phase</span> <span class="n">of</span> <span class="n">a</span> <span class="n">PASE</span><span class="o">/</span><span class="n">CASE</span> <span class="n">session</span><span class="p">)</span>
<span class="mf">3.</span> <span class="n">secure</span> <span class="n">group</span>
<span class="mf">4.</span> <span class="n">MCSP</span>
</pre></div>
</div>
<section id="exchange-role">
<h4>4.9.1. Exchange Role<a class="headerlink" href="#exchange-role" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The first Node to send a message in an Exchange is said to be in the <code class="docutils literal notranslate"><span class="pre">Initiator</span> <span class="pre">role</span></code></p></li>
<li><p>All the other Nodes that subsequently participate in the Exchange are said to be in a <code class="docutils literal notranslate"><span class="pre">Responder</span> <span class="pre">role</span></code>.</p></li>
</ul>
</section>
<section id="exchange-id">
<h4>4.9.2. Exchange ID<a class="headerlink" href="#exchange-id" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Exchange ID field described in <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">4.4.3.3,</span> <span class="pre">“Exchange</span> <span class="pre">ID</span> <span class="pre">(16</span> <span class="pre">bits)”</span></code>.</p></li>
<li><p>The Exchange ID is allocated by the Initiator.</p></li>
<li><p>The Exchange is identified by the tuple <code class="docutils literal notranslate"><span class="pre">{Session</span> <span class="pre">Context,</span> <span class="pre">Exchange</span> <span class="pre">ID,</span> <span class="pre">Exchange</span> <span class="pre">Role}</span></code> where Session Context is one of an <code class="docutils literal notranslate"><span class="pre">Unsecured,</span> <span class="pre">Secured,</span> <span class="pre">Groupcast</span> <span class="pre">or</span> <span class="pre">MCSP</span></code> session context.</p></li>
</ul>
</section>
<section id="exchange-context">
<h4>4.9.3. Exchange Context<a class="headerlink" href="#exchange-context" title="此标题的永久链接">¶</a></h4>
<ul>
<li><p>An Exchange context is the metadata tracked for an Exchange by all exchange participants.</p></li>
<li><p>An Exchange context tracks the following data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Exchange</span> <span class="n">ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">Exchange</span> <span class="n">ID</span> <span class="n">assigned</span> <span class="n">by</span> <span class="n">the</span> <span class="n">Initiator</span>
<span class="mf">2.</span> <span class="n">Exchange</span> <span class="n">Role</span><span class="p">:</span> <span class="n">Initiator</span> <span class="ow">or</span> <span class="n">Responder</span>
<span class="mf">3.</span> <span class="n">Session</span> <span class="n">Context</span><span class="p">:</span> <span class="n">The</span> <span class="n">underlying</span> <span class="n">Unsecured</span><span class="p">,</span> <span class="n">Secured</span><span class="p">,</span> <span class="n">Groupcast</span> <span class="ow">or</span> <span class="n">MCSP</span> <span class="n">session</span> <span class="n">context</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="exchange-message-dispatch">
<h4>4.9.4. Exchange Message Dispatch<a class="headerlink" href="#exchange-message-dispatch" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>For the case of a first message, the Initiator creates a new Exchange.</p></li>
<li><p>The Node in the Initiator role SHALL always set the I Flag in the Exchange Flags of every message it sends in that Exchange.</p></li>
<li><p>Each Node in a Responder role SHALL use the Exchange ID received in previous messages.</p></li>
<li><p>Each Node in the Responder role SHALL NOT set the I Flag.</p></li>
<li><p>Each Node in a Responder role SHALL only set the Destination Node ID field to a value that identifies the Node in the Initiator role.</p></li>
</ul>
</section>
<section id="exchange-message-processing">
<h4>4.9.5. Exchange Message Processing<a class="headerlink" href="#exchange-message-processing" title="此标题的永久链接">¶</a></h4>
<section id="exchange-message-matching">
<h5>4.9.5.1. Exchange Message Matching<a class="headerlink" href="#exchange-message-matching" title="此标题的永久链接">¶</a></h5>
<p>A given message is part of an Exchange if it satisfies all the following criteria:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">The</span> <span class="n">message</span> <span class="n">was</span> <span class="n">received</span> <span class="n">over</span> <span class="n">the</span> <span class="n">session</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Exchange</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">The</span> <span class="n">Exchange</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">message</span> <span class="n">matches</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Exchange</span><span class="p">,</span>
<span class="mf">3.</span> <span class="n">The</span> <span class="n">message</span> <span class="n">has</span> <span class="n">the</span> <span class="n">I</span> <span class="n">Flag</span> <span class="nb">set</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">Role</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="ow">is</span> <span class="n">Responder</span><span class="p">,</span>
<span class="n">OR</span> <span class="n">the</span> <span class="n">message</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">have</span> <span class="n">the</span> <span class="n">I</span> <span class="n">Flag</span> <span class="nb">set</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">Role</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="ow">is</span> <span class="n">Initiator</span><span class="o">.</span>
</pre></div>
</div>
<p>If the message does not match an existing Exchange, the message is considered an unsolicited message.</p>
</section>
<section id="unsolicited-message-processing">
<h5>4.9.5.2. Unsolicited Message Processing<a class="headerlink" href="#unsolicited-message-processing" title="此标题的永久链接">¶</a></h5>
<p>An unsolicited message is processed as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. If the unsolicited message is not marked as having a duplicate message counter,
    has a registered Protocol ID, and the I Flag is set:
    a. Create a new exchange from the incoming message.
    b. The new exchange will be used by the upper layer for
        generating responses and subsequent processing of the message.
2. Otherwise, if the message has the R Flag set:
    a. Create an ephemeral exchange from the incoming message
        and send an immediate standalone acknowledgement.
    b. The message SHALL NOT be forwarded to the upper layer,
        and excluding the sending of an immediate standalone acknowledgment, SHALL be ignored.
    c. The ephemeral exchange created for such duplicate or unknown messages
        with R Flag set is automatically closed in Section 4.11.5.2.2, “Standalone acknowledgement processing”.
3. Otherwise, processing of the message SHALL stop.
</pre></div>
</div>
<p>Creating an Exchange based on an Incoming Message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span> <span class="n">The</span> <span class="n">Exchange</span> <span class="n">ID</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span>
<span class="n">b</span><span class="o">.</span> <span class="n">The</span> <span class="n">Exchange</span> <span class="n">Role</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">the</span> <span class="n">inverse</span> <span class="n">of</span> <span class="n">the</span> <span class="n">incoming</span> <span class="n">message</span> <span class="n">I</span> <span class="n">Flag</span>
<span class="n">c</span><span class="o">.</span> <span class="n">The</span> <span class="n">Session</span> <span class="n">Context</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Session</span> <span class="n">on</span> <span class="n">which</span> <span class="n">the</span> <span class="n">message</span> <span class="n">was</span> <span class="n">received</span><span class="o">.</span>
</pre></div>
</div>
<p>A node SHOULD limit itself to a maximum of 5 concurrent exchanges over a unicast session. This is to prevent a node from exhausting the message counter window of the peer node.</p>
</section>
<section id="closing-an-exchange">
<h5>4.9.5.3. Closing an Exchange<a class="headerlink" href="#closing-an-exchange" title="此标题的永久链接">¶</a></h5>
<p>An Exchange MAY be closed by the application layer or a fatal connection error from the lower message layer.</p>
<p>The process of closing an Exchange follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Any</span> <span class="n">pending</span> <span class="n">acknowledgements</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="n">flushed</span><span class="o">.</span>
    <span class="n">If</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">pending</span> <span class="n">acknowledgment</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">acknowledgement</span> <span class="n">table</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Exchange</span>
        <span class="ow">and</span> <span class="n">it</span> <span class="n">has</span> <span class="n">StandaloneAckSent</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">false</span><span class="p">:</span>
        <span class="n">a</span><span class="o">.</span> <span class="n">Immediately</span> <span class="n">send</span> <span class="n">a</span> <span class="n">standalone</span> <span class="n">acknowledgement</span> <span class="k">for</span> <span class="n">the</span> <span class="n">pending</span> <span class="n">acknowledgement</span><span class="o">.</span>
        <span class="n">b</span><span class="o">.</span> <span class="n">Remove</span> <span class="n">the</span> <span class="n">acknowledgement</span> <span class="n">table</span> <span class="n">entry</span> <span class="k">for</span> <span class="n">the</span> <span class="n">pending</span> <span class="n">acknowledgement</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Wait</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">pending</span> <span class="n">retransmissions</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="n">to</span> <span class="n">complete</span><span class="o">.</span>
    <span class="n">a</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">retransmission</span> <span class="nb">list</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="ow">is</span> <span class="n">empty</span><span class="p">,</span> <span class="n">remove</span> <span class="n">the</span> <span class="n">Exchange</span><span class="o">.</span>
    <span class="n">b</span><span class="o">.</span> <span class="n">Otherwise</span><span class="p">,</span> <span class="n">leave</span> <span class="n">the</span> <span class="n">Exchange</span> <span class="nb">open</span> <span class="ow">and</span> <span class="n">only</span> <span class="n">close</span> <span class="n">it</span>
        <span class="n">once</span> <span class="n">the</span> <span class="n">retransmission</span> <span class="nb">list</span> <span class="ow">is</span> <span class="n">empty</span><span class="o">.</span>
</pre></div>
</div>
<figure class="align-default" id="id81">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/E9262E25-7B8B-42F6-AE4C-4765C9B7BDE6.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/E9262E25-7B8B-42F6-AE4C-4765C9B7BDE6.jpg" />
<figcaption>
<p><span class="caption-text">Figure 11. Exchange close flow</span><a class="headerlink" href="#id81" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="secure-channel-protocol">
<h3>4.10. Secure Channel Protocol<a class="headerlink" href="#secure-channel-protocol" title="此标题的永久链接">¶</a></h3>
<p>Secure Channel Protocol defines the control plane for secure channel communication and security.</p>
<section id="secure-channel-protocol-messages">
<h4>4.10.1. Secure Channel Protocol Messages<a class="headerlink" href="#secure-channel-protocol-messages" title="此标题的永久链接">¶</a></h4>
<p>Secure Channel Protocol is composed of a collection of sub-protocols, including:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Message Counter Synchronization Protocol (MCSP)
• Message Reliability Protocol (MRP)
• Passcode Based Session Establishment (PASE)
• Certificate Based Session Establishment (CASE)
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Protocol Opcode</p></th>
<th class="head"><p>Protocol Command Name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x00</p></td>
<td><p>MsgCounterSyncReq</p></td>
</tr>
<tr class="row-odd"><td><p>0x01</p></td>
<td><p>MsgCounterSyncRsp</p></td>
</tr>
<tr class="row-even"><td><p>0x10</p></td>
<td><p>MRP Standalone Acknowledgement</p></td>
</tr>
<tr class="row-odd"><td><p>0x20</p></td>
<td><p>PBKDFParamRequest</p></td>
</tr>
<tr class="row-even"><td><p>0x21</p></td>
<td><p>PBKDFParamResponse</p></td>
</tr>
<tr class="row-odd"><td><p>0x22</p></td>
<td><p>PASE Pake1</p></td>
</tr>
<tr class="row-even"><td><p>0x23</p></td>
<td><p>PASE Pake2</p></td>
</tr>
<tr class="row-odd"><td><p>0x24</p></td>
<td><p>PASE Pake3</p></td>
</tr>
<tr class="row-even"><td><p>0x30</p></td>
<td><p>CASE Sigma1</p></td>
</tr>
<tr class="row-odd"><td><p>0x31</p></td>
<td><p>CASE Sigma2</p></td>
</tr>
<tr class="row-even"><td><p>0x32</p></td>
<td><p>CASE Sigma3</p></td>
</tr>
<tr class="row-odd"><td><p>0x33</p></td>
<td><p>CASE Sigma2_Resume</p></td>
</tr>
<tr class="row-even"><td><p>0x40</p></td>
<td><p>StatusReport</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id82">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/26GubQ.png" src="https://img.zhaoweiguo.com/uPic/2022/11/26GubQ.png" />
<figcaption>
<p><span class="caption-text">Table 17. Secure Channel Protocol Opcodes</span><a class="headerlink" href="#id82" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id83">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/h6FnK1.png" src="https://img.zhaoweiguo.com/uPic/2022/11/h6FnK1.png" />
<figcaption>
<p><span class="caption-text">Table 18. Secure Channel Protocol Codes</span><a class="headerlink" href="#id83" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="parameters-and-constants">
<h4>4.10.2. Parameters and Constants<a class="headerlink" href="#parameters-and-constants" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id84">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/mWeSih.png" src="https://img.zhaoweiguo.com/uPic/2022/11/mWeSih.png" />
<figcaption>
<p><span class="caption-text">Table 19. Glossary of constants(MSG_COUNTER_WINDOW_SIZE, MSG_COUNTER_SYNC_REQ_JITTER, MSG_COUNTER_SYNC_TIMEOUT)</span><a class="headerlink" href="#id84" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="message-reliability-protocol-mrp">
<h3>4.11. Message Reliability Protocol (MRP)<a class="headerlink" href="#message-reliability-protocol-mrp" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The protocol is optimized for constrained devices that may not be able to receive a message at the point it is due to be delivered to them.</p></li>
<li><p>Flow control mechanisms are not incorporated in MRP because it is intended to be used for short interactions with small numbers of messages in them.</p></li>
</ul>
<section id="reliable-messaging-header-fields">
<h4>4.11.1. Reliable Messaging Header Fields<a class="headerlink" href="#reliable-messaging-header-fields" title="此标题的永久链接">¶</a></h4>
<p>The following fields are defined in the Exchange Flags for use exclusively by MRP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• R Flag
• A Flag
• Acknowledged Message Counter
</pre></div>
</div>
</section>
<section id="reliable-transfer">
<h4>4.11.2. Reliable transfer<a class="headerlink" href="#reliable-transfer" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>When the reliability bit is set, the reliable message is transmitted at most <code class="docutils literal notranslate"><span class="pre">MRP_MAX_TRANSMISSIONS</span></code> times until an acknowledgement of receipt is received from the peer or a timeout.</p></li>
</ul>
<section id="retransmissions">
<h5>4.11.2.1. Retransmissions<a class="headerlink" href="#retransmissions" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Senders provide an automatic retransmission mechanism for reliable messages.</p></li>
<li><p>the sender SHALL trigger the automatic retry mechanism after a period of <code class="docutils literal notranslate"><span class="pre">mrpBackoffTime</span></code> milliseconds without receiving an acknowledgement</p></li>
</ul>
<p>the duration of the retransmission timer SHALL be calculated as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&quot;mrpBackoffTime&quot; = i * &quot;MRP_BACKOFF_BASE&quot;^(max(0,n-&quot;MRP_BACKOFF_THRESHOLD&quot;))
    * (1.0 + &quot;random&quot;(0,1) * &quot;MRP_BACKOFF_JITTER&quot;)

mrpBackoffTime: the resultant retransmission timeout for this transmission
n: the number of send attempts before the current one for this message (0 if this is the initial transmission)
i: the base retry interval for the Exchange (either IDLE or ACTIVE)
    • If PeerActiveMode in the Session Context is true:
        ◦ i = SLEEPY_ACTIVE_INTERVAL of the peer
    • Else the peer is in idle mode:
        ◦ i = SLEEPY_IDLE_INTERVAL of the peer
</pre></div>
</div>
</section>
<section id="acknowledgements">
<h5>4.11.2.2. Acknowledgements<a class="headerlink" href="#acknowledgements" title="此标题的永久链接">¶</a></h5>
</section>
</section>
<section id="peer-exchange-management">
<h4>4.11.3. Peer Exchange Management<a class="headerlink" href="#peer-exchange-management" title="此标题的永久链接">¶</a></h4>
<p>The Reliable Messaging Protocol operates within the scope of an Exchange between two Nodes. MRP SHALL support one pending acknowledgement and one pending retransmission per Exchange.</p>
</section>
<section id="transport-considerations">
<h4>4.11.4. Transport Considerations<a class="headerlink" href="#transport-considerations" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>When the upper layer requests a reliable message over a UDP transport, the R Flag SHALL be set on that message indicating that MRP SHALL be used.</p></li>
<li><p>Reliable messages sent over TCP or BTP SHALL utilize the underlying reliability mechanisms of those transports and SHOULD NOT set the R Flag.</p></li>
</ul>
</section>
<section id="reliable-message-processing">
<h4>4.11.5. Reliable Message Processing<a class="headerlink" href="#reliable-message-processing" title="此标题的永久链接">¶</a></h4>
<section id="reliable-message-processing-of-outgoing-messages">
<h5>4.11.5.1. Reliable Message Processing of Outgoing Messages<a class="headerlink" href="#reliable-message-processing-of-outgoing-messages" title="此标题的永久链接">¶</a></h5>
<p>Piggyback acknowledgment processing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Determine if there is a matching pending acknowledgement in the ``acknowledgement table``
    for the given message by checking all of the following conditions:
    Between given message and pending acknowledgement
    a. Destination Node Id and Exchange Id are the same
    b. AND either
        i. the Session Id and underlying Session Credentials are the same
        OR
        ii. both are of Unsecured Session Type.

2. If there is a matching pending acknowledgement,
    the A Flag SHALL be set on the outbound message so it will serve as a piggybacked acknowledgement.
    a. the Acknowledgment Message Counter field SHALL be set to
        the message counter of the received message for which an acknowledgement was pending.
    b. If the message being prepared is not a standalone acknowledgement,
        remove the matching entry from the acknowledgement table.
    c. If the message being prepared is a standalone acknowledgement,
        set the StandaloneAckSent field of the matching entry in the acknowledgement table to true.
</pre></div>
</div>
<p>Message retransmission processing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. If the outbound message is marked to be delivered reliably over a UDP transport,
    the R Flag SHALL be set on the given message to request an acknowledgement from the peer upon receipt.
2. Perform Section 4.6.1, “Message Transmission” processing step on the message to send the message to the peer:
3. If the transport interface returns an error on the send attempt,
    the error is assessed to determine whether the message can be retried.
</pre></div>
</div>
<figure class="align-default" id="id85">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/B8AD8DDF-30FB-4604-8101-626D941A1ABA.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/B8AD8DDF-30FB-4604-8101-626D941A1ABA.jpg" />
<figcaption>
<p><span class="caption-text">Figure 12. MRP send flow</span><a class="headerlink" href="#id85" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="reliable-message-processing-of-incoming-messages">
<h5>4.11.5.2. Reliable Message Processing of Incoming Messages<a class="headerlink" href="#reliable-message-processing-of-incoming-messages" title="此标题的永久链接">¶</a></h5>
<p>A message received from <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">4.6.2,</span> <span class="pre">“Message</span> <span class="pre">Reception”</span></code> for reliability processing SHALL be processed as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Verify the message has a legal combination of reliability flags:
    a. Ifthe R Flag is set:
        i. If Group Session Type AND C Flag = 0, drop the message.
    b. If the A Flag is set:
        i. If Group Session Type AND C Flag = 0, drop the message.
2. Proceed to Section 4.9.5.1, “Exchange Message Matching”.
3. Proceed to Section 4.11.5.2.1, “Received acknowledgement processing”.
</pre></div>
</div>
<p>Received acknowledgement processing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. If the A Flag is set:
    a. Query the ``retransmission table`` for the Acknowledgement Message Counter contained in the received message.
        i. If there is a match:
            A. Remove the entry from the retransmission table.
            B. Stop the retransmission timer for that entry.
        ii. If there is no match, it indicates that this is either a duplicate acknowledgment
            or the Exchange context does not exist.
</pre></div>
</div>
<p>Standalone acknowledgement processing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. If the R Flag is set, the received message is requesting an acknowledgement be sent back:
    ...
2. The received message is then delivered to the next processing step of Section 4.6.2, “Message Reception”.
</pre></div>
</div>
<figure class="align-default" id="id86">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/0F4CDD73-33AB-4F9E-AF6D-70BDCAAFAC91.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/0F4CDD73-33AB-4F9E-AF6D-70BDCAAFAC91.jpg" />
<figcaption>
<p><span class="caption-text">Figure 13. MRP receive flow</span><a class="headerlink" href="#id86" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="reliable-message-state">
<h4>4.11.6. Reliable Message State<a class="headerlink" href="#reliable-message-state" title="此标题的永久链接">¶</a></h4>
<section id="retransmission-table">
<h5>4.11.6.1. Retransmission Table<a class="headerlink" href="#retransmission-table" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The sender maintains</p></li>
<li><p>context records containing information on all reliable messages sent that have acknowledgments still pending.</p></li>
</ul>
<p>Each such reliable message context record includes the following fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Reference to Exchange Context
• Message Counter
• Reference to fully formed, encoded and encrypted message buffer
• Send count
• Retransmission timeout counter
</pre></div>
</div>
<ul class="simple">
<li><p>The message is sent a configurable maximum number of times (MRP_MAX_TRANSMISSIONS) and, if still undelivered, the application is notified of the failure.</p></li>
</ul>
</section>
<section id="acknowledgement-table">
<h5>4.11.6.2. Acknowledgement Table<a class="headerlink" href="#acknowledgement-table" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The receiver maintains</p></li>
<li><p>context records containing information on all reliable messages sent that have acknowledgments still pending.</p></li>
</ul>
<p>Each such reliable message context record includes the following fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Reference to Exchange Context
• Message Counter
• A boolean, StandaloneAckSent
    indicating whether a standalone acknowledgement has been sent for this message counter.
    Initially false.
</pre></div>
</div>
<p>An entry SHALL remain in the table until one of the following things happens:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The exchange associated with the entry is closed. See Section 4.9.5.3, “Closing an Exchange”.
2. The exchange associated with the entry has switched to track a pending acknowledgement for a new message counter value.
    See Section 4.11.5.2.2, “Standalone acknowledgement processing”.
3. A message that is not a standalone acknowledgement is sent which serves as an acknowledgement for the entry.
    See Section 4.11.5.1.1, “Piggyback acknowledgment processing”.
</pre></div>
</div>
</section>
</section>
<section id="mrp-messages">
<h4>4.11.7. MRP Messages<a class="headerlink" href="#mrp-messages" title="此标题的永久链接">¶</a></h4>
<p>The MRP Standalone Acknowledgement message SHALL be formed as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• The application payload SHALL be empty.
• The A Flag SHALL be set to 1.
• The Acknowledged Message Counter SHALL be included in the header.
• The Protocol ID SHALL be set to PROTOCOL_ID_SECURE_CHANNEL.
• The Protocol Opcode SHALL be set to MRP Standalone Acknowledgement.
</pre></div>
</div>
</section>
<section id="id2">
<h4>4.11.8. Parameters and Constants<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter Name</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MRP_MAX_TRANSMISSIONS</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>MRP_BACKOFF_BASE</p></td>
<td><p>1.6</p></td>
</tr>
<tr class="row-even"><td><p>MRP_BACKOFF_JITTER</p></td>
<td><p>0.25</p></td>
</tr>
<tr class="row-odd"><td><p>MRP_BACKOFF_MARGIN</p></td>
<td><p>1.1</p></td>
</tr>
<tr class="row-even"><td><p>MRP_BACKOFF_THRESHOLD</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>MRP_STANDALONE_ACK_TIMEOUT</p></td>
<td><p>200 milliseconds</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id87">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/dL2AaP.png" src="https://img.zhaoweiguo.com/uPic/2022/11/dL2AaP.png" />
<figcaption>
<p><span class="caption-text">Table 21. Glossary of parameters</span><a class="headerlink" href="#id87" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="unicast-communication">
<h3>4.12. Unicast Communication<a class="headerlink" href="#unicast-communication" title="此标题的永久链接">¶</a></h3>
<p>Unicast sessions exist in one of two phases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Session</span> <span class="n">Establishment</span> <span class="n">Phase</span><span class="p">:</span>
    <span class="n">A</span> <span class="n">series</span> <span class="n">of</span> <span class="n">well</span><span class="o">-</span><span class="n">defined</span> <span class="n">unencrypted</span> <span class="n">messages</span> <span class="n">that</span> <span class="n">aim</span> <span class="n">to</span> <span class="n">establish</span> <span class="n">a</span> <span class="n">shared</span> <span class="n">key</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Application</span> <span class="n">Data</span> <span class="n">Phase</span><span class="p">:</span>
    <span class="n">A</span> <span class="n">series</span> <span class="n">of</span> <span class="n">ad</span><span class="o">-</span><span class="n">hoc</span> <span class="n">encrypted</span> <span class="n">messages</span> <span class="n">exchanging</span> <span class="n">interaction</span> <span class="n">model</span> <span class="n">protocol</span> <span class="n">actions</span><span class="p">,</span>
    <span class="n">application</span> <span class="n">data</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span>
</pre></div>
</div>
<section id="session-establishment-phase">
<h4>4.12.1. Session Establishment Phase<a class="headerlink" href="#session-establishment-phase" title="此标题的永久链接">¶</a></h4>
<ul>
<li><p>Session establishment uses either the CASE or PASE protocol.</p></li>
<li><p>CASE SHALL be used as a session establishment mechanism for all sessions except: Communication for the purpose of commissioning when NOC has not yet been installed</p></li>
<li><p>PASE SHALL only be used for session establishment mechanism during device commissioning.</p></li>
<li><p>BTP MAY be used as the transport for device commissioning.</p></li>
<li><p>Unless otherwise specified, these SHALL be the only allowed unencrypted messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">CASE</span>
<span class="mf">2.</span> <span class="n">PASE</span>
<span class="mf">3.</span> <span class="n">User</span><span class="o">-</span><span class="n">Directed</span> <span class="n">Commissioning</span> <span class="n">protocol</span>
<span class="mf">4.</span> <span class="n">Secure</span> <span class="n">Channel</span> <span class="n">Status</span> <span class="n">Report</span> <span class="n">messages</span>
</pre></div>
</div>
</li>
</ul>
<p>This phase aims to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Authenticate</span> <span class="n">peers</span> <span class="p">(</span><span class="n">CASE</span><span class="o">-</span><span class="n">based</span> <span class="n">sessions</span> <span class="n">only</span><span class="p">)</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Derive</span> <span class="n">shared</span> <span class="n">secrets</span> <span class="n">to</span> <span class="n">encrypt</span> <span class="n">subsequent</span> <span class="n">session</span> <span class="n">data</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">Choose</span> <span class="n">session</span> <span class="n">identifiers</span> <span class="n">to</span> <span class="n">identify</span> <span class="n">the</span> <span class="n">subsequent</span> <span class="n">session</span><span class="o">.</span>
</pre></div>
</div>
<section id="unsecured-session-context">
<h5>4.12.1.1. Unsecured Session Context<a class="headerlink" href="#unsecured-session-context" title="此标题的永久链接">¶</a></h5>
<p>The following session context data SHALL be utilized to associate messages to a particular peer and recover context during unencrypted sessions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Session Role:
    Records whether the node is the session `initiator` or `responder`.
2. Ephemeral Initiator Node ID:
    Randomly,
        selected for each session by the initiator from the `Operational Node ID range`,
        and
        enclosed by initiator as Source Node ID and responder as Destination Node ID.
            Initiators SHALL select a new random ephemeral node ID for each unsecured session,
                and SHALL not conflict with any other ephemeral node IDs
3. Message Reception State:
    Provides tracking for the Unencrypted Message Counter of the remote peer.
</pre></div>
</div>
<p>Matching and responder creation of Unsecured Session Contexts SHALL be as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Given an incoming unencrypted message
    a. Locate any Unsecured Session Context with matching `Ephemeral Initiator Node ID`
        i. If any is located, the incoming message
            SHALL be assumed to be associated with this Unsecured Session Context
    b. Else if the message carries a Source Node ID
        i. Create a new Unsecured Session Context
        ii. Set Session Role to `responder`
        iii. Record the incoming message’s Source Node ID as `Ephemeral Initiator Node ID`
    c. Else discard the message
</pre></div>
</div>
<p>Initiator creation of Unsecured Session Contexts SHALL be as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Given the first outgoing message of an unencrypted exchange
    a. Create a new Unsecured Session Context
    b. Set Session Role to `initiator`
    c. Randomly select a node ID from the `Operational Node ID range` that does not collide with
        any ephemeral node IDs for any other ongoing unsecured sessions opened by the initiator
        and record this as `Ephemeral Initiator Node ID`
</pre></div>
</div>
</section>
<section id="session-establishment-over-ip">
<h5>4.12.1.2. Session Establishment over IP<a class="headerlink" href="#session-establishment-over-ip" title="此标题的永久链接">¶</a></h5>
<ul>
<li><p>When establishing a session over IP, the initiator SHALL use TCP when both of the following are true:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">The</span> <span class="n">initiator</span> <span class="n">supports</span> <span class="n">TCP</span>
<span class="mf">2.</span> <span class="n">The</span> <span class="n">responder</span> <span class="n">supports</span> <span class="n">TCP</span> <span class="k">as</span> <span class="n">indicated</span> <span class="n">by</span> <span class="n">the</span> <span class="n">T</span> <span class="n">flag</span>
</pre></div>
</div>
</li>
<li><p>If one or both nodes do not support TCP, the initiator SHALL use MRP to establish the session.</p></li>
</ul>
</section>
<section id="shared-secrets">
<h5>4.12.1.3. Shared Secrets<a class="headerlink" href="#shared-secrets" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Both CASE and PASE produce two shared keys: I2RKey and R2IKey.</p></li>
<li><p>I2RKey: Initiator to Responder Key</p></li>
<li><p>R2IKey: Responder to Initiator Key</p></li>
</ul>
</section>
<section id="choosing-secure-unicast-session-identifiers">
<h5>4.12.1.4. Choosing Secure Unicast Session Identifiers<a class="headerlink" href="#choosing-secure-unicast-session-identifiers" title="此标题的永久链接">¶</a></h5>
<p>Both CASE and PASE allow each participant the ability to choose a unicast session identifier for the subsequent encrypted session. The session identifier SHALL be used to look up the relevant encryption keys and any other metadata for a particular session.</p>
</section>
</section>
<section id="application-data-phase">
<h4>4.12.2. Application Data Phase<a class="headerlink" href="#application-data-phase" title="此标题的永久链接">¶</a></h4>
<p>When the last CASE or PASE protocol message is sent or received and successfully processed, session establishment has completed.</p>
<section id="secure-session-context">
<h5>4.12.2.1. Secure Session Context<a class="headerlink" href="#secure-session-context" title="此标题的永久链接">¶</a></h5>
<p>the following conceptual session context data SHALL be utilized to securely process subsequent messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Session Type:
    Records whether the session was established using `CASE` or `PASE`.
2. Session Role:
    Records whether the node is the session `initiator` or `responder`.
3. Local Session Identifier:
    ◦ On a given Node, this is the identifier that SHALL be used to map
        from an incoming message’s Session ID field to the session context data.
4. Peer Session Identifier:
    ◦ On a given Node, this is the identifier that SHALL be used in the Session ID field of every outgoing message associated with the session,
        so that it can be interpreted as the Local Session Identifier by the remote peer.
5. I2RKey:
    Encrypts data in messages sent from the initiator of session establishment to the responder.
6. R2IKey:
    Encrypts data in messages sent from the session establishment responder to the initiator.
7. SharedSecret:
    Computed during the CASE protocol execution and re-used when CASE session resumption is implemented.
8. Local Message Counter:
    Secure Session Message Counter for outbound messages.
    ◦ At successful session establishment, it SHALL be initialized per `Section 4.5.1.1, “Message Counter Initialization”`.
9. Message Reception State:
    Provides tracking for the Secure Session Message Counter of the remote peer.
0. Local Fabric Index:
    Records the local Index for the session’s Fabric
1. Peer Node ID:
    Records the authenticated node ID of the remote peer, when available.
2. Resumption ID:
    The ID used when resuming a session between the local and remote peer.
3. SessionTimestamp:
    A timestamp indicating the time at which the last message was sent or received.
4. ActiveTimestamp:
    A timestamp indicating the time at which the last message was received.
</pre></div>
</div>
<p>The following sleepy parameters (see Table 5, “Glossary of parameters”):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>a. SLEEPY_IDLE_INTERVAL
b. SLEEPY_ACTIVE_INTERVAL
c. PeerActiveMode:
    A boolean that tracks whether the peer node is in Active or Idle mode as defined in Section 2.9, “Sleepy End Device (SED)”.

PeerActiveMode is set as follows:
    PeerActiveMode = (now() - ActiveTimestamp) &lt; &quot;SLEEPY_ACTIVE_THRESHOLD&quot;
</pre></div>
</div>
</section>
</section>
</section>
<section id="session-establishment">
<h3>4.13. Session Establishment<a class="headerlink" href="#session-establishment" title="此标题的永久链接">¶</a></h3>
<section id="passcode-authenticated-session-establishment-pase">
<h4>4.13.1. Passcode-Authenticated Session Establishment (PASE)<a class="headerlink" href="#passcode-authenticated-session-establishment-pase" title="此标题的永久链接">¶</a></h4>
<p>This section describes session establishment using a <code class="docutils literal notranslate"><span class="pre">shared</span> <span class="pre">passcode</span></code> together with an <code class="docutils literal notranslate"><span class="pre">augmented</span> <span class="pre">Password-Authenticated</span> <span class="pre">Key</span> <span class="pre">Exchange</span> <span class="pre">(PAKE)</span></code>, in which only one party knows the passcode beforehand, to generate shared keys. This protocol is only used when commissioning a Node</p>
<section id="protocol-overview">
<h5>4.13.1.1. Protocol Overview<a class="headerlink" href="#protocol-overview" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The Passcode-Authenticated Session Establishment (PASE) protocol aims to establish the first session between a Commissioner and a Commissionee using a known passcode provided out-of-band.</p></li>
</ul>
<figure class="align-default" id="id88">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/B588FC49-704D-44A0-98E4-A893DA10E81D.png" src="https://img.zhaoweiguo.com/uPic/2022/11/B588FC49-704D-44A0-98E4-A893DA10E81D.png" />
<figcaption>
<p><span class="caption-text">Figure 14. Overview of the PASE Protocol: The Commissioner is the Initiator and the Commissionee is the Responder.</span><a class="headerlink" href="#id88" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="protocol-details">
<h5>4.13.1.2. Protocol Details<a class="headerlink" href="#protocol-details" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Table 22. PASE Messages</p></li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Message Name</p></th>
<th class="head"><p>Payload TLV Encoding</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PBKDFParamRequest</p></td>
<td><p>pbkdfparamreq-struct</p></td>
</tr>
<tr class="row-odd"><td><p>PBKDFParamResponse</p></td>
<td><p>pbkdfparamresp-struct</p></td>
</tr>
<tr class="row-even"><td><p>Pake1</p></td>
<td><p>pake-1-struct</p></td>
</tr>
<tr class="row-odd"><td><p>Pake2</p></td>
<td><p>pake-2-struct</p></td>
</tr>
<tr class="row-even"><td><p>Pake3</p></td>
<td><p>pake-3-struct</p></td>
</tr>
<tr class="row-odd"><td><p>PakeFinished</p></td>
<td><p>N/A (encoded via StatusReport)</p></td>
</tr>
</tbody>
</table>
<p>PBKDFParamRequest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pbkdfparamreq-struct =&gt; STRUCTURE [ tag-order ]
{
    initiatorRandom    [1] : OCTET STRING [ length 32 ],
    initiatorSessionId [2] : UNSIGNED INTEGER [ range 16-bits ],
    passcodeId         [3] : UNSIGNED INTEGER [ length 16-bits ],
    hasPBKDFParameters [4] : BOOLEAN,
    initiatorSEDParams [5, optional] : sed-parameter-struct
}

1. SHALL generate a random number `InitiatorRandom = Crypto_DRBG(len = 32 \* 8)`.
2. SHALL generate a InitiatorSessionId for subsequent identification of this session.
3. SHALL choose a PasscodeId corresponding to a particular PAKE passcode verifier installed on the responder.
    A value of 0 is the default
4. SHALL indicate whether the PBKDF parameters (salt and iterations) are known
    for the particular passcodeId (for example from the QR code) by setting HasPBKDFParameters.
5. SHALL send a message with the appropriate Protocol Id and Protocol Opcode
</pre></div>
</div>
<p>PBKDFParamResponse:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pbkdfparamresp-struct =&gt; STRUCTURE [ tag-order ]
  {
    initiatorRandom    [1] : OCTET STRING [ length 32 ],
    responderRandom    [2] : OCTET STRING [ length 32 ],
    responderSessionId [3] : UNSIGNED INTEGER [ range 16-bits ],
    pbkdf_parameters   [4] : Crypto_PBKDFParameterSet,
    responderSEDParams [5, optional] : sed-parameter-struct
}

1. Verify passcodeID is set to 0.
2. Generate a random number `ResponderRandom = Crypto_DRBG(len = 32 \* 8)`.
3. Generate a ResponderSessionId for subsequent identification of this session.
4. Set the Peer Session Identifier in the Session Context
    to the value `PBKDFParamRequest.initiatorSessionId`.
5. Construct the appropriate `Crypto_PBKDFParameterSet` (PBKDFParameters).
6. Send a message with the appropriate Protocol Id and Protocol Opcode
</pre></div>
</div>
<p>Pake1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pake-1-struct =&gt; STRUCTURE [ tag-order ]
{
    pA [1] : OCTET STRING [ length CRYPTO_PUBLIC_KEY_SIZE_BYTES ],
}

1. Set Peer SessionID in the Session Context to the value `PBKDFParamResponse.responderSessionId`
2. Generate the `Crypto_PAKEValues_Initiator` according to the `PBKDFParamResponse.pbkdf_parameters`
3. Using `Crypto_PAKEValues_Initiator`, generate `pA := Crypto_pA(Crypto_PAKEValues_Initiator)`
4. Send a message with the appropriate Protocol Id and Protocol Opcode
</pre></div>
</div>
<p>Pake2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pake-2-struct =&gt; STRUCTURE [ tag-order ]
{
    pB [1] : OCTET STRING [ length CRYPTO_PUBLIC_KEY_SIZE_BYTES ],
    cB [2] : OCTET STRING [ length CRYPTO_HASH_LEN_BYTES],
}

1. Compute `pB := Crypto_pB(Crypto_PAKEValues_Responder)` using the passcode verifier indicated in `PBKDFParamRequest`
2. Compute `TT := Crypto_Transcript(PBKDFParamRequest, PBKDFParamResponse, Pake1.pA, pB)`
3. Compute `(cA, cB, Ke) := Crypto_P2(TT, Pake1.pA, pB)`
4. Send a message with the appropriate Protocol Id and Protocol Opcode
</pre></div>
</div>
<p>Pake3:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pake-3-struct =&gt; STRUCTURE [ tag-order ]
{
    cA [1] : OCTET STRING [length CRYPTO_HASH_LEN_BYTES],
}

1. Compute `TT := Crypto_Transcript(PBKDFParamRequest, PBKDFParamResponse, Pake1.pA, Pake2.pB)`
2. Compute `(cA, cB, Ke) := Crypto_P2(TT, Pake1.pA, Pake2.pB)`
3. Verify `Pake2.cB` against `cB`
4. Send a message with the appropriate Protocol Id and Protocol Opcode
</pre></div>
</div>
<p>PakeFinished:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Verify `Pake3.cA` against `cA`.
2. responder SHALL set SessionTimestamp to a timestamp from a clock which would
    allow for the eventual determination of the last session use relative to other sessions.
3. The responder SHALL encode and send PakeFinished.


The initiator SHALL set SessionTimestamp to a timestamp from a clock which would
    allow for the eventual determination of the last session use relative to other sessions.
</pre></div>
</div>
<p>Session Encryption Keys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>compute their sending and receiving session keys as described below:
    byte SEKeys_Info[] = /* &quot;SessionKeys&quot; */
            {0x53, 0x65, 0x73, 0x73, 0x69, 0x6f, 0x6e, 0x4b,
             0x65, 0x79, 0x73}
    I2RKey || R2IKey || AttestationChallenge =
      Crypto_KDF
      (
       inputKey = Ke,
       salt = [],
       info = SEKeys_Info,
       len = 3 * CRYPTO_SYMMETRIC_KEY_LENGTH_BITS
       )

1. Each key is exactly CRYPTO_SYMMETRIC_KEY_LENGTH_BITS bits.
2. The initiator SHALL use `I2RKey` to encrypt and integrity protect messages
    and the `R2IKey` to decrypt and verify messages.
3. The responder SHALL use `R2IKey` to encrypt and integrity protect messages
    and the `I2RKey` to decrypt and verify messages.
4. The `AttestationChallenge` SHALL only be used as a challenge during device attestation.
</pre></div>
</div>
</section>
</section>
<section id="certificate-authenticated-session-establishment-case">
<h4>4.13.2. Certificate Authenticated Session Establishment (CASE)<a class="headerlink" href="#certificate-authenticated-session-establishment-case" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>certificate-authenticated session establishment (CASE) protocol using Node Operational credentials.</p></li>
<li><p>establishment mechanism</p></li>
<li><p>resumption mechanism</p></li>
</ul>
<section id="id3">
<h5>4.13.2.1. Protocol Overview<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h5>
<p>This session establishment protocol provides a means to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Mutually</span> <span class="n">authenticate</span> <span class="n">both</span> <span class="n">peer</span> <span class="n">Nodes</span>
<span class="mf">2.</span> <span class="n">Generate</span> <span class="n">cryptographic</span> <span class="n">keys</span> <span class="n">to</span> <span class="n">secure</span> <span class="n">subsequent</span> <span class="n">communication</span> <span class="n">within</span> <span class="n">a</span> <span class="n">session</span>
<span class="mf">3.</span> <span class="n">Exchange</span> <span class="n">operational</span> <span class="n">parameters</span> <span class="k">for</span> <span class="n">the</span> <span class="n">session</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="n">Session</span> <span class="n">Identifier</span> <span class="ow">and</span> <span class="n">MRP</span> <span class="n">parameters</span>
</pre></div>
</div>
<p>The cryptographic protocol mirrors the [SIGMA] protocol and uses the Identity Protection Key (IPK) to provide better identity protection. Briefly, the protocol will:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Exchange</span> <span class="n">ephemeral</span> <span class="n">elliptic</span> <span class="n">curve</span> <span class="n">public</span> <span class="n">keys</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">a</span> <span class="n">shared</span> <span class="n">secret</span>
    <span class="p">(</span><span class="n">Sigma1</span><span class="o">.</span><span class="n">initiatorEphPubKey</span> <span class="ow">and</span> <span class="n">Sigma2</span><span class="o">.</span><span class="n">responderEphPubKey</span><span class="p">)</span>
<span class="mf">2.</span> <span class="n">Exchange</span> <span class="n">certificates</span> <span class="n">to</span> <span class="n">prove</span> <span class="n">identities</span>
    <span class="p">(</span><span class="n">Sigma2</span><span class="o">.</span><span class="n">encrypted2</span><span class="o">.</span><span class="n">responderNOC</span> <span class="ow">and</span> <span class="n">Sigma3</span><span class="o">.</span><span class="n">encrypted3</span><span class="o">.</span><span class="n">initiatorNOC</span><span class="p">)</span>
<span class="mf">3.</span> <span class="n">Prove</span> <span class="n">possession</span> <span class="n">of</span> <span class="n">the</span> <span class="n">NOC</span> <span class="n">private</span> <span class="n">key</span> <span class="n">by</span> <span class="n">signing</span> <span class="n">the</span> <span class="n">ephemeral</span> <span class="n">keys</span> <span class="ow">and</span> <span class="n">NOC</span>
    <span class="p">(</span><span class="n">sigma</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">tbsdata</span> <span class="ow">and</span> <span class="n">sigma</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">tbsdata</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" id="id89">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/BC801564-0499-4FB5-B1C7-07731F6B0230.png" src="https://img.zhaoweiguo.com/uPic/2022/11/BC801564-0499-4FB5-B1C7-07731F6B0230.png" />
<figcaption>
<p><span class="caption-text">Figure 15. Basic Session Establishment: The basic protocol can be achieved within 2 round trips</span><a class="headerlink" href="#id89" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="session-resumption">
<h5>4.13.2.2. Session Resumption<a class="headerlink" href="#session-resumption" title="此标题的永久链接">¶</a></h5>
<p>The protocol also provides a means to quickly resume a session using a previously established session.</p>
<figure class="align-default" id="id90">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/1EF215E8-1211-436F-97B3-1A3BE9C9E4A7.png" src="https://img.zhaoweiguo.com/uPic/2022/11/1EF215E8-1211-436F-97B3-1A3BE9C9E4A7.png" />
<figcaption>
<p><span class="caption-text">Figure 16. Session Resumption: Sigma1 message with both the optional resumptionID and initiatorResumeMIC fields</span><a class="headerlink" href="#id90" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul>
<li><p>To perform session resumption, the following state from the previous session context must be known to the initiator and responder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">SharedSecret</span>
<span class="mf">2.</span> <span class="n">Local</span> <span class="n">Fabric</span> <span class="n">Index</span>
<span class="mf">3.</span> <span class="n">Peer</span> <span class="n">Node</span> <span class="n">ID</span>
<span class="mf">4.</span> <span class="n">Peer</span> <span class="n">CASE</span> <span class="n">Authenticated</span> <span class="n">Tags</span>
<span class="mf">5.</span> <span class="n">ResumptionID</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id4">
<h5>4.13.2.3. Protocol Details<a class="headerlink" href="#id4" title="此标题的永久链接">¶</a></h5>
<section id="message-format">
<h6>Message format<a class="headerlink" href="#message-format" title="此标题的永久链接">¶</a></h6>
<p>Table 23. CASE Messages</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Message Name</p></th>
<th class="head"><p>Payload TLV Encoding</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Sigma1</p></td>
<td><p>sigma-1-struct</p></td>
</tr>
<tr class="row-odd"><td><p>Sigma2</p></td>
<td><p>sigma-2-struct,</p></td>
</tr>
<tr class="row-even"><td><p>Sigma3</p></td>
<td><p>sigma-3-struct,</p></td>
</tr>
<tr class="row-odd"><td><p>Sigma2_Resume</p></td>
<td><p>sigma-2-resume-struct,</p></td>
</tr>
<tr class="row-even"><td><p>SigmaFinished</p></td>
<td><p>N/A (encoded via StatusReport)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="message-exchange">
<h6>Message Exchange<a class="headerlink" href="#message-exchange" title="此标题的永久链接">¶</a></h6>
<ol class="arabic simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Sigma1</span></code>, <code class="docutils literal notranslate"><span class="pre">Sigma2</span></code>, <code class="docutils literal notranslate"><span class="pre">Sigma3</span></code>, and <code class="docutils literal notranslate"><span class="pre">SigmaFinished</span></code> of a distinct session establishment are part of the same message exchange.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Sigma1</span> <span class="pre">with</span> <span class="pre">resumption</span></code>, <code class="docutils literal notranslate"><span class="pre">Sigma2_Resume</span></code> and <code class="docutils literal notranslate"><span class="pre">SigmaFinished</span></code> of a distinct session resumption are part of the same message exchange.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Sigma1</span> <span class="pre">with</span> <span class="pre">resumption</span></code>, <code class="docutils literal notranslate"><span class="pre">Sigma2</span></code>, <code class="docutils literal notranslate"><span class="pre">Sigma3</span></code> and <code class="docutils literal notranslate"><span class="pre">SigmaFinished</span></code> of a distinct session resumption that failed to perform the resumption are part of the same message exchange.</p></li>
</ol>
</section>
<section id="generate-and-send-sigma1">
<h6>Generate and Send Sigma1<a class="headerlink" href="#generate-and-send-sigma1" title="此标题的永久链接">¶</a></h6>
<p>The initiator encodes and sends a Sigma1 message, with a payload that follows this TLV schema:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sigma-1-struct =&gt; STRUCTURE [ tag-order ]
{
  initiatorRandom    [1] : OCTET STRING [ length 32 ],
  initiatorSessionId [2] : UNSIGNED INTEGER [ range 16-bits ],
  destinationId      [3] : destination-identifier,
  initiatorEphPubKey [4] : ec-pub-key,
  initiatorSEDParams [5, optional] : sed-parameter-struct,
  resumptionID       [6, optional] : OCTET STRING [ length 16 ],
  initiatorResumeMIC [7, optional] : OCTET STRING [ length CRYPTO_AEAD_MIC_LENGTH_BYTES ]
}


1. SHALL generate a random number `InitiatorRandom = Crypto_DRBG(len = 32 \* 8)`.
2. SHALL generate a InitiatorSessionId for subsequent identification of this session.
3. SHALL generate a DestinationId to enable the responder to
        properly select a mutual Fabric and trusted root for the secure session.
4. SHALL generate an ephemeral key pair: `InitiatorEphKeyPair = Crypto_GenerateKeypair()`.
5. MAY encode any relevant MRP parameters.
6. Any context-specific tags not listed in the above TLV schemas SHALL be reserved for future use,
        and SHALL be silently ignored if seen by a responder which cannot understand them.
7. If the initiator is resuming a session
    a. Note the `ResumptionID` of the previous session.
    b. Generate the `S1RK` key.
    c. Generate the initiatorResumeMIC using the `SharedSecret` from the previous session
8. SHALL send a message with Secure Channel Protocol ID and Sigma1 Protocol Opcode
</pre></div>
</div>
<p>Msg1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Msg1</span> <span class="o">=</span> <span class="p">{</span>
   <span class="n">initiatorRandom</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">InitiatorRandom</span><span class="p">,</span>
   <span class="n">initiatorSessionId</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">InitiatorSessionId</span><span class="p">,</span>
   <span class="n">destinationId</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">DestinationId</span><span class="p">,</span>
   <span class="n">initiatorEphPubKey</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="n">InitiatorEphKeyPair</span><span class="o">.</span><span class="n">publicKey</span>
   <span class="n">initiatorSEDParams</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="n">sed</span><span class="o">-</span><span class="n">parameter</span><span class="o">-</span><span class="n">struct</span> <span class="p">(</span><span class="n">optional</span><span class="p">),</span>
   <span class="n">resumptionID</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">=</span> <span class="n">ResumptionID</span> <span class="p">(</span><span class="n">optional</span><span class="p">,</span> <span class="n">only</span> <span class="n">present</span> <span class="k">if</span> <span class="n">performing</span> <span class="n">resumption</span><span class="p">),</span>
   <span class="n">initiatorResumeMIC</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">=</span> <span class="n">InitiatorResume1MIC</span> <span class="p">(</span><span class="n">optional</span><span class="p">,</span> <span class="n">only</span> <span class="n">present</span> <span class="k">if</span> <span class="n">performing</span> <span class="n">resumption</span><span class="p">)</span>
 <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="validate-sigma1">
<h6>Validate Sigma1<a class="headerlink" href="#validate-sigma1" title="此标题的永久链接">¶</a></h6>
<p>On receipt of Msg1, the responder SHALL perform the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. If Msg1 contains either a resumptionID or an initiatorResumeMIC field but not both
    SHALL send a status report: `StatusReport(GeneralCode: FAILURE, ProtocolId: SECURE_CHANNEL, ProtocolCode: INVALID_PARAMETER)`
    and perform no further processing.
2. Set the Peer Session Identifier in the Session Context to the value `Msg1.initiatorSessionId`.
3. If Msg1 contains both the resumptionID and initiatorResumeMIC fields
    SHALL search for an existing session that has a Resumption ID equal to the incoming resumptionID.
    If a single such session exists
        SHALL follow the steps in `Section 4.13.2.3.10, “Validate Sigma1 with Resumption”`
    Else
        continue the steps outlined in `Section 4.13.2.3.5, “Validate Sigma1 Destination ID”`.
4. If Msg1 does not contain a resumptionID and initiatorResumeMIC field,
    SHALL continue the steps in `Section 4.13.2.3.5, “Validate Sigma1 Destination ID”`.
</pre></div>
</div>
</section>
<section id="validate-sigma1-destination-id">
<h6>Validate Sigma1 Destination ID<a class="headerlink" href="#validate-sigma1-destination-id" title="此标题的永久链接">¶</a></h6>
<p>the responder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. SHALL validate the incoming destinationId
    a. SHALL traverse all its installed NOC, gathering the associated trusted roots&#39; public keys from the associated chains
        and SHALL generate a `candidateDestinationId` for that tuple of `&lt;Root Public Key, Fabric ID, Node ID&gt;`.
    b. SHALL verify that the incoming `destinationId` matches one of the `candidateDestinationId` generated above.
        Upon such a match, the associated `trusted root, Fabric ID, Node ID and IPK` SHALL be recorded for subsequent use.
2. If there is no `candidateDestinationId` matching the incoming destinationId,
    SHALL send a status report: `StatusReport(GeneralCode: FAILURE, ProtocolId: SECURE_CHANNEL, ProtocolCode: NO_SHARED_TRUST_ROOTS)`
    and perform no further processing.
3. Otherwise, if a match was found for the destinationId,
    the matched `NOC`, `ICAC (if present)`, and `associated trusted root`
        SHALL be used for selection of the `responderNOC` and `responderICAC` in the steps for Sigma2.
</pre></div>
</div>
</section>
<section id="generate-and-send-sigma2">
<h6>Generate and Send Sigma2<a class="headerlink" href="#generate-and-send-sigma2" title="此标题的永久链接">¶</a></h6>
<p>If validation is successful, the responder encodes and sends a Sigma2 message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sigma</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">tbsdata</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">responderNOC</span>       <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">responderICAC</span>      <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">responderEphPubKey</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">pub</span><span class="o">-</span><span class="n">key</span><span class="p">,</span>
    <span class="n">initiatorEphPubKey</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">pub</span><span class="o">-</span><span class="n">key</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">sigma</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">tbedata</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">responderNOC</span>  <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">responderICAC</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">signature</span>     <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">signature</span><span class="p">,</span>
    <span class="n">resumptionID</span>  <span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mi">16</span> <span class="p">],</span>
<span class="p">}</span>
<span class="n">sigma</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">struct</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">responderRandom</span>    <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mi">32</span> <span class="p">],</span>
    <span class="n">responderSessionId</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">responderEphPubKey</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">pub</span><span class="o">-</span><span class="n">key</span><span class="p">,</span>
    <span class="n">encrypted2</span>         <span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">responderSEDParams</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">sed</span><span class="o">-</span><span class="n">parameter</span><span class="o">-</span><span class="n">struct</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>sigma-2-tbsdata is NOT transmitted but is instead signed; the signature will be encrypted and transmitted.</p>
</div>
<p>The responder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. SHALL generate a random resumption ID `ResumptionID = Crypto_DRBG(len = 16 \* 8)`.
2. SHALL use the Node Operational Key Pair `ResponderNOKeyPair`, `responderNOC`, and `responderICAC`(if present) corresponding to the NOC
3. SHALL generate an ephemeral key pair `ResponderEphKeyPair = Crypto_GenerateKeypair()`.
4. SHALL generate a shared secret:
    SharedSecret = Crypto_ECDH(
         privateKey = ResponderEphKeyPair.privateKey,
         publicKey = Msg1.initiatorEphPubKey,
    )
5. SHALL encode the following items as a `sigma-2-tbsdata` with an anonymous tag:
    a. responderNOC as a matter-certificate
    b. responderICAC (if present) as a matter-certificate
    c. ResponderEphKeyPair.publicKey
    d. Msg1.initiatorEphPubKey
    e. ResumptionID
6. SHALL generate a signature:
    TBSData2Signature = Crypto_Sign(
         message = sigma-2-tbsdata,
         privateKey = ResponderNOKeyPair.privateKey
    )
7. SHALL encode the following items as a sigma-2-tbedata
    a. responderNOC
    b. responderICAC (if present)
    c. TBSData2Signature
8. SHALL generate the `S2K key`
9. SHALL generate the encrypted and integrity protected data:
    byte TBEData2_A[] = {}
    byte TBEData2_Nonce[13] = /* &quot;NCASE_Sigma2N&quot; */
        {0x4e, 0x43, 0x41, 0x53, 0x45, 0x5f, 0x53, 0x69,
         0x67, 0x6d, 0x61, 0x32, 0x4e}
    TBEData2Encrypted = Crypto_AEAD_GenerateEncrypt(
      K = S2K,
      P = TBEData2,
      A = TBEData2_A,
      N = TBEData2_Nonce
    )
0. SHALL generate a random number `Random = Crypto_DRBG(len = 32 * 8)`.
1. SHALL generate a ResponderSessionId for subsequent identification of this secured session.
2. SHALL use the Fabric IPK
3. Any context-specific tags not listed in the above TLV schemas
    SHALL be reserved for future use, and SHALL be silently ignored if seen by an initiator which cannot understand them.
4. SHALL send a message with Secure Channel Protocol ID and Sigma2 Protocol Opcode
</pre></div>
</div>
<p>Msg2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Msg2</span> <span class="o">=</span> <span class="p">{</span>
   <span class="n">responderRandom</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">Random</span><span class="p">,</span>
   <span class="n">responderSessionId</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">ResponderSessionId</span><span class="p">,</span>
   <span class="n">responderEphPubKey</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">ResponderEphKeyPair</span><span class="o">.</span><span class="n">publicKey</span><span class="p">,</span>
   <span class="n">encrypted2</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="n">TBEData2Encrypted</span><span class="p">,</span>
   <span class="n">responderSEDParams</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="n">sed</span><span class="o">-</span><span class="n">parameter</span><span class="o">-</span><span class="n">struct</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="validate-sigma2">
<h6>Validate Sigma2<a class="headerlink" href="#validate-sigma2" title="此标题的永久链接">¶</a></h6>
<p>On receipt of Msg2, the initiator SHALL perform the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. SHALL generate a shared secret:
    SharedSecret = Crypto_ECDH(
         privateKey = InitiatorEphKeyPair.privateKey,
         publicKey = Msg2.responderEphPubKey,
    )
2. SHALL generate the S2K key.
3. SHALL generate the decrypted data:
    byte TBEData2_A[] = {}
    byte TBEData2_Nonce[13] = /* &quot;NCASE_Sigma2N&quot; */
           {0x4e, 0x43, 0x41, 0x53, 0x45, 0x5f, 0x53, 0x69,
            0x67, 0x6d, 0x61, 0x32, 0x4e}
    Success, TBEData2 = Crypto_AEAD_DecryptVerify(
         K = S2K,
         C = Msg2.encrypted2,
         A = TBEData2_A,
         N = TBEData2_Nonce
    )
4. If the value of Success is FALSE,
    SHALL send a status report: `StatusReport(GeneralCode: FAILURE, ProtocolId: SECURE_CHANNEL, ProtocolCode: INVALID_PARAMETER)`
    and perform no further processing.
5. SHALL verify that the `NOC` in `TBEData2.responderNOC` and `ICAC` in `TBEData2.responderICAC` (if present) fulfills the following constraints:
6. If any of the validations from the previous step fail,
    SHALL send a status report: `StatusReport(GeneralCode: FAILURE, ProtocolId: SECURE_CHANNEL, ProtocolCode: INVALID_PARAMETER)`
    and perform no further processing.
7. SHALL verify `TBEData2.responderNOC` using:
8. If the value of Success is FALSE, ...
9. SHALL encode the following items as a sigma-2-tbsdata with an anonymous tag:
0. SHALL verify TBEData2.signature (see RFC 5280):
1. If the value of Success is FALSE, ...
2. Set the Resumption ID in the Session Context to the value TBEData2.resumptionID.
3. Set the Peer Session Identifier in the Session Context to the value Msg2.responderSessionId.
</pre></div>
</div>
</section>
<section id="generate-and-send-sigma3">
<h6>Generate and Send Sigma3<a class="headerlink" href="#generate-and-send-sigma3" title="此标题的永久链接">¶</a></h6>
<p>If validation is successful, the initiator encodes and sends a Sigma3 message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sigma</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">tbsdata</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">initiatorNOC</span>       <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">initiatorICAC</span>      <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">initiatorEphPubKey</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">pub</span><span class="o">-</span><span class="n">key</span><span class="p">,</span>
    <span class="n">responderEphPubKey</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">pub</span><span class="o">-</span><span class="n">key</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">sigma</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">tbedata</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">initiatorNOC</span>  <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">initiatorICAC</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">signature</span>     <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">signature</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">sigma</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">struct</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">encrypted3</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The initiator SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. SHALL select
        its Node Operational Key Pair `InitiatorNOKeyPair`,
        Node Operational Certificates `initiatorNOC`
        and `initiatorICAC` (if present),
        and Trusted Root CA Certificate `TrustedRCAC`
    corresponding to the chosen Fabric as determined by the Destination Identifier from Sigma1.
2. SHALL encode the following items as a sigma-3-tbsdata with an anonymous tag:
    a. initiatorNOC as a matter-certificate
    b. initiatorICAC (if present) as a matter-certificate
    c. InitiatorEphKeyPair.publicKey
    d. Msg2.responderEphPubKey
3. SHALL generate a signature:
    TBSData3Signature = Crypto_Sign(
         message = sigma-3-tbsdata,
         privateKey = InitiatorNOKeyPair.privateKey
    )
4. SHALL encode the following items as a sigma-3-tbedata:
5. SHALL generate the S3K key.
6. SHALL generate the encrypted and integrity protected data:
    byte TBEData3_A[] = {}
    byte TBEData3_Nonce[13] = /* &quot;NCASE_Sigma3N&quot; */
       {0x4e, 0x43, 0x41, 0x53, 0x45, 0x5f, 0x53, 0x69,
        0x67, 0x6d, 0x61, 0x33, 0x4e}
    TBEData3Encrypted = Crypto_AEAD_GenerateEncrypt(
         K = S3K,
         P = TBEData3,
         A = TBEData3_A,
         N = TBEData3_Nonce
    )
7. Any context-specific tags not listed in the above TLV schemas SHALL be reserved for future use
8. SHALL send a message with Secure Channel Protocol ID and Sigma3 Protocol Opcode
9. SHALL generate the session encryption keys using the method described in `Section 4.13.2.6.6, “Session Encryption Keys”`.
</pre></div>
</div>
</section>
<section id="validate-sigma3">
<h6>Validate Sigma3<a class="headerlink" href="#validate-sigma3" title="此标题的永久链接">¶</a></h6>
<p>On receipt of Msg3, the responder SHALL perform the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">SHALL</span> <span class="n">generate</span> <span class="n">the</span> <span class="n">S3K</span> <span class="n">key</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">SHALL</span> <span class="n">generate</span> <span class="n">the</span> <span class="n">decrypted</span> <span class="n">data</span><span class="p">:</span>
    <span class="n">byte</span> <span class="n">TBEData3_A</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">byte</span> <span class="n">TBEData3_Nonce</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">=</span> <span class="o">/*</span> <span class="s2">&quot;NCASE_Sigma3N&quot;</span> <span class="o">*/</span>
        <span class="p">{</span><span class="mh">0x4e</span><span class="p">,</span> <span class="mh">0x43</span><span class="p">,</span> <span class="mh">0x41</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x45</span><span class="p">,</span> <span class="mh">0x5f</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span>
         <span class="mh">0x67</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x33</span><span class="p">,</span> <span class="mh">0x4e</span><span class="p">}</span>
    <span class="n">Success</span><span class="p">,</span> <span class="n">TBEData3</span> <span class="o">=</span> <span class="n">Crypto_AEAD_DecryptVerify</span><span class="p">(</span>
      <span class="n">K</span> <span class="o">=</span> <span class="n">S3K</span><span class="p">,</span>
      <span class="n">C</span> <span class="o">=</span> <span class="n">Msg3</span><span class="o">.</span><span class="n">encrypted3</span><span class="p">,</span>
      <span class="n">A</span> <span class="o">=</span> <span class="n">TBEData3_A</span><span class="p">,</span>
      <span class="n">N</span> <span class="o">=</span> <span class="n">TBEData3_Nonce</span>
    <span class="p">)</span>
<span class="mf">3.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">Success</span> <span class="ow">is</span> <span class="n">FALSE</span><span class="p">,</span> <span class="o">...</span>
<span class="mf">4.</span> <span class="n">SHALL</span> <span class="n">verify</span> <span class="n">that</span> <span class="n">the</span> <span class="n">NOC</span> <span class="ow">in</span> <span class="n">TBEData3</span><span class="o">.</span><span class="n">responderNOC</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">ICAC</span> <span class="ow">in</span> <span class="n">TBEData3</span><span class="o">.</span><span class="n">responderICAC</span> <span class="n">fulfill</span> <span class="n">the</span> <span class="n">following</span> <span class="n">constraints</span><span class="p">:</span>
<span class="mf">5.</span> <span class="n">If</span> <span class="nb">any</span> <span class="n">of</span> <span class="n">the</span> <span class="n">validations</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">previous</span> <span class="n">step</span> <span class="n">fail</span><span class="p">,</span> <span class="o">...</span>
<span class="mf">6.</span> <span class="n">SHALL</span> <span class="n">verify</span> <span class="n">TBEData3</span><span class="o">.</span><span class="n">initiatorNOC</span> <span class="n">using</span><span class="p">:</span>
<span class="mf">7.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">Success</span> <span class="ow">is</span> <span class="n">FALSE</span><span class="p">,</span>
<span class="mf">8.</span> <span class="n">SHALL</span> <span class="n">encode</span> <span class="n">the</span> <span class="n">following</span> <span class="n">items</span> <span class="k">as</span> <span class="n">a</span> <span class="n">sigma</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">tbsdata</span> <span class="k">with</span> <span class="n">an</span> <span class="n">anonymous</span> <span class="n">tag</span><span class="p">:</span>
<span class="mf">9.</span> <span class="n">SHALL</span> <span class="n">verify</span> <span class="n">TBEData3</span><span class="o">.</span><span class="n">signature</span> <span class="p">(</span><span class="n">see</span> <span class="n">RFC</span> <span class="mi">5280</span><span class="p">):</span>
    <span class="n">Success</span> <span class="o">=</span> <span class="n">Crypto_Verify</span><span class="p">(</span>
        <span class="n">publicKey</span><span class="o">=</span> <span class="n">public</span> <span class="n">key</span> <span class="n">obtained</span> <span class="kn">from</span><span class="w"> </span><span class="nn">initiatorNOC</span><span class="p">,</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">sigma</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">tbsdata</span><span class="p">,</span>
        <span class="n">signature</span> <span class="o">=</span> <span class="n">TBEData3</span><span class="o">.</span><span class="n">signature</span>
    <span class="p">)</span>
<span class="mf">0.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">Success</span> <span class="ow">is</span> <span class="n">FALSE</span><span class="p">,</span>
<span class="mf">1.</span> <span class="n">SHALL</span> <span class="n">generate</span> <span class="n">the</span> <span class="n">session</span> <span class="n">keys</span>
<span class="mf">2.</span> <span class="n">SHALL</span> <span class="n">initialize</span> <span class="n">its</span> <span class="n">Local</span> <span class="n">Message</span> <span class="n">Counter</span>
<span class="mf">3.</span> <span class="n">SHALL</span> <span class="n">initialize</span> <span class="n">the</span> <span class="n">Message</span> <span class="n">Reception</span> <span class="n">State</span>
<span class="mf">4.</span> <span class="n">SHALL</span> <span class="nb">set</span> <span class="n">SessionTimestamp</span> <span class="n">to</span> <span class="n">a</span> <span class="n">timestamp</span> <span class="kn">from</span><span class="w"> </span><span class="nn">a</span> <span class="n">clock</span>
    <span class="n">which</span> <span class="n">would</span> <span class="n">allow</span> <span class="k">for</span> <span class="n">the</span> <span class="n">eventual</span> <span class="n">determination</span> <span class="n">of</span> <span class="n">the</span> <span class="n">last</span> <span class="n">session</span> <span class="n">use</span> <span class="n">relative</span> <span class="n">to</span> <span class="n">other</span> <span class="n">sessions</span><span class="o">.</span>
<span class="mf">5.</span> <span class="n">SHALL</span> <span class="n">encode</span> <span class="ow">and</span> <span class="n">send</span> <span class="n">SigmaFinished</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="validate-sigma1-with-resumption">
<h6>Validate Sigma1 with Resumption<a class="headerlink" href="#validate-sigma1-with-resumption" title="此标题的永久链接">¶</a></h6>
<p>todo</p>
</section>
<section id="generate-and-send-sigma2-resume">
<h6>Generate and Send Sigma2_Resume<a class="headerlink" href="#generate-and-send-sigma2-resume" title="此标题的永久链接">¶</a></h6>
<p>todo</p>
</section>
<section id="validate-sigma2-resume">
<h6>Validate Sigma2_Resume<a class="headerlink" href="#validate-sigma2-resume" title="此标题的永久链接">¶</a></h6>
<p>todo</p>
</section>
<section id="sigmafinished">
<h6>SigmaFinished<a class="headerlink" href="#sigmafinished" title="此标题的永久链接">¶</a></h6>
<p>To indicate the successful completion of the protocol, the Node receiving <code class="docutils literal notranslate"><span class="pre">Sigma3</span> <span class="pre">(if</span> <span class="pre">a</span> <span class="pre">new</span> <span class="pre">session</span> <span class="pre">is</span> <span class="pre">being</span> <span class="pre">established)</span></code> or <code class="docutils literal notranslate"><span class="pre">Sigma2_Resume</span> <span class="pre">(if</span> <span class="pre">a</span> <span class="pre">session</span> <span class="pre">is</span> <span class="pre">being</span> <span class="pre">resumed)</span></code> SHALL send a status report: <code class="docutils literal notranslate"><span class="pre">StatusReport(GeneralCode:</span> <span class="pre">SUCCESS,</span> <span class="pre">ProtocolId:</span> <span class="pre">SECURE_CHANNEL,</span> <span class="pre">ProtocolCode:</span> <span class="pre">SESSION_ESTABLISHMENT_SUCCESS)</span></code>.</p>
<p>On successful receipt of SigmaFinished, The receiving node SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. SHALL initialize the `Local Message Counter` for the newly established secure session whose success is acknowledged by this message.
2. SHALL set `SessionTimestamp` to a timestamp from a clock
    which would allow for the eventual determination of the last session usage relative to other sessions.
</pre></div>
</div>
<ul class="simple">
<li><p>If this message is received out-of-order or unexpectedly, then it SHALL be ignored.</p></li>
</ul>
</section>
</section>
<section id="field-descriptions">
<h5>4.13.2.4. Field Descriptions<a class="headerlink" href="#field-descriptions" title="此标题的永久链接">¶</a></h5>
<p>Destination Identifier:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">destination</span><span class="o">-</span><span class="n">identifier</span> <span class="o">=&gt;</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span><span class="n">length</span> <span class="n">CRYPTO_HASH_LEN_BYTES</span><span class="p">]</span>
</pre></div>
</div>
<p>A destination identifier is generated by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Concatenating the following octet strings for subsequent usage as a destinationMessage:
    initiatorRandom
    rootPublicKey
    fabricId
    nodeId
2. Obtaining the appropriate Identity Protection Key (IPK)
3. Computing an identifier destinationIdentifier of length `CRYPTO_HASH_LEN_BYTES` using `Crypto_HMAC()` with
    the `IPK` as the key and `destinationMessage` as the message

steps can be summarized as:
  destinationMessage = initiatorRandom || rootPublicKey || fabricId || nodeId
  destinationIdentifier = Crypto_HMAC(key=IPK, message=destinationMessage)
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Root</span> <span class="n">public</span> <span class="n">key</span> <span class="k">for</span> <span class="n">the</span> <span class="n">common</span> <span class="n">Fabric</span><span class="p">,</span> <span class="ow">in</span> <span class="n">uncompressed</span> <span class="n">elliptical</span> <span class="n">curve</span> <span class="n">point</span> <span class="n">form</span><span class="p">:</span>
    <span class="n">RootPublicKey</span> <span class="o">:=</span> <span class="o">//</span> <span class="n">Raw</span> <span class="n">uncompressed</span> <span class="n">point</span> <span class="n">form</span>
      <span class="mi">04</span><span class="p">:</span><span class="mi">4</span><span class="n">a</span><span class="p">:</span><span class="mi">9</span><span class="n">f</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="n">b1</span><span class="p">:</span><span class="n">ca</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="n">d3</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="mi">92</span><span class="p">:</span><span class="n">bb</span><span class="p">:</span><span class="n">c7</span><span class="p">:</span><span class="n">f6</span><span class="p">:</span><span class="n">a7</span><span class="p">:</span><span class="n">e1</span><span class="p">:</span>
      <span class="mi">1</span><span class="n">e</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">0</span><span class="n">c</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span><span class="mi">6</span><span class="n">f</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="n">db</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">8</span><span class="n">a</span><span class="p">:</span><span class="mi">7</span><span class="n">a</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">3</span><span class="n">a</span><span class="p">:</span><span class="mi">64</span><span class="p">:</span><span class="mi">1</span><span class="n">c</span><span class="p">:</span>
      <span class="n">b8</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">4</span><span class="n">a</span><span class="p">:</span><span class="mi">2</span><span class="n">e</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="n">d4</span><span class="p">:</span><span class="n">e2</span><span class="p">:</span><span class="mi">95</span><span class="p">:</span><span class="n">a8</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="mi">3</span><span class="n">b</span><span class="p">:</span><span class="mi">4</span><span class="n">e</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span><span class="n">c4</span><span class="p">:</span>
      <span class="n">a7</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span><span class="n">e9</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">7</span><span class="n">b</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="mi">9</span><span class="n">f</span><span class="p">:</span><span class="n">be</span><span class="p">:</span><span class="n">de</span><span class="p">:</span><span class="mi">8</span><span class="n">a</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">86</span><span class="p">:</span><span class="n">bf</span><span class="p">:</span><span class="n">ac</span><span class="p">:</span>
      <span class="n">fa</span>
<span class="mf">2.</span> <span class="n">Common</span> <span class="n">Fabric</span> <span class="n">ID</span> <span class="n">of</span> <span class="mh">0x2906_C908_D115_D362</span> <span class="n">scalar</span> <span class="p">(</span><span class="n">octets</span> <span class="s2">&quot;62:d3:15:d1:08:c9:06:29&quot;</span> <span class="ow">in</span> <span class="n">little</span><span class="o">-</span> <span class="n">endian</span><span class="p">)</span>
<span class="mf">3.</span> <span class="n">Desired</span> <span class="n">Destination</span> <span class="n">Node</span> <span class="n">ID</span> <span class="n">of</span> <span class="mh">0xCD55_44AA_7B13_EF14</span> <span class="p">(</span><span class="n">octets</span> <span class="s2">&quot;14:ef:13:7b:aa:44:55:cd&quot;</span> <span class="ow">in</span> <span class="n">little</span><span class="o">-</span><span class="n">endian</span><span class="p">)</span>
<span class="mf">4.</span> <span class="n">Identity</span> <span class="n">Protection</span> <span class="n">Key</span> <span class="n">Epoch</span> <span class="n">Key</span> <span class="n">value</span> <span class="n">of</span><span class="p">:</span>
    <span class="n">IPKEpochKey</span> <span class="o">:=</span> <span class="mi">4</span><span class="n">a</span><span class="p">:</span><span class="mi">71</span><span class="p">:</span><span class="n">cd</span><span class="p">:</span><span class="n">d7</span><span class="p">:</span><span class="n">b2</span><span class="p">:</span><span class="n">a3</span><span class="p">:</span><span class="n">ca</span><span class="p">:</span><span class="mi">90</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="n">f9</span><span class="p">:</span><span class="mi">6</span><span class="n">f</span><span class="p">:</span><span class="mi">3</span><span class="n">c</span><span class="p">:</span><span class="mi">96</span><span class="p">:</span><span class="n">a1</span><span class="p">:</span><span class="mi">9</span><span class="n">d</span><span class="p">:</span><span class="n">ee</span>
    <span class="o">=&gt;</span>
    <span class="n">IPK</span> <span class="o">:=</span> <span class="mi">9</span><span class="n">b</span><span class="p">:</span><span class="n">c6</span><span class="p">:</span><span class="mi">1</span><span class="n">c</span><span class="p">:</span><span class="n">d9</span><span class="p">:</span><span class="n">c6</span><span class="p">:</span><span class="mi">2</span><span class="n">a</span><span class="p">:</span><span class="mi">2</span><span class="n">d</span><span class="p">:</span><span class="n">f6</span><span class="p">:</span><span class="n">d6</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="n">fc</span><span class="p">:</span><span class="n">aa</span><span class="p">:</span><span class="mi">9</span><span class="n">d</span><span class="p">:</span><span class="n">c4</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="n">d4</span>
<span class="mf">5.</span> <span class="n">Initiator</span> <span class="n">Random</span> <span class="n">value</span> <span class="n">of</span><span class="p">:</span>
    <span class="mi">7</span><span class="n">e</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">8</span><span class="n">d</span><span class="p">:</span><span class="n">fa</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">6</span><span class="n">b</span><span class="p">:</span><span class="mi">3</span><span class="n">a</span><span class="p">:</span><span class="n">cc</span><span class="p">:</span><span class="n">f8</span><span class="p">:</span><span class="n">fa</span><span class="p">:</span><span class="n">ec</span><span class="p">:</span><span class="mi">2</span><span class="n">f</span><span class="p">:</span>
    <span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="n">b5</span><span class="p">:</span><span class="mi">80</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">96</span><span class="p">:</span><span class="n">f4</span><span class="p">:</span><span class="mi">7</span><span class="n">c</span><span class="p">:</span><span class="mi">7</span><span class="n">c</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="n">eb</span><span class="p">:</span><span class="mi">81</span><span class="p">:</span><span class="mi">0</span><span class="n">a</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span><span class="n">dc</span>


<span class="o">=&gt;</span> <span class="n">DestinationMessage</span> <span class="n">octets</span><span class="p">:</span>
  <span class="mi">7</span><span class="n">e</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">8</span><span class="n">d</span><span class="p">:</span><span class="n">fa</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">6</span><span class="n">b</span><span class="p">:</span><span class="mi">3</span><span class="n">a</span><span class="p">:</span><span class="n">cc</span><span class="p">:</span><span class="n">f8</span><span class="p">:</span><span class="n">fa</span><span class="p">:</span><span class="n">ec</span><span class="p">:</span><span class="mi">2</span><span class="n">f</span><span class="p">:</span>
  <span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="n">b5</span><span class="p">:</span><span class="mi">80</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">96</span><span class="p">:</span><span class="n">f4</span><span class="p">:</span><span class="mi">7</span><span class="n">c</span><span class="p">:</span><span class="mi">7</span><span class="n">c</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="n">eb</span><span class="p">:</span><span class="mi">81</span><span class="p">:</span><span class="mi">0</span><span class="n">a</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span><span class="n">dc</span><span class="p">:</span>
  <span class="mi">04</span><span class="p">:</span><span class="mi">4</span><span class="n">a</span><span class="p">:</span><span class="mi">9</span><span class="n">f</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="n">b1</span><span class="p">:</span><span class="n">ca</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="n">d3</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="mi">92</span><span class="p">:</span><span class="n">bb</span><span class="p">:</span><span class="n">c7</span><span class="p">:</span><span class="n">f6</span><span class="p">:</span><span class="n">a7</span><span class="p">:</span><span class="n">e1</span><span class="p">:</span>
  <span class="mi">1</span><span class="n">e</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">0</span><span class="n">c</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span><span class="mi">6</span><span class="n">f</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="n">db</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">8</span><span class="n">a</span><span class="p">:</span><span class="mi">7</span><span class="n">a</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">3</span><span class="n">a</span><span class="p">:</span><span class="mi">64</span><span class="p">:</span><span class="mi">1</span><span class="n">c</span><span class="p">:</span>
  <span class="n">b8</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">4</span><span class="n">a</span><span class="p">:</span><span class="mi">2</span><span class="n">e</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="n">d4</span><span class="p">:</span><span class="n">e2</span><span class="p">:</span><span class="mi">95</span><span class="p">:</span><span class="n">a8</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="mi">3</span><span class="n">b</span><span class="p">:</span><span class="mi">4</span><span class="n">e</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span><span class="n">c4</span><span class="p">:</span>
  <span class="n">a7</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span><span class="n">e9</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">7</span><span class="n">b</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="mi">9</span><span class="n">f</span><span class="p">:</span><span class="n">be</span><span class="p">:</span><span class="n">de</span><span class="p">:</span><span class="mi">8</span><span class="n">a</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">86</span><span class="p">:</span><span class="n">bf</span><span class="p">:</span><span class="n">ac</span><span class="p">:</span>
  <span class="n">fa</span><span class="p">:</span><span class="mi">62</span><span class="p">:</span><span class="n">d3</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="n">d1</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="n">ef</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mi">7</span><span class="n">b</span><span class="p">:</span><span class="n">aa</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span>
  <span class="n">cd</span>
<span class="o">=&gt;</span> <span class="n">DestinationIdentifier</span> <span class="n">octets</span><span class="p">:</span>
  <span class="n">dc</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="n">dd</span><span class="p">:</span><span class="mi">5</span><span class="n">f</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mi">4</span><span class="n">c</span><span class="p">:</span><span class="n">c5</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="n">c3</span><span class="p">:</span><span class="n">fc</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span>
  <span class="n">c1</span><span class="p">:</span><span class="n">ec</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">70</span><span class="p">:</span><span class="n">c8</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mi">6</span><span class="n">a</span><span class="p">:</span><span class="mi">80</span><span class="p">:</span><span class="n">e1</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span><span class="mi">96</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">1</span><span class="n">d</span><span class="p">:</span><span class="mi">4</span><span class="n">c</span><span class="p">:</span><span class="mi">53</span>
</pre></div>
</div>
<section id="public-key">
<h6>Public Key<a class="headerlink" href="#public-key" title="此标题的永久链接">¶</a></h6>
<p>A public key <code class="docutils literal notranslate"><span class="pre">ec-pub-key</span></code> is the byte string representation of an uncompressed elliptic curve point as defined in <code class="docutils literal notranslate"><span class="pre">section</span> <span class="pre">2.3.3</span> <span class="pre">of</span> <span class="pre">SEC1</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ec</span><span class="o">-</span><span class="n">pub</span><span class="o">-</span><span class="n">key</span> <span class="o">=&gt;</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="n">CRYPTO_PUBLIC_KEY_SIZE_BYTES</span> <span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="signature">
<h5>4.13.2.5. Signature<a class="headerlink" href="#signature" title="此标题的永久链接">¶</a></h5>
<p>An ec-signature is the encoding of the signature as defined in <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">3.5.3,</span> <span class="pre">“Signature</span> <span class="pre">and</span> <span class="pre">verification”</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ec</span><span class="o">-</span><span class="n">signature</span> <span class="o">=&gt;</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="p">(</span><span class="n">CRYPTO_GROUP_SIZE_BYTES</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="cryptographic-keys">
<h5>4.13.2.6. Cryptographic Keys<a class="headerlink" href="#cryptographic-keys" title="此标题的永久链接">¶</a></h5>
<section id="identity-protection-key-ipk">
<h6>Identity Protection Key (IPK)<a class="headerlink" href="#identity-protection-key-ipk" title="此标题的永久链接">¶</a></h6>
</section>
<section id="sigma2-key-s2k">
<h6>Sigma2 Key (S2K)<a class="headerlink" href="#sigma2-key-s2k" title="此标题的永久链接">¶</a></h6>
</section>
<section id="sigma3-key-s3k">
<h6>Sigma3 Key (S3K)<a class="headerlink" href="#sigma3-key-s3k" title="此标题的永久链接">¶</a></h6>
</section>
<section id="sigma1-resumption-key">
<h6>Sigma1 Resumption Key<a class="headerlink" href="#sigma1-resumption-key" title="此标题的永久链接">¶</a></h6>
</section>
<section id="sigma2-resumption-key">
<h6>Sigma2 Resumption Key<a class="headerlink" href="#sigma2-resumption-key" title="此标题的永久链接">¶</a></h6>
</section>
<section id="session-encryption-keys">
<h6>Session Encryption Keys<a class="headerlink" href="#session-encryption-keys" title="此标题的永久链接">¶</a></h6>
</section>
<section id="resumption-session-encryption-keys">
<h6>Resumption Session Encryption Keys<a class="headerlink" href="#resumption-session-encryption-keys" title="此标题的永久链接">¶</a></h6>
</section>
</section>
<section id="session-context-storage">
<h5>4.13.2.7. Session Context Storage<a class="headerlink" href="#session-context-storage" title="此标题的永久链接">¶</a></h5>
<p>After the session is established successfully at both peers, some fields SHALL be recorded in the secure session context for later use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">The</span> <span class="n">peer</span> <span class="n">NOC</span><span class="s1">&#39;s matter-node-id</span>
<span class="mf">2.</span> <span class="n">Fabric</span> <span class="n">References</span> <span class="ow">and</span> <span class="n">Fabric</span> <span class="n">Identifier</span>
<span class="mf">3.</span> <span class="n">All</span> <span class="n">peer</span> <span class="n">NOC</span><span class="s1">&#39;s case-authenticated-tag</span>
</pre></div>
</div>
</section>
<section id="minimal-number-of-case-sessions">
<h5>4.13.2.8. Minimal Number of CASE Sessions<a class="headerlink" href="#minimal-number-of-case-sessions" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>A node SHALL support at least 3 CASE session contexts per fabric.(Device type specifications MAY require a larger minimum.)</p></li>
<li><p>a minimum number it defines is a per-fabric minimum.</p></li>
<li><p>Example: If a device type requires at least 4 CASE session contexts, and a node supports 7 fabrics, the node would support at least 28 CASE session contexts, and ensure that each fabric could use at least 4 of them.</p></li>
</ul>
</section>
</section>
</section>
<section id="group-communication">
<h3>4.14. Group Communication<a class="headerlink" href="#group-communication" title="此标题的永久链接">¶</a></h3>
<section id="groupcast-session-context">
<h4>4.14.1. Groupcast Session Context<a class="headerlink" href="#groupcast-session-context" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Groupcast sessions are conceptually long-running, lasting the duration of a node’s membership in a group.</p></li>
<li><p>Group membership is tracked in the Group Key Management Cluster.</p></li>
</ul>
<p>Groupcast Session Context:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Fabric</span> <span class="n">Index</span>
<span class="mf">2.</span> <span class="n">Group</span> <span class="n">ID</span>
<span class="mf">3.</span> <span class="n">Source</span> <span class="n">Node</span> <span class="n">ID</span>
<span class="mf">4.</span> <span class="n">Source</span> <span class="n">IP</span> <span class="n">Address</span>
<span class="mf">5.</span> <span class="n">Source</span> <span class="n">Port</span>
<span class="mf">6.</span> <span class="n">Operational</span> <span class="n">Group</span> <span class="n">Key</span>
<span class="mf">7.</span> <span class="n">Group</span> <span class="n">Session</span> <span class="n">ID</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Once a <code class="docutils literal notranslate"><span class="pre">Groupcast</span> <span class="pre">Session</span> <span class="pre">Context</span></code> with <cite>trust-first policy</cite> is created to track authenticated messages from a given Source Node ID, that record SHALL NOT be deleted or recycled until the node reboots.</p></li>
<li><p>This is to prevent replay attacks that first exhaust the memory allocated to group session counter tracking and then inject older messages as valid, and enforces that trust-first authentication works as intended within the full duration of a boot cycle.</p></li>
<li><p>Any message from a source that cannot be tracked SHALL be dropped.</p></li>
</ul>
</section>
<section id="sending-a-group-message">
<h4>4.14.2. Sending a group message<a class="headerlink" href="#sending-a-group-message" title="此标题的永久链接">¶</a></h4>
<p>To prepare a multicast message to a Group ID with a given GroupKeySetID and IPv6 hop count parameter, the Node SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Obtain, for the given GroupKeySetID, and the associated Group Session ID.
    GroupKeySetID: the current Operational Group Key as the Encryption Key,

2. Perform `Section 4.6.1, “Message Transmission”` processing steps on the message with the following arguments:
    a. The Destination Node Id argument SHALL be the Group Node Id corresponding to the given Group ID.
    b. The Session Id argument SHALL be the Group Session ID from step 1.
    c. The Security Flags SHALL have only the `P Flag` set.
    d. The transport SHALL be a site-local routable IPv6 interface.
</pre></div>
</div>
<p>Next, prepare the message as an IPv6 packet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Set the private, secured message from step 2 above as the IPv6 payload.
2. Set the IPv6 hop count to the value given.
3. Set the IPv6 destination to the `Section 2.5.6.2, “IPv6 Multicast Address”`
    based on the provided destination Group ID, Fabric ID,
    and `Section 11.2.6.2.9, “GroupKeyMulticastPolicy”` of the group key.
4. Set the IPv6 source to an operational IPv6 Unicast Address of the sending Node.
5. Set the IPv6 UDP port number to the Matter IPv6 multicast port.
</pre></div>
</div>
</section>
<section id="receiving-a-group-message">
<h4>4.14.3. Receiving a group message<a class="headerlink" href="#receiving-a-group-message" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>All Nodes supporting groups SHALL register to receive on the associated IPv6 multicast address, at the Matter IPv6 multicast port, for each group of which they are a member.</p></li>
</ul>
<p>The Node SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Extract the message from the IPv6 payload.
2. Perform `Section 4.6.2, “Message Reception”` processing steps on the message.
</pre></div>
</div>
</section>
</section>
<section id="group-key-management">
<h3>4.15. Group Key Management<a class="headerlink" href="#group-key-management" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This section describes <code class="docutils literal notranslate"><span class="pre">operational</span> <span class="pre">group</span> <span class="pre">keys</span></code>, a mechanism for <code class="docutils literal notranslate"><span class="pre">generating</span></code>, <code class="docutils literal notranslate"><span class="pre">disseminating</span></code> and <code class="docutils literal notranslate"><span class="pre">managing</span></code> shared symmetric keys across a group of Nodes in a Fabric.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Operational</span> <span class="pre">group</span> <span class="pre">keys</span></code> are made available to applications for the purpose of authenticating peers, securing group communications, and encrypting data.</p></li>
</ul>
<p>These keys allow Nodes to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Prove to each other that they are members of the associated group
• Exchange messages confidentially,
    and without fear of manipulation by non-members of the group
• Encrypt data in such a way that
    it can only be decrypted by other members of the group
</pre></div>
</div>
<ul class="simple">
<li><p>A central feature of <code class="docutils literal notranslate"><span class="pre">operational</span> <span class="pre">group</span> <span class="pre">keys</span></code> is the ability to limit access to keys to a trusted set of Nodes.</p></li>
<li><p>credentials (required to generate <code class="docutils literal notranslate"><span class="pre">operational</span> <span class="pre">group</span> <span class="pre">keys</span></code>)SHALL only be accessible to Nodes with a certain level of privilege — those deemed a member of the group.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Operational</span> <span class="pre">group</span> <span class="pre">keys</span></code> are shareable across all types and combinations of Nodes as determined by the Administrator managing the group.</p></li>
<li><p>It is the responsibility of the Administrator managing the group.</p></li>
</ul>
<section id="operational-groups">
<h4>4.15.1. Operational Groups<a class="headerlink" href="#operational-groups" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>An operational group is a logical collection of Nodes that are running one or more common application clusters and share a common security domain in the form of a shared, symmetric group key.</p></li>
<li><p>Multiple operational groups MAY share the same operational group key, and thus be used to create logical subgroups over a shared security domain.</p></li>
</ul>
</section>
<section id="operational-group-key-derivation">
<h4>4.15.2. Operational Group Key Derivation<a class="headerlink" href="#operational-group-key-derivation" title="此标题的永久链接">¶</a></h4>
<ul>
<li><p>An <code class="docutils literal notranslate"><span class="pre">operational</span> <span class="pre">group</span> <span class="pre">key</span></code> is a symmetric key used as the Encryption Key during Message Processing for group communication.</p></li>
<li><p>An <code class="docutils literal notranslate"><span class="pre">operational</span> <span class="pre">group</span> <span class="pre">key</span></code> is produced by applying a key derivation function with an epoch key and salt value as inputs as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>OperationalGroupKey =
    Crypto_KDF
    (
        InputKey = `Epoch Key`,
        Salt = `CompressedFabricIdentifier`,
        Info = &quot;GroupKey v1.0&quot;,
        Length = CRYPTO_SYMMETRIC_KEY_LENGTH_BITS
    )

The `Info`  is specified in `Section 4.15.2.1, “Group Security Info”`.
The `Salt`  is specified in `Section 4.3.2.2, “Compressed Fabric Identifier”`.
</pre></div>
</div>
</li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• An Epoch Key value of: 23:5b:f7:e6:28:23:d3:58:dc:a4:ba:50:b1:53:5f:4b
• A CompressedFabricIdentifier value of: 87:e1:b0:04:e2:35:a1:30
=&gt;
resulting operational group key: a6:f5:30:6b:af:6d:05:0a:f2:3b:a4:bd:6b:9d:d9:60
</pre></div>
</div>
<ul class="simple">
<li><p>Group membership is enforced by limiting access to the epoch keys.</p></li>
<li><p>Only Nodes that possess the input epoch key can derive a given operational key.</p></li>
<li></li>
</ul>
<figure class="align-default" id="id91">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/2B6224AA-7D64-439E-AD5F-D5E9F9448C9A.png" src="https://img.zhaoweiguo.com/uPic/2022/11/2B6224AA-7D64-439E-AD5F-D5E9F9448C9A.png" />
<figcaption>
<p><span class="caption-text">Figure 17. Group Key Derivation</span><a class="headerlink" href="#id91" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<section id="group-security-info">
<h5>4.15.2.1. Group Security Info<a class="headerlink" href="#group-security-info" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>A hard-coded <code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">security</span> <span class="pre">info</span></code> is used to diversify the set of operational group keys.</p></li>
<li><p>This value is hard-coded into the standard’s implementation, and thus is distributed with the associated code.</p></li>
</ul>
</section>
<section id="group-key-set">
<h5>4.15.2.2. Group Key Set<a class="headerlink" href="#group-key-set" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">key</span> <span class="pre">set</span></code> limits the key derivation process to Nodes within the respective operational groups.</p></li>
<li><p>Access to a <code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">key</span> <span class="pre">set</span></code> is limited based on the functionality provided by a Node and/or the privilege afforded to it.</p></li>
<li><p>For example, certain home security devices, such as a security system or door lock, may have access to a “Physical Access” <code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">key</span> <span class="pre">set</span></code>, while devices such as light bulbs or window coverings would not.</p></li>
<li><p>Operational <code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">key</span> <span class="pre">lifetime</span></code> is limited by assigning an expiration time to each <code class="docutils literal notranslate"><span class="pre">epoch</span> <span class="pre">key</span></code> in a given <code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">key</span> <span class="pre">set</span></code>.</p></li>
<li><p>By constraining the validity of a given epoch key to an epoch, the ability for members to derive and operate with an operational group key can be constrained to particular periods of time.</p></li>
</ul>
</section>
</section>
<section id="epoch-keys">
<h4>4.15.3. Epoch Keys<a class="headerlink" href="#epoch-keys" title="此标题的永久链接">¶</a></h4>
<p>Each key SHALL be a random value of length CRYPTO_SYMMETRIC_KEY_LENGTH_BITS bits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EpochKey</span> <span class="o">=</span> <span class="n">Crypto_DRBG</span><span class="p">(</span><span class="nb">len</span> <span class="o">=</span> <span class="n">CRYPTO_SYMMETRIC_KEY_LENGTH_BITS</span><span class="p">)</span>
</pre></div>
</div>
<section id="using-epoch-keys">
<h5>4.15.3.1. Using Epoch Keys<a class="headerlink" href="#using-epoch-keys" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Nodes sending group messages SHALL use <code class="docutils literal notranslate"><span class="pre">operational</span> <span class="pre">group</span> <span class="pre">keys</span></code> that are derived from the current <code class="docutils literal notranslate"><span class="pre">epoch</span> <span class="pre">key</span></code> (specifically, the epoch key with the latest start time that is not in the future).</p></li>
<li><p>Nodes receiving group messages SHALL accept the use of any key derived from one of the currently <code class="docutils literal notranslate"><span class="pre">installed</span> <span class="pre">epoch</span> <span class="pre">keys</span></code>.</p></li>
</ul>
</section>
<section id="managing-epoch-keys">
<h5>4.15.3.2. Managing Epoch Keys<a class="headerlink" href="#managing-epoch-keys" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The epoch keys are managed using the <code class="docutils literal notranslate"><span class="pre">Group</span> <span class="pre">Key</span> <span class="pre">Management</span> <span class="pre">Cluster</span></code>.</p></li>
<li><p>For every group key set published by the key distribution Administrator, there SHALL be at least 1 and at most 3 epoch keys in rotation.</p></li>
<li><p>Key updates are idempotent operations: Any epoch key update MAY deliver a partial key set but SHALL include EpochKey0 and MAY include EpochKey1 and EpochKey2. Any update of the key set, including a partial update, SHALL remove all previous keys in the set, however many were defined.</p></li>
</ul>
</section>
<section id="epoch-key-rotation">
<h5>4.15.3.3. Epoch Key Rotation<a class="headerlink" href="#epoch-key-rotation" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The key distribution Administrator generates new <code class="docutils literal notranslate"><span class="pre">epoch</span> <span class="pre">keys</span></code> on a regular basis, giving each a unique id and adding them to the list of existing epoch keys within a group.</p></li>
<li><p>The start time for each new epoch key is scheduled to occur after a configurable key propagation interval.</p></li>
<li><p>The propagation interval is set sufficiently large such that the Administrator can synchronize all Nodes in the operational group with the new epoch key list within that time.</p></li>
</ul>
</section>
<section id="epoch-key-rotation-without-time-synchronization">
<h5>4.15.3.4. Epoch Key Rotation without Time Synchronization<a class="headerlink" href="#epoch-key-rotation-without-time-synchronization" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>This scheme requires the Node to receive epoch keys from the key distribution Administrator at a rate that is at least as fast as the configured key propagation interval.</p></li>
<li><p>The key distribution Administrator SHOULD update <code class="docutils literal notranslate"><span class="pre">all</span> <span class="pre">Nodes</span> <span class="pre">without</span> <span class="pre">time</span></code>, such as SEDs, before the new epoch key is activated, and then let <code class="docutils literal notranslate"><span class="pre">Nodes</span> <span class="pre">with</span> <span class="pre">time</span></code> all roll to the new epoch key at the synchronized start time.</p></li>
</ul>
</section>
<section id="epoch-key-rotation-logic">
<h5>4.15.3.5. Epoch Key Rotation logic<a class="headerlink" href="#epoch-key-rotation-logic" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id92">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/C190B34E-BD0B-4D5F-94FC-BFDF63C10E58.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/C190B34E-BD0B-4D5F-94FC-BFDF63C10E58.jpg" />
<figcaption>
<p><span class="caption-text">Figure 18. Epoch Key Rotation</span><a class="headerlink" href="#id92" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>For each epoch key slot, the start time of the key is shown as one of the following values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• New - a key with a start time in the future.
• Current - the active key with the newest start time.
• Previous - the active key with the second newest start time.
• Old - an active key with the third newest start time.
</pre></div>
</div>
<p>The diagram shows two types of state transitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Admin</span> <span class="n">Update</span> <span class="o">-</span>
    <span class="n">an</span> <span class="n">update</span> <span class="n">of</span> <span class="n">an</span> <span class="n">old</span> <span class="n">key</span> <span class="n">by</span> <span class="n">the</span> <span class="n">Administrator</span><span class="o">.</span>
    <span class="n">Changes</span> <span class="n">made</span> <span class="n">during</span> <span class="n">this</span> <span class="n">state</span> <span class="n">transition</span> <span class="n">are</span> <span class="n">indicated</span> <span class="ow">in</span> <span class="n">green</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Epoch</span> <span class="n">Activate</span> <span class="o">-</span>
    <span class="n">activation</span> <span class="n">of</span> <span class="n">an</span> <span class="n">epoch</span> <span class="n">key</span> <span class="n">due</span> <span class="n">to</span> <span class="n">system</span> <span class="n">time</span> <span class="n">becoming</span> <span class="n">greater</span> <span class="n">than</span> <span class="n">the</span> <span class="n">start</span> <span class="n">time</span><span class="o">.</span>
    <span class="n">Changes</span> <span class="n">during</span> <span class="n">this</span> <span class="n">state</span> <span class="n">transition</span> <span class="n">are</span> <span class="n">indicated</span> <span class="ow">in</span> <span class="n">yellow</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="group-session-id">
<h5>4.15.3.6. Group Session ID<a class="headerlink" href="#group-session-id" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>A Group Session ID is a special case of a 16-bit Session ID that is specifically used for group communication.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GroupKeyHash</span> <span class="o">=</span>
    <span class="n">Crypto_KDF</span>
    <span class="p">(</span>
        <span class="n">InputKey</span> <span class="o">=</span> <span class="n">OperationalGroupKey</span><span class="p">,</span>
        <span class="n">Salt</span> <span class="o">=</span> <span class="p">[],</span>
        <span class="n">Info</span> <span class="o">=</span> <span class="s2">&quot;GroupKeyHash&quot;</span><span class="p">,</span>
        <span class="n">Length</span> <span class="o">=</span> <span class="mi">16</span>  <span class="o">//</span> <span class="n">Bits</span>
   <span class="p">)</span>

<span class="o">//</span> <span class="n">GroupKeyHash</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">array</span> <span class="n">of</span> <span class="mi">2</span> <span class="nb">bytes</span> <span class="p">(</span><span class="mi">16</span> <span class="n">bits</span><span class="p">)</span> <span class="n">per</span> <span class="n">Crypto_KDF</span>
<span class="o">//</span> <span class="n">GroupSessionId</span> <span class="ow">is</span> <span class="n">computed</span> <span class="n">by</span> <span class="n">considering</span> <span class="n">the</span> <span class="n">GroupKeyHash</span> <span class="k">as</span> <span class="n">a</span> <span class="n">Big</span><span class="o">-</span><span class="n">Endian</span> <span class="n">value</span><span class="o">.</span>

<span class="n">GroupSessionId</span> <span class="o">=</span> <span class="p">(</span><span class="n">GroupKeyHash</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">GroupKeyHash</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>An Operational Group Key value of: `a6:f5:30:6b:af:6d:05:0a:f2:3b:a4:bd:6b:9d:d9:60`
=&gt;
• Raw output of GroupKeyHash: `b9:f7`
• Group Session ID scalar value to be used for further processing: `0xB9F7` (47607 decimal)
</pre></div>
</div>
</section>
</section>
<section id="distribution-of-key-material">
<h4>4.15.4. Distribution of Key Material<a class="headerlink" href="#distribution-of-key-material" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id93">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/0C5D9EA0-0015-4880-BA86-0AC2F5382BC6.png" src="https://img.zhaoweiguo.com/uPic/2022/11/0C5D9EA0-0015-4880-BA86-0AC2F5382BC6.png" />
<figcaption>
<p><span class="caption-text">Figure 19. Group Key Distribution</span><a class="headerlink" href="#id93" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<section id="installing-a-group-onto-a-newly-commissioned-node">
<h5>4.15.4.1. Installing a Group onto a Newly Commissioned Node<a class="headerlink" href="#installing-a-group-onto-a-newly-commissioned-node" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id94">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/ACED9C9D-5951-48A7-BA45-CC8F278D8740.png" src="https://img.zhaoweiguo.com/uPic/2022/11/ACED9C9D-5951-48A7-BA45-CC8F278D8740.png" />
<figcaption>
<p><span class="caption-text">Figure 20. Installing a group onto a new node</span><a class="headerlink" href="#id94" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>Sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Admin:
    ◦ Generate fabric-unique group ID `GID` and random key `key0` for group key set ID `K`.
    ◦ Write the group key set `K` to the remote node, GroupMember, using KeySetWrite command.
    ◦ Associate `GID` with key set `K` by writing an entry to the GroupKeyMap list attribute.

• GroupMember:
    ◦ Node subscribes to the IPv6 multicast address generated from the `fabric ID` and `group ID`.

• Admin:
    ◦ Associate `endpoint` with `GID` by sending the Groups cluster’s AddGroup command to endpoint.
</pre></div>
</div>
</section>
</section>
</section>
<section id="message-counter-synchronization-protocol-mcsp">
<h3>4.16. Message Counter Synchronization Protocol(MCSP)<a class="headerlink" href="#message-counter-synchronization-protocol-mcsp" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This section describes the protocol used to securely synchronize the message counter used by a sender of messages encrypted with a symmetric group key.</p></li>
<li><p>Message counter synchronization is an essential part of enabling secure messaging between members of an operational group.</p></li>
<li><p>Specifically, it protects against replay attacks</p></li>
</ul>
<section id="message-counter-synchronization-methods">
<h4>4.16.1. Message Counter Synchronization Methods<a class="headerlink" href="#message-counter-synchronization-methods" title="此标题的永久链接">¶</a></h4>
<section id="trust-first-policy">
<h5>4.16.1.1. Trust-first policy<a class="headerlink" href="#trust-first-policy" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>All control messages (any message with C Flag set) use the control message counter and SHALL use Trust-first for synchronization.</p></li>
<li><p>Note that MCSP is not used for Trust-first synchronization.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This policy provides lower latency for less security-sensitive applications such as lighting.</p>
</div>
</section>
<section id="cache-and-sync-policy">
<h5>4.16.1.2. Cache-and-sync policy<a class="headerlink" href="#cache-and-sync-policy" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The message that triggers message counter synchronization is stored, a message counter synchronization exchange is initiated, and only when the synchronization is completed is the original message processed.</p></li>
<li><p>Support for the cache-and-sync policy and MCSP is optional.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Cache-and-sync provides replay protection even in the case where a Node has been rebooted, at the expense of higher latency.</p>
</div>
</section>
</section>
<section id="group-peer-state">
<h4>4.16.2. Group Peer State<a class="headerlink" href="#group-peer-state" title="此标题的永久链接">¶</a></h4>
<p>For every peer node id the following information is available in the <code class="docutils literal notranslate"><span class="pre">Group</span> <span class="pre">Peer</span> <span class="pre">State</span> <span class="pre">Table</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Peer’s Encrypted Group Data Message Counter Status:
    ◦ Synchronized Data Message Counter
    ◦ Flag to indicate whether this counter value is valid and synchronized.
    ◦ The message reception state bitmap tracking the recent window
        of data message counters received from the peer.

• Peer’s Encrypted Group Control Message Counter Status:
    ◦ Synchronized Control Message Counter
    ◦ Flag to indicate whether this counter value is valid and synchronized.
    ◦ The message reception state bitmap tracking the recent window
        of control message counters received from the peer.
</pre></div>
</div>
<p>There are three scenarios where the receiver of an encrypted message does not know the sender’s last message counter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• The encrypted message is the first received from a peer.
• The device rebooted without persisting the Group Peer State Table content.
• The entry for the Peer in the Group Peer State Table
    was expunged due to the table being full.
</pre></div>
</div>
</section>
<section id="mcsp-messages">
<h4>4.16.3. MCSP Messages<a class="headerlink" href="#mcsp-messages" title="此标题的永久链接">¶</a></h4>
<section id="msgcountersyncreq-message-counter-synchronization-request">
<h5>4.16.3.1. MsgCounterSyncReq - Message Counter Synchronization Request<a class="headerlink" href="#msgcountersyncreq-message-counter-synchronization-request" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MsgCounterSyncReq</span></code> message is sent when a message was received from a peer whose current message counter is unknown.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">MsgCounterSyncReq</span></code> message SHALL be secured with the <code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">key</span></code> for which counter synchronization is requested</p></li>
</ul>
<p>Table 24. Message Counter Sync Request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Challenge</span><span class="p">:</span> <span class="mi">8</span> <span class="nb">bytes</span><span class="p">,</span> <span class="mi">64</span><span class="o">-</span><span class="n">bit</span> <span class="n">random</span> <span class="n">number</span> <span class="n">generated</span> <span class="n">using</span> <span class="n">the</span> <span class="n">DRBG</span>
</pre></div>
</div>
</section>
<section id="msgcountersyncrsp-message-counter-synchronization-response">
<h5>4.16.3.2. MsgCounterSyncRsp - Message Counter Synchronization Response<a class="headerlink" href="#msgcountersyncrsp-message-counter-synchronization-response" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MsgCounterSyncRsp</span></code> message is sent in response to a <code class="docutils literal notranslate"><span class="pre">MsgCounterSyncReq</span></code>.</p></li>
</ul>
<p>Table 25. Message Counter Sync Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Synchronized</span> <span class="n">Counter</span><span class="p">:</span> <span class="mi">4</span> <span class="nb">bytes</span>
    <span class="n">The</span> <span class="n">current</span> <span class="n">data</span> <span class="n">message</span> <span class="n">counter</span> <span class="k">for</span> <span class="n">the</span> <span class="n">node</span> <span class="n">sending</span> <span class="n">this</span> <span class="n">resp</span><span class="o">.</span>
<span class="n">Response</span><span class="p">:</span> <span class="mi">8</span> <span class="nb">bytes</span>
    <span class="n">Response</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">the</span> <span class="mi">64</span><span class="o">-</span><span class="n">bit</span> <span class="n">value</span> <span class="n">sent</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Challenge</span> <span class="n">field</span>
</pre></div>
</div>
</section>
</section>
<section id="unsynchronized-message-processing">
<h4>4.16.4. Unsynchronized Message Processing<a class="headerlink" href="#unsynchronized-message-processing" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>An unsynchronized message is one that is cryptographically verified from a node whose message counter is unknown.</p></li>
</ul>
<p>Upon receipt of an unsynchronized message process the message as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The message SHALL be of Group Session Type, otherwise discard the message.
2. If C Flag is set to 1:
    a. Create a Message Reception State and set its `max_message_counter`
        to the message counter of the given message, i.e. `trust-first`.
    b. Accept the message for further processing.
3. If C Flag is set to 0:
    a. Determine the `Section 11.2.6.2.2, “GroupKeySecurityPolicy”` of the `operational group key` used to authenticate the message.
    b. If the key has a trust-first security policy, the receiver SHALL:
        i. Set the peer’s `group key data message counter` to Message Counter of the message.
            A. Clear the Message Reception State bitmap for the group session from the peer.
            B. Mark the peer&#39;s group key data message counter as synchronized.
        ii. Process the message.
    c. If the key has a cache-and-sync security policy, the receiver SHALL:
        i. If MCSP is not in progress for the given peer Node ID and group key:
            A. Store the message for later processing.
            B. Proceed to `Section 4.16.5, “Message Counter Synchronization Exchange”`.
        ii. Otherwise, do not process the message.
            A. An implementation MAY queue the message for later processing
                after MCSP completes if resources allow.
</pre></div>
</div>
</section>
<section id="message-counter-synchronization-exchange">
<h4>4.16.5. Message Counter Synchronization Exchange<a class="headerlink" href="#message-counter-synchronization-exchange" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A message synchronization exchange starts by sending the <code class="docutils literal notranslate"><span class="pre">MsgCounterSyncReq</span></code> message to the peer Node that sent the message with unknown message counter.</p></li>
<li><p>When a synchronization request is triggered by an incoming multicast message, the Node SHALL first wait for a uniformly random amount of time between 0 and <code class="docutils literal notranslate"><span class="pre">MSG_COUNTER_SYNC_REQ_JITTER</span></code>.</p></li>
</ul>
<p>The sender of the <code class="docutils literal notranslate"><span class="pre">MsgCounterSyncReq</span></code> message SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Set the Message Header fields
2. Create a new synchronization Exchange
3. Set the Challenge field to the value returned by Crypto_DRBG(len = 8 \* 8)
    and store that value to resolve synchronization responses from the destination peer.
4. Arm a timer to enforce that a synchronization response is received before `MSG_COUNTER_SYNC_TIMEOUT`.
5. Invoke `Section 4.6.1, “Message Transmission”` using parameters from step 1 to encrypt
    and then send the request message over UDP to the IPv6 unicast address of the destination.
</pre></div>
</div>
<p>The receiver of <code class="docutils literal notranslate"><span class="pre">MsgCounterSyncReq</span></code> SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Verify</span> <span class="n">the</span> <span class="n">Destination</span> <span class="n">Node</span> <span class="n">ID</span> <span class="n">field</span> <span class="n">SHALL</span> <span class="n">match</span> <span class="n">the</span> <span class="n">Node</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">otherwise</span> <span class="n">discard</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Respond</span> <span class="k">with</span> <span class="n">MsgCounterSyncRsp</span><span class="o">.</span>
</pre></div>
</div>
<p>The sender of the <code class="docutils literal notranslate"><span class="pre">MsgCounterSyncRsp</span></code> response message SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Set the Message Header fields
2. Set the `MsgCounterSyncRsp` payload fields
3. Use the same exchange context as the `MsgCounterSyncReq` being responded to.
4. Invoke `Section 4.6.1, “Message Transmission”`
</pre></div>
</div>
<p>The receiver of the <code class="docutils literal notranslate"><span class="pre">MsgCounterSyncRsp</span></code> message SHALL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Verify the `MsgCounterSyncRsp` matches a previously sent `MsgCounterSyncReq`:
2. On verification failure: ...
3. On verification success: ...
</pre></div>
</div>
</section>
<section id="message-counter-synchronization-session-context">
<h4>4.16.6. Message Counter Synchronization Session Context<a class="headerlink" href="#message-counter-synchronization-session-context" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>While conducting Message Counter Synchronization with a peer, nodes SHALL maintain the following session context.</p></li>
</ul>
<p>session context:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Fabric</span> <span class="n">Index</span>
<span class="mf">2.</span> <span class="n">Peer</span> <span class="n">Node</span> <span class="n">ID</span>
<span class="mf">3.</span> <span class="n">Role</span>
<span class="mf">4.</span> <span class="n">Message</span> <span class="n">Reception</span> <span class="n">State</span>
<span class="mf">5.</span> <span class="n">Peer</span> <span class="n">IP</span> <span class="n">Address</span>
<span class="mf">6.</span> <span class="n">Peer</span> <span class="n">Port</span>
<span class="mf">7.</span> <span class="n">Operational</span> <span class="n">Group</span> <span class="n">Key</span>
<span class="mf">8.</span> <span class="n">Group</span> <span class="n">Session</span> <span class="n">ID</span>
</pre></div>
</div>
</section>
<section id="sequence-diagram">
<h4>4.16.7. Sequence Diagram<a class="headerlink" href="#sequence-diagram" title="此标题的永久链接">¶</a></h4>
<section id="scenario-1-multicast-receiver-initiated">
<h5>4.16.7.1. Scenario 1 — Multicast Receiver Initiated<a class="headerlink" href="#scenario-1-multicast-receiver-initiated" title="此标题的永久链接">¶</a></h5>
<p>Assumptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Sender transmits a multicast message.
• Receiver does not know Sender&#39;s message counter.
</pre></div>
</div>
<figure class="align-default" id="id95">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/9432B1BB-8F15-4958-B675-448FD9DE7192.png" src="https://img.zhaoweiguo.com/uPic/2022/11/9432B1BB-8F15-4958-B675-448FD9DE7192.png" />
<figcaption>
<p><span class="caption-text">Figure 21. Multicast Receiver Initiated Message Counter Synchronization</span><a class="headerlink" href="#id95" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>Sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Sender:
    ◦ Generates, encrypts and sends Msg1 as a multicast message. Msg1 could be:
        ▪ Regular message that starts encrypted group communication
            with receivers Receiver1 and Receiver2.

• Receivers Receiver1 and Receiver2 each:
    ◦ Receive, decrypt, authenticate, and cache Msg1 message for later processing.
        ▪ Generate, encrypt, and send `MsgCounterSyncReq` message.

• Sender:
    ◦ Receives `MsgCounterSyncReq` message.
    ◦ Generates, encrypts and sends `MsgCounterSyncRsp` message.

• R1 and R2 each:
    ◦ Receive, decrypt, process, and verify `MsgCounterSyncRsp` message from Sender.
    ◦ On verification success: marks Sender&#39;s `group key message counter` as synchronized.
        ▪ Processes cached Msg1 message.
</pre></div>
</div>
</section>
</section>
</section>
<section id="bluetooth-transport-protocol-btp">
<h3>4.17. Bluetooth Transport Protocol (BTP)<a class="headerlink" href="#bluetooth-transport-protocol-btp" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The Bluetooth Transport Protocol (BTP) provides a TCP-like layer of reliable, connection-oriented data transfer on top of GATT.</p></li>
</ul>
<figure class="align-default" id="id96">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/920FFA9B-0E92-4A85-9FBB-04E407AEC96C.png" src="https://img.zhaoweiguo.com/uPic/2022/11/920FFA9B-0E92-4A85-9FBB-04E407AEC96C.png" />
<figcaption>
<p><span class="caption-text">Figure 22. MATTERoBLE(Matter-over-Bluetooth Low Energy): Matter Message / BTP layering</span><a class="headerlink" href="#id96" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<section id="btp-session-interface">
<h4>4.17.1. BTP Session Interface<a class="headerlink" href="#btp-session-interface" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Conceptually, an open BTP session is exposed to the next-higher session layer as a full-duplex message stream.</p></li>
</ul>
</section>
<section id="btp-frame-formats">
<h4>4.17.2. BTP Frame Formats<a class="headerlink" href="#btp-frame-formats" title="此标题的永久链接">¶</a></h4>
<p>A BTP Frame consists of an 8-bit header followed by one or more optional fields</p>
<section id="btp-packet-protocol-data-unit">
<h5>4.17.2.1. BTP Packet Protocol Data Unit<a class="headerlink" href="#btp-packet-protocol-data-unit" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id97">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/8CjFzc.png" src="https://img.zhaoweiguo.com/uPic/2022/11/8CjFzc.png" />
<figcaption>
<p><span class="caption-text">Table 26. BTP Packet PDU format</span><a class="headerlink" href="#id97" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>BTP Packet Protocol Data Unit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">H</span> <span class="p">(</span><span class="n">Handshake</span><span class="p">)</span> <span class="n">bit</span>
<span class="mf">2.</span> <span class="n">M</span> <span class="p">(</span><span class="n">Management</span> <span class="n">Message</span><span class="p">)</span> <span class="n">bit</span>
<span class="mf">3.</span> <span class="n">A</span> <span class="p">(</span><span class="n">Acknowledgement</span><span class="p">)</span> <span class="n">bit</span>
<span class="mf">4.</span> <span class="n">B</span> <span class="p">(</span><span class="n">Beginning</span> <span class="n">Segment</span><span class="p">)</span> <span class="n">bit</span>
<span class="mf">5.</span> <span class="n">E</span> <span class="p">(</span><span class="n">Ending</span> <span class="n">Segment</span><span class="p">)</span> <span class="n">bit</span>

<span class="n">a</span><span class="o">.</span> <span class="n">Ack</span> <span class="n">Number</span>
<span class="n">b</span><span class="o">.</span> <span class="n">Sequence</span> <span class="n">Number</span>
<span class="n">c</span><span class="o">.</span> <span class="n">Message</span> <span class="n">Length</span>
<span class="n">d</span><span class="o">.</span> <span class="n">Segment</span> <span class="n">Payload</span>
</pre></div>
</div>
</section>
<section id="btp-control-frames">
<h5>4.17.2.2. BTP Control Frames<a class="headerlink" href="#btp-control-frames" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>BTP defines different control frame formats depending on the Management Opcode that is in the BTP Packet PDU header</p></li>
</ul>
<figure class="align-default" id="id98">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/UoWg0e.png" src="https://img.zhaoweiguo.com/uPic/2022/11/UoWg0e.png" />
<figcaption>
<p><span class="caption-text">Table 27. BTP Control codes</span><a class="headerlink" href="#id98" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="btp-handshake-request">
<h5>4.17.2.3. BTP Handshake Request<a class="headerlink" href="#btp-handshake-request" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id99">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/aPq2VW.png" src="https://img.zhaoweiguo.com/uPic/2022/11/aPq2VW.png" />
<figcaption>
<p><span class="caption-text">Table 28. BTP Handshake Request format</span><a class="headerlink" href="#id99" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="btp-handshake-response">
<h5>4.17.2.4. BTP Handshake Response<a class="headerlink" href="#btp-handshake-response" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id100">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/wZg8Nx.png" src="https://img.zhaoweiguo.com/uPic/2022/11/wZg8Nx.png" />
<figcaption>
<p><span class="caption-text">Table 29. BTP Handshake Response format</span><a class="headerlink" href="#id100" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="btp-gatt-service">
<h4>4.17.3. BTP GATT Service<a class="headerlink" href="#btp-gatt-service" title="此标题的永久链接">¶</a></h4>
<section id="btp-channelization">
<h5>4.17.3.1. BTP Channelization<a class="headerlink" href="#btp-channelization" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Bluetooth Transport Protocol provides a packetized stream interface over GATT but says nothing about the actual contents of the data packets it transports.</p></li>
</ul>
<figure class="align-default" id="id101">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/PUp21M.png" src="https://img.zhaoweiguo.com/uPic/2022/11/PUp21M.png" />
<figcaption>
<p><span class="caption-text">Table 30. BTP Service UUID</span><a class="headerlink" href="#id101" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="id5">
<h5>4.17.3.2. BTP GATT Service<a class="headerlink" href="#id5" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id102">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/3d2RnR.png" src="https://img.zhaoweiguo.com/uPic/2022/11/3d2RnR.png" />
<figcaption>
<p><span class="caption-text">Table 31. BTP GATT service</span><a class="headerlink" href="#id102" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>The BTP GATT service is composed of a service with three characteristics—C1, C2 and C3</p></li>
</ul>
</section>
<section id="id6">
<h5>4.17.3.3. Session Establishment<a class="headerlink" href="#id6" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id103">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/CDE4F386-5458-40D0-A8AA-DFCB11B9B469.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/CDE4F386-5458-40D0-A8AA-DFCB11B9B469.jpg" />
<figcaption>
<p><span class="caption-text">Figure 23. BTP session handshake</span><a class="headerlink" href="#id103" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="data-transmission">
<h5>4.17.3.4. Data Transmission<a class="headerlink" href="#data-transmission" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Once a BTP session has been established, the next-higher-layer application on both peers may use this BLE connection to send and receive data via GATT <code class="docutils literal notranslate"><span class="pre">writes</span></code> or <code class="docutils literal notranslate"><span class="pre">indications</span></code>, according to a peer’s GATT role.</p></li>
<li><p>Clients SHALL exclusively use GATT <code class="docutils literal notranslate"><span class="pre">Write</span></code> Characteristic Value sub-procedure to send data to servers and servers SHALL exclusively use GATT <code class="docutils literal notranslate"><span class="pre">Indication</span></code> sub-procedure to send data to clients.</p></li>
</ul>
</section>
<section id="message-segmentation-and-reassembly">
<h5>4.17.3.5. Message Segmentation and Reassembly<a class="headerlink" href="#message-segmentation-and-reassembly" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>When the session layer (that is, MATTERoBLE) sends a Matter Message as a <code class="docutils literal notranslate"><span class="pre">BTP</span> <span class="pre">SDU</span></code> over a BTP session, that <code class="docutils literal notranslate"><span class="pre">BTP</span> <span class="pre">SDU</span></code> SHALL be split into ordered, non-overlapping BTP segments so the set of all BTP segments may be reassembled into the original BTP SDU(see <code class="docutils literal notranslate"><span class="pre">Figure</span> <span class="pre">22,</span> <span class="pre">“MATTERoBLE:</span> <span class="pre">Matter</span> <span class="pre">Message</span> <span class="pre">/</span> <span class="pre">BTP</span> <span class="pre">layering”</span></code>).</p></li>
</ul>
</section>
<section id="sequence-numbers">
<h5>4.17.3.6. Sequence Numbers<a class="headerlink" href="#sequence-numbers" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>All BTP packets SHALL be sent with sequence numbers, regardless of whether they contain SDU segments</p></li>
</ul>
</section>
<section id="receive-windows">
<h5>4.17.3.7. Receive Windows<a class="headerlink" href="#receive-windows" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The purpose of the receive window is to enable flow control at the GATT session layer between BTP peers.</p></li>
</ul>
<figure class="align-default" id="id104">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/4470D941-0A73-4564-BA47-1A3108B88668.png" src="https://img.zhaoweiguo.com/uPic/2022/11/4470D941-0A73-4564-BA47-1A3108B88668.png" />
<figcaption>
<p><span class="caption-text">Figure 24. Example receive window scenario</span><a class="headerlink" href="#id104" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="packet-acknowledgements">
<h5>4.17.3.8. Packet Acknowledgements<a class="headerlink" href="#packet-acknowledgements" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The purpose of sequence numbers and packet receipt acknowledgements is to support the BTP receive window and provide a keep-alive signal when a session is idle to affirm the health and continued operation of a remote BTP stack.</p></li>
</ul>
</section>
<section id="idle-connection-state">
<h5>4.17.3.9. Idle Connection State<a class="headerlink" href="#idle-connection-state" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id105">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/FB3F045F-8FE2-419A-AEDC-09A2C7CFE0BA.png" src="https://img.zhaoweiguo.com/uPic/2022/11/FB3F045F-8FE2-419A-AEDC-09A2C7CFE0BA.png" />
<figcaption>
<p><span class="caption-text">Figure 25. Idle connection scenario</span><a class="headerlink" href="#id105" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="connection-shutdown">
<h5>4.17.3.10. Connection Shutdown<a class="headerlink" href="#connection-shutdown" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>To close a BTP session, a GATT client SHALL unsubscribe from characteristic C2. The GATT server SHALL take this action to indicate closure of any BTP session open to the client.</p></li>
</ul>
</section>
<section id="protocol-state-diagrams">
<h5>4.17.3.11. Protocol State Diagrams<a class="headerlink" href="#protocol-state-diagrams" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id106">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/BBDC8D06-0462-4CC6-9134-A1DDA7333084.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/BBDC8D06-0462-4CC6-9134-A1DDA7333084.jpg" />
<figcaption>
<p><span class="caption-text">Figure 26. BTP session lifecycle for Central acting as GATT Client: shows the state machine for BTP session management of a BTP Client Device.</span><a class="headerlink" href="#id106" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id107">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/AA2D0224-BDCD-4664-97F5-83C27B9F747B.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/AA2D0224-BDCD-4664-97F5-83C27B9F747B.jpg" />
<figcaption>
<p><span class="caption-text">Figure 27. BTP session lifecycle for Peripheral acting as GATT Server: shows the state machine for BTP session management of a BTP Server Device.</span><a class="headerlink" href="#id107" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id108">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/DEA9DCE1-11D5-48CC-9F45-A375F414F90F.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/DEA9DCE1-11D5-48CC-9F45-A375F414F90F.jpg" />
<figcaption>
<p><span class="caption-text">Figure 28. State diagram for BTP session post-establishment: shows the state machine for BTP session maintenance at the protocol level, including liveliness enforcement through keep alive messages and automatic teardown if acknowledgements are received before the timeout.</span><a class="headerlink" href="#id108" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="id7">
<h4>4.17.4. Parameters and Constants<a class="headerlink" href="#id7" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id109">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/vqYBTC.png" src="https://img.zhaoweiguo.com/uPic/2022/11/vqYBTC.png" />
<figcaption>
<p><span class="caption-text">Table 32. Glossary of constants</span><a class="headerlink" href="#id109" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="bluetooth-sig-considerations">
<h4>4.17.5. Bluetooth SIG Considerations<a class="headerlink" href="#bluetooth-sig-considerations" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The UUID is provided by Bluetooth SIG, Inc.</p></li>
</ul>
<figure class="align-default" id="id110">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/RN5pJF.png" src="https://img.zhaoweiguo.com/uPic/2022/11/RN5pJF.png" />
<figcaption>
<p><span class="caption-text">Table 33. SIG UUID assignment</span><a class="headerlink" href="#id110" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="chapter-5-commissioning">
<h2>Chapter 5. Commissioning<a class="headerlink" href="#chapter-5-commissioning" title="此标题的永久链接">¶</a></h2>
<section id="onboarding-payload">
<h3>5.1. Onboarding Payload<a class="headerlink" href="#onboarding-payload" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The purpose of this section is to define the contents of the Onboarding Payload needed to allow onboarding a device into a Matter network.</p></li>
<li><p>It also specifies the representation and encoding of said payload as a QR Code, as a manually entered code, and as content in an NFC tag.</p></li>
</ul>
<p>5.1.1 Onboarding Payload Contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Version</span>
<span class="n">Vendor</span> <span class="n">ID</span> <span class="ow">and</span> <span class="n">Product</span> <span class="n">ID</span>
<span class="n">Custom</span> <span class="n">Flow</span>
    <span class="n">A</span> <span class="mi">2</span><span class="o">-</span><span class="n">bit</span> <span class="n">unsigned</span> <span class="n">enumeration</span> <span class="n">specifying</span> <span class="n">the</span> <span class="n">Device</span> <span class="n">Commissioning</span> <span class="n">Flow</span>
       <span class="mi">0</span> <span class="n">indicates</span> <span class="n">that</span> <span class="n">no</span> <span class="n">steps</span> <span class="n">are</span> <span class="n">needed</span>
       <span class="mi">1</span> <span class="n">indicates</span> <span class="n">that</span> <span class="n">user</span> <span class="n">interaction</span> <span class="k">with</span> <span class="n">the</span> <span class="n">device</span>
       <span class="mi">2</span> <span class="n">indicates</span> <span class="n">that</span> <span class="n">an</span> <span class="n">interaction</span> <span class="k">with</span> <span class="n">a</span> <span class="n">service</span> <span class="n">provided</span> <span class="n">by</span> <span class="n">the</span> <span class="n">manufacturer</span> <span class="ow">is</span> <span class="n">required</span>
          <span class="k">for</span> <span class="n">initial</span> <span class="n">device</span> <span class="n">setup</span> <span class="n">before</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">available</span> <span class="k">for</span> <span class="n">commissioning</span> <span class="n">by</span> <span class="nb">any</span> <span class="n">Commissioner</span><span class="o">.</span>
<span class="n">Discovery</span> <span class="n">Capabilities</span> <span class="n">Bitmask</span>
    <span class="mi">8</span><span class="o">-</span><span class="n">bit</span> <span class="n">capabilities</span> <span class="n">bitmask</span>
<span class="n">Discriminator</span> <span class="n">value</span>
    <span class="mi">12</span><span class="o">-</span><span class="n">bit</span> <span class="n">unsigned</span> <span class="n">integer</span>
      <span class="n">For</span> <span class="n">machine</span><span class="o">-</span><span class="n">readable</span> <span class="n">formats</span><span class="p">,</span> <span class="n">the</span> <span class="n">full</span> <span class="mi">12</span><span class="o">-</span><span class="n">bit</span> <span class="n">Discriminator</span> <span class="ow">is</span> <span class="n">used</span><span class="o">.</span>
      <span class="n">For</span> <span class="n">the</span> <span class="n">Manual</span> <span class="n">Pairing</span> <span class="n">Code</span><span class="p">,</span> <span class="n">only</span> <span class="n">the</span> <span class="n">upper</span> <span class="mi">4</span> <span class="n">bits</span> <span class="n">out</span> <span class="n">of</span> <span class="n">the</span> <span class="mi">12</span><span class="o">-</span><span class="n">bit</span> <span class="n">Discriminator</span> <span class="n">are</span> <span class="n">used</span><span class="o">.</span>
    <span class="n">Usage</span><span class="p">:</span> <span class="n">distinguish</span> <span class="n">between</span> <span class="n">advertising</span> <span class="n">devices</span><span class="p">,</span> <span class="n">this</span> <span class="n">value</span> <span class="n">SHOULD</span> <span class="n">be</span> <span class="n">different</span> <span class="k">for</span> <span class="n">each</span> <span class="n">individual</span> <span class="n">device</span><span class="o">.</span>
<span class="n">Passcode</span>
    <span class="mi">27</span><span class="o">-</span><span class="n">bit</span> <span class="n">unsigned</span> <span class="n">integer</span>
    <span class="mh">0x0000001</span> <span class="n">to</span> <span class="mh">0x5F5E0FE</span> <span class="p">(</span><span class="mi">00000001</span> <span class="n">to</span> <span class="mi">99999998</span> <span class="ow">in</span> <span class="n">decimal</span><span class="p">)</span>
<span class="n">TLV</span> <span class="n">Data</span>
    <span class="n">Tag</span> <span class="n">Length</span> <span class="n">Value</span>
</pre></div>
</div>
<figure class="align-default" id="id111">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/5jJvxb.png" src="https://img.zhaoweiguo.com/uPic/2022/11/5jJvxb.png" />
<figcaption>
<p><span class="caption-text">Table 35. Packed Binary Data Structure for Onboarding Payload</span><a class="headerlink" href="#id111" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id112">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/04WU8e.png" src="https://img.zhaoweiguo.com/uPic/2022/11/04WU8e.png" />
<figcaption>
<p><span class="caption-text">Table 36. Discovery Capabilities Bitmask</span><a class="headerlink" href="#id112" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>5.1.2 Onboarding Material Representation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Matter</span> <span class="n">Brand</span> <span class="n">Guidelines</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">characteristics</span> <span class="n">like</span><span class="p">:</span>
  <span class="n">composition</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">font</span> <span class="n">size</span><span class="p">,</span> <span class="n">QR</span> <span class="n">Code</span> <span class="n">size</span> <span class="ow">and</span> <span class="n">digit</span><span class="o">-</span><span class="n">grouping</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Manual</span> <span class="n">Pairing</span> <span class="n">code</span><span class="o">.</span>
</pre></div>
</div>
<p>5.1.3. QR Code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>QR code string := &lt;prefix&gt;&lt;base-38-content&gt;

&lt;prefix&gt;: ``MT:``
&lt;base-38-content&gt;:  (A-Z0-9.-)
</pre></div>
</div>
<p>5.1.4. Manual Pairing Code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">it</span> <span class="n">SHOULD</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">mechanism</span> <span class="n">such</span> <span class="k">as</span> <span class="n">a</span> <span class="n">copy</span> <span class="n">button</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">easy</span> <span class="n">conveyance</span>
    <span class="n">of</span> <span class="n">the</span> <span class="n">information</span> <span class="n">to</span> <span class="n">other</span> <span class="n">commissioners</span> <span class="n">on</span> <span class="n">the</span> <span class="n">same</span> <span class="n">device</span><span class="o">.</span>
</pre></div>
</div>
<p>5.1.5. TLV Content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">variable</span><span class="o">-</span><span class="n">length</span> <span class="n">TLV</span> <span class="n">Data</span> <span class="n">section</span> <span class="n">MAY</span> <span class="n">be</span> <span class="n">encoded</span> <span class="n">into</span> <span class="n">the</span> <span class="n">Packed</span> <span class="n">Binary</span> <span class="n">Data</span> <span class="n">Structure</span><span class="o">.</span>
<span class="n">The</span> <span class="n">TLV</span> <span class="n">section</span> <span class="n">MAY</span> <span class="n">consist</span> <span class="n">of</span> <span class="n">manufacturer</span><span class="o">-</span><span class="n">specific</span> <span class="n">information</span> <span class="n">elements</span>
    <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">elements</span> <span class="n">common</span> <span class="n">to</span> <span class="n">Matter</span><span class="p">,</span> <span class="n">encoded</span> <span class="n">using</span> <span class="n">TLV</span><span class="o">.</span>
</pre></div>
</div>
<p>5.1.6. Concatenation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MAY</span> <span class="n">be</span> <span class="n">concatenated</span> <span class="k">with</span> <span class="n">additional</span> <span class="n">Onboarding</span> <span class="n">Payloads</span> <span class="n">to</span> <span class="n">be</span> <span class="n">placed</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">single</span> <span class="n">QR</span> <span class="n">Code</span><span class="p">:</span>
<span class="n">QR</span> <span class="n">code</span> <span class="n">string</span> <span class="o">:=</span> <span class="n">MT</span><span class="p">:</span><span class="o">&lt;</span><span class="n">onboarding</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mi">38</span><span class="o">-</span><span class="n">content</span><span class="o">&gt;*&lt;</span><span class="n">onboarding</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mi">38</span><span class="o">-</span><span class="n">content2</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>5.1.7. Generation of the Passcode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">support</span> <span class="n">either</span> <span class="n">dynamic</span> <span class="ow">or</span> <span class="n">static</span> <span class="n">passcodes</span> <span class="k">for</span> <span class="n">purposes</span> <span class="n">of</span> <span class="n">establishing</span> <span class="n">the</span> <span class="n">shared</span> <span class="n">secret</span>
    <span class="k">for</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">secure</span> <span class="n">channel</span> <span class="n">over</span> <span class="n">which</span> <span class="n">further</span> <span class="n">onboarding</span> <span class="n">steps</span> <span class="n">take</span> <span class="n">place</span><span class="o">.</span>
</pre></div>
</div>
<p>5.1.8. NFC Tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">data</span> <span class="n">contained</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">NFC</span> <span class="n">tag</span> <span class="n">SHALL</span> <span class="n">be</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">specified</span> <span class="ow">in</span> <span class="n">QR</span> <span class="n">Code</span> <span class="n">Format</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="initiating-commissioning">
<h3>5.2. Initiating Commissioning<a class="headerlink" href="#initiating-commissioning" title="此标题的永久链接">¶</a></h3>
<p>Commissioner Setup Code Entry, Not Yet Commissioned Device-&gt;Launch Commissioner, Enter Code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">User</span> <span class="n">initiates</span> <span class="n">an</span> <span class="n">interaction</span> <span class="k">with</span> <span class="n">a</span> <span class="n">Commissioner</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">User</span> <span class="n">inputs</span> <span class="n">the</span> <span class="n">onboarding</span> <span class="n">payload</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">Commissionee</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">Commissioner</span> <span class="n">determines</span> <span class="n">which</span> <span class="n">technologies</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="n">Device</span> <span class="n">Discovery</span><span class="o">.</span>
    <span class="n">IP</span><span class="o">-</span><span class="n">bearing</span> <span class="n">networks</span><span class="p">:</span>
      <span class="n">Commissionable</span> <span class="n">Node</span> <span class="n">Discovery</span> <span class="n">method</span>
      <span class="n">DNS</span><span class="o">-</span><span class="n">SD</span> <span class="n">service</span> <span class="n">subtypes</span> <span class="k">for</span> <span class="n">long</span> <span class="ow">or</span> <span class="n">short</span> <span class="n">discriminator</span>
      <span class="n">Commissioning</span> <span class="n">mode</span> <span class="n">are</span> <span class="n">specified</span> <span class="n">to</span> <span class="nb">filter</span> <span class="n">the</span> <span class="n">results</span> <span class="n">to</span> <span class="n">Commissionees</span>
          <span class="k">match</span> <span class="n">the</span> <span class="n">discriminator</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">onboarding</span> <span class="n">payload</span>
          <span class="ow">in</span> <span class="n">Commissioning</span> <span class="n">Mode</span>
    <span class="n">BLE</span> <span class="ow">or</span> <span class="n">Soft</span><span class="o">-</span><span class="n">AP</span> <span class="n">advertisements</span><span class="p">:</span>
      <span class="n">the</span> <span class="n">discriminator</span> <span class="n">will</span> <span class="n">typically</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="nb">filter</span> <span class="n">the</span> <span class="n">results</span><span class="o">.</span>
<span class="mf">4.</span> <span class="n">Commissioner</span> <span class="n">begins</span> <span class="n">the</span> <span class="n">Commissioning</span> <span class="n">process</span>
</pre></div>
</div>
<p>User-Initiated Beacon Detection, Not Yet Commissioned Device-&gt;Launch Commissioner, Discover New Devices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">User</span> <span class="n">initiates</span> <span class="n">an</span> <span class="n">interaction</span> <span class="k">with</span> <span class="n">a</span> <span class="n">Commissioner</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">User</span> <span class="n">indicates</span> <span class="n">an</span> <span class="n">intention</span> <span class="n">to</span> <span class="n">commission</span> <span class="n">devices</span> <span class="n">without</span> <span class="n">providing</span> <span class="n">additional</span> <span class="n">information</span> <span class="n">about</span> <span class="n">them</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">Commissioner</span> <span class="n">determines</span> <span class="n">which</span> <span class="n">technologies</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="n">Device</span> <span class="n">Discovery</span><span class="o">.</span>
<span class="mf">4.</span> <span class="n">Commissioner</span> <span class="n">constructs</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">Commissionees</span> <span class="n">discovered</span>
    <span class="n">VID</span><span class="p">,</span> <span class="n">PID</span>
    <span class="n">ProductName</span><span class="p">,</span> <span class="n">ProductLabel</span>
    <span class="n">UserManualUrl</span><span class="p">,</span> <span class="n">SupportUrl</span><span class="p">,</span> <span class="ow">and</span> <span class="n">ProductUrl</span>
<span class="mf">5.</span> <span class="n">User</span> <span class="n">selects</span> <span class="n">Commissionee</span> <span class="kn">from</span><span class="w"> </span><span class="nn">list.</span>
<span class="mf">6.</span> <span class="n">Commissioner</span> <span class="n">instructs</span> <span class="n">the</span> <span class="n">user</span> <span class="n">to</span> <span class="n">locate</span> <span class="ow">and</span> <span class="nb">input</span> <span class="n">the</span> <span class="n">onboarding</span> <span class="n">payload</span><span class="o">.</span>
<span class="mf">7.</span> <span class="n">Commissioner</span> <span class="n">begins</span> <span class="n">the</span> <span class="n">Commissioning</span> <span class="n">process</span>
</pre></div>
</div>
<p>User-Initiated Beacon Detection, Already Commissioned Device-&gt;Launch Commissioner, Discover My devices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">User</span> <span class="n">initiates</span> <span class="n">an</span> <span class="n">interaction</span> <span class="k">with</span> <span class="n">a</span> <span class="n">Commissioner</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">User</span> <span class="n">indicates</span> <span class="n">an</span> <span class="n">intention</span> <span class="n">to</span> <span class="n">commission</span> <span class="n">existing</span> <span class="n">devices</span> <span class="n">on</span> <span class="n">the</span> <span class="n">IP</span> <span class="n">network</span>
        <span class="n">without</span> <span class="n">providing</span> <span class="n">additional</span> <span class="n">information</span> <span class="n">about</span> <span class="n">them</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">Commissioner</span> <span class="n">sends</span> <span class="n">the</span> <span class="n">Commissionable</span> <span class="n">Node</span> <span class="n">Discovery</span> <span class="n">broadcast</span> <span class="n">message</span><span class="o">.</span>
<span class="mf">4.</span> <span class="n">Commissioner</span> <span class="n">constructs</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">Commissionees</span> <span class="n">discovered</span>
<span class="mf">5.</span> <span class="n">User</span> <span class="n">selects</span> <span class="n">Commissionee</span> <span class="kn">from</span><span class="w"> </span><span class="nn">list.</span>
<span class="mf">6.</span> <span class="n">DNS</span><span class="o">-</span><span class="n">SD</span> <span class="n">TXT</span> <span class="n">record</span><span class="p">(</span><span class="n">includes</span> <span class="n">key</span><span class="o">/</span><span class="n">value</span> <span class="n">pairs</span><span class="p">)</span><span class="n">can</span> <span class="n">help</span> <span class="n">the</span> <span class="n">Commissioner</span>
    <span class="n">to</span> <span class="n">guide</span> <span class="n">the</span> <span class="n">user</span> <span class="n">through</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">steps</span> <span class="n">of</span> <span class="n">the</span> <span class="n">commissioning</span> <span class="n">process</span><span class="o">.</span>
<span class="mf">7.</span> <span class="n">If</span> <span class="ow">not</span> <span class="n">already</span> <span class="ow">in</span> <span class="n">Commissioning</span> <span class="n">Mode</span><span class="p">,</span>
    <span class="n">Commissioner</span> <span class="n">instructs</span> <span class="n">the</span> <span class="n">user</span> <span class="n">to</span> <span class="n">put</span> <span class="n">the</span> <span class="n">Commissionee</span> <span class="n">into</span> <span class="n">Commissioning</span> <span class="n">Mode</span>
<span class="mf">8.</span> <span class="n">Commissioner</span> <span class="n">instructs</span> <span class="n">the</span> <span class="n">user</span> <span class="n">to</span> <span class="n">locate</span> <span class="ow">and</span> <span class="nb">input</span> <span class="n">the</span> <span class="n">onboarding</span> <span class="n">payload</span><span class="o">.</span>
<span class="mf">9.</span> <span class="n">Commissioner</span> <span class="n">begins</span> <span class="n">the</span> <span class="n">Commissioning</span> <span class="n">process</span>
</pre></div>
</div>
<p>Commissioner Discovery, from an On-Network Device-&gt;Launch Device UserInterface, Discover Commissioners:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Use</span> <span class="n">case</span> <span class="k">for</span> <span class="n">a</span> <span class="n">Device</span> <span class="n">already</span> <span class="n">on</span> <span class="n">the</span> <span class="n">IP</span> <span class="n">network</span><span class="p">(</span> <span class="n">TV</span> <span class="ow">or</span> <span class="n">Thermostat</span><span class="p">)</span>
<span class="mf">1.</span> <span class="n">User</span> <span class="n">initiates</span> <span class="n">an</span> <span class="n">interaction</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Device</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">User</span> <span class="n">indicates</span> <span class="n">a</span> <span class="n">desire</span> <span class="n">to</span> <span class="n">connect</span> <span class="n">this</span> <span class="n">Device</span> <span class="k">with</span> <span class="n">a</span> <span class="n">Commissioner</span> <span class="n">on</span> <span class="n">the</span> <span class="n">network</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">Device</span> <span class="n">uses</span> <span class="n">Commissioner</span> <span class="n">Discovery</span> <span class="n">over</span> <span class="n">DNS</span><span class="o">-</span><span class="n">SD</span> <span class="n">on</span> <span class="n">the</span> <span class="n">IP</span> <span class="n">bearing</span> <span class="n">network</span><span class="o">.</span>
<span class="mf">4.</span> <span class="n">Device</span> <span class="n">collects</span> <span class="n">candidates</span> <span class="kn">from</span><span class="w"> </span><span class="nn">DNS</span><span class="o">-</span><span class="n">SD</span> <span class="n">service</span> <span class="n">records</span> <span class="n">found</span><span class="o">.</span>
<span class="mf">5.</span> <span class="n">Device</span> <span class="n">displays</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">Commissioners</span> <span class="n">discovered</span>
<span class="mf">6.</span> <span class="n">User</span> <span class="n">selects</span> <span class="n">an</span> <span class="n">entry</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="nb">list</span><span class="o">.</span>
<span class="mf">7.</span> <span class="n">Device</span> <span class="n">enters</span> <span class="n">Commissioning</span> <span class="n">Mode</span><span class="o">.</span>
<span class="mf">8.</span> <span class="n">Device</span> <span class="n">displays</span> <span class="n">onboarding</span> <span class="n">payload</span> <span class="n">to</span> <span class="n">the</span> <span class="n">user</span><span class="o">.</span>
<span class="mf">9.</span> <span class="n">Device</span> <span class="n">initiates</span> <span class="n">a</span> <span class="n">User</span> <span class="n">Directed</span> <span class="n">Commissioning</span> <span class="n">session</span> <span class="k">with</span> <span class="n">the</span> <span class="n">selected</span> <span class="n">Commissioner</span><span class="p">,</span>
    <span class="n">which</span> <span class="n">includes</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">DNS</span><span class="o">-</span><span class="n">SD</span> <span class="n">service</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Device</span><span class="o">.</span>
<span class="mf">10.</span> <span class="n">Commissioner</span> <span class="n">prompts</span> <span class="n">user</span> <span class="n">to</span> <span class="n">confirm</span> <span class="n">intention</span> <span class="n">to</span> <span class="n">commission</span> <span class="n">this</span> <span class="n">device</span>
    <span class="ow">and</span> <span class="n">asks</span> <span class="k">for</span> <span class="n">onboarding</span> <span class="n">payload</span><span class="o">.</span>
<span class="mf">11.</span> <span class="n">User</span> <span class="n">enters</span> <span class="n">onboarding</span> <span class="n">payload</span> <span class="n">into</span> <span class="n">Commissioner</span> <span class="n">UX</span><span class="o">.</span>
<span class="mf">12.</span> <span class="n">Commissioner</span> <span class="n">begins</span> <span class="n">the</span> <span class="n">commissioning</span> <span class="n">process</span>
</pre></div>
</div>
</section>
<section id="user-directed-commissioning">
<h3>5.3. User Directed Commissioning<a class="headerlink" href="#user-directed-commissioning" title="此标题的永久链接">¶</a></h3>
<section id="id8">
<h4>5.3.1. Overview<a class="headerlink" href="#id8" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The Commissionee sends a message to the Commissioner in order to initiate the commissioning process(see Section 5.5, “Commissioning Flows”).</p></li>
<li><p>One possible user journey for this feature is described in <code class="docutils literal notranslate"><span class="pre">Commissioner</span> <span class="pre">Discovery</span> <span class="pre">from</span> <span class="pre">an</span> <span class="pre">Existing</span> <span class="pre">Device</span></code>.</p></li>
</ul>
<figure class="align-default" id="id113">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/50eBQv.png" src="https://img.zhaoweiguo.com/uPic/2022/11/50eBQv.png" />
<figcaption>
<p><span class="caption-text">Figure 29. Overview of the UDC Protocol(The Commissionee is the Initiator and the Commissioner is the Recipient.)</span><a class="headerlink" href="#id113" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="udc-protocol-messages">
<h4>5.3.2. UDC Protocol Messages<a class="headerlink" href="#udc-protocol-messages" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id114">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/Pu0SL3.png" src="https://img.zhaoweiguo.com/uPic/2022/11/Pu0SL3.png" />
<figcaption>
<p><span class="caption-text">Table 43. User Directed Commissioning Protocol</span><a class="headerlink" href="#id114" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="id9">
<h4>5.3.3. Message format<a class="headerlink" href="#id9" title="此标题的永久链接">¶</a></h4>
<p>All UDC messages are unsecured at the message layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• The Session ID field SHALL be set to 0.
• The Session Type bits of the Security Flags SHALL be set to 0.
• The S Flag and DSIZ fields of the Message Flags SHALL be set to 0.
</pre></div>
</div>
<ul class="simple">
<li><p>The R Flag of the Exchange Flags for the UDC messages SHALL be set to 0.</p></li>
<li><p>For each UDC message, the application payload is the TLV encoding of the message structure as defined below:</p></li>
</ul>
<figure class="align-default" id="id115">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/D3owlX.png" src="https://img.zhaoweiguo.com/uPic/2022/11/D3owlX.png" />
<figcaption>
<p><span class="caption-text">Table 44. UDC Messages</span><a class="headerlink" href="#id115" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="id10">
<h4>5.3.4. Message Exchanges<a class="headerlink" href="#id10" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The I Flag of the Exchange Flags for the UDC messages SHALL be set to 1.</p></li>
<li><p>The Initiator MAY send up to 4 retries.</p></li>
<li><p>Each retransmission SHALL be delayed by at least 100ms from the previous transmission.</p></li>
<li><p>The other fields of the Protocol Header are not specific to the UDC messages.</p></li>
</ul>
</section>
</section>
<section id="device-discovery">
<h3>5.4. Device Discovery<a class="headerlink" href="#device-discovery" title="此标题的永久链接">¶</a></h3>
<p>5.4.1. Purpose and Scope:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>describe the process by which a device is discovered
    in order to commission it onto an operational Fabric.

1. BLE commissioning
    Generic Access Profile (GAP) for discovery and for connection establishment
    Generic Attribute Profile (GATT) for credential conveyance.
2. Wi-Fi commissioning
    Soft-AP functionality where the device acts as an Access Point (AP)
        that doesn’t provide Internet connectivity.
3. Over IP if a device is already on an IP network
    discover such a device using DNS-based Service Discovery (DNS-SD),
        conveying credentials to the device over IP.
</pre></div>
</div>
<p>5.4.2. Announcement by Device:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">how</span> <span class="n">devices</span> <span class="n">announce</span> <span class="n">their</span> <span class="n">commissionable</span> <span class="n">status</span>
    <span class="n">to</span> <span class="n">allow</span> <span class="n">a</span> <span class="n">Commissioner</span> <span class="n">to</span> <span class="n">discover</span> <span class="n">the</span> <span class="n">device</span> <span class="n">to</span> <span class="n">be</span> <span class="n">commissioned</span><span class="o">.</span>

<span class="mf">1.</span> <span class="n">Technology</span> <span class="n">Priority</span>
    <span class="n">announce</span> <span class="ow">in</span> <span class="nb">any</span> <span class="n">order</span> <span class="n">of</span> <span class="n">priority</span> <span class="n">on</span> <span class="nb">all</span> <span class="n">of</span> <span class="n">the</span> <span class="n">networking</span> <span class="n">technologies</span><span class="p">(</span><span class="n">Soft</span><span class="o">-</span><span class="n">AP</span><span class="p">,</span> <span class="n">BLE</span><span class="p">,</span> <span class="n">IP</span> <span class="n">network</span><span class="p">)</span>
<span class="mf">2.</span> <span class="n">Announcement</span> <span class="n">Commencement</span>
    <span class="n">A</span> <span class="n">device</span> <span class="n">which</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">commissioned</span> <span class="n">into</span> <span class="n">a</span> <span class="n">Matter</span> <span class="n">fabric</span> <span class="n">SHALL</span>
        <span class="n">commence</span> <span class="n">announcing</span> <span class="n">its</span> <span class="n">ability</span> <span class="n">to</span> <span class="n">be</span> <span class="n">commissioned</span> <span class="n">depending</span> <span class="n">on</span>
        <span class="n">its</span> <span class="n">primary</span> <span class="n">device</span> <span class="n">function</span> <span class="ow">and</span> <span class="n">manufacturer</span><span class="o">-</span><span class="n">chosen</span> <span class="n">Device</span> <span class="n">Commissioning</span> <span class="n">Flow</span><span class="p">,</span> <span class="n">per</span> <span class="n">the</span> <span class="n">following</span> <span class="n">table</span><span class="o">.</span>
    <span class="n">Nodes</span> <span class="n">already</span> <span class="n">commissioned</span> <span class="n">into</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">Matter</span> <span class="n">fabrics</span> <span class="ow">and</span> <span class="n">wishing</span> <span class="n">to</span> <span class="n">announce</span> <span class="n">SHALL</span> <span class="n">ONLY</span>
        <span class="n">do</span> <span class="n">so</span> <span class="n">using</span> <span class="n">DNS</span><span class="o">-</span><span class="n">SD</span> <span class="n">over</span> <span class="n">their</span> <span class="n">operational</span> <span class="n">network</span>
    <span class="n">In</span> <span class="n">the</span> <span class="n">interest</span> <span class="n">of</span> <span class="n">privacy</span><span class="p">,</span> <span class="n">an</span> <span class="n">already</span><span class="o">-</span><span class="n">commissioned</span> <span class="n">Node</span> <span class="n">SHALL</span> <span class="n">NOT</span> <span class="n">commence</span> <span class="n">announcement</span>
        <span class="n">using</span> <span class="n">Bluetooth</span> <span class="n">LE</span> <span class="ow">or</span> <span class="n">Wi</span><span class="o">-</span><span class="n">Fi</span> <span class="n">Soft</span><span class="o">-</span><span class="n">AP</span> <span class="n">technologies</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">Announcement</span> <span class="n">Duration</span>
    <span class="n">In</span> <span class="n">order</span> <span class="n">to</span> <span class="n">minimize</span> <span class="n">unnecessary</span> <span class="n">pollution</span> <span class="n">of</span> <span class="n">the</span> <span class="n">crowded</span> <span class="mf">2.4</span> <span class="n">GHz</span> <span class="n">wireless</span> <span class="n">spectrum</span>
        <span class="n">device</span> <span class="n">SHALL</span> <span class="n">NOT</span> <span class="n">announce</span> <span class="k">for</span> <span class="n">a</span> <span class="n">duration</span> <span class="n">longer</span> <span class="n">than</span> <span class="mi">15</span> <span class="n">minutes</span> <span class="n">after</span> <span class="n">announcement</span> <span class="n">commences</span><span class="o">.</span>
    <span class="n">To</span> <span class="n">help</span> <span class="n">strike</span> <span class="n">a</span> <span class="n">balance</span> <span class="n">between</span> <span class="n">a</span> <span class="n">good</span> <span class="n">setup</span> <span class="n">experience</span> <span class="ow">and</span> <span class="n">conserving</span> <span class="n">battery</span> <span class="n">life</span>
        <span class="n">device</span> <span class="n">SHALL</span> <span class="n">NOT</span> <span class="n">announce</span> <span class="k">for</span> <span class="n">a</span> <span class="n">duration</span> <span class="n">of</span> <span class="n">less</span> <span class="n">than</span> <span class="mi">3</span> <span class="n">minutes</span> <span class="n">after</span> <span class="n">announcement</span> <span class="n">commences</span><span class="o">.</span>
    <span class="n">Note</span><span class="p">:</span>
        <span class="n">A</span> <span class="n">failed</span> <span class="n">attempt</span> <span class="n">to</span> <span class="n">commission</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">restart</span> <span class="ow">or</span> <span class="n">delay</span> <span class="n">the</span> <span class="n">timeout</span><span class="o">.</span>
        <span class="n">Moreover</span><span class="p">,</span> <span class="n">this</span> <span class="n">timeout</span> <span class="n">applies</span> <span class="n">only</span> <span class="n">to</span> <span class="n">cessation</span> <span class="n">of</span> <span class="n">announcements</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">to</span> <span class="n">abortion</span> <span class="n">of</span> <span class="n">connections</span>
<span class="mf">4.</span> <span class="n">Discovery</span> <span class="n">Information</span>
    <span class="n">Discriminator</span><span class="p">:</span> <span class="mi">12</span><span class="o">-</span><span class="n">bit</span>
    <span class="n">Vendor</span> <span class="n">ID</span><span class="p">:</span> <span class="mi">16</span><span class="o">-</span><span class="n">bit</span>
    <span class="n">Product</span> <span class="n">ID</span><span class="p">:</span> <span class="mi">16</span><span class="o">-</span><span class="n">bit</span>
    <span class="n">Extended</span> <span class="n">Data</span><span class="p">:</span> <span class="n">Variable</span>
<span class="mf">5.</span> <span class="n">Using</span> <span class="n">BLE</span>
<span class="mf">6.</span> <span class="n">Using</span> <span class="n">Wi</span><span class="o">-</span><span class="n">Fi</span> <span class="n">Temporary</span> <span class="n">Access</span> <span class="n">Points</span> <span class="p">(</span><span class="n">Soft</span><span class="o">-</span><span class="n">AP</span><span class="p">)</span>
<span class="mf">7.</span> <span class="n">Using</span> <span class="n">Existing</span> <span class="n">IP</span><span class="o">-</span><span class="n">bearing</span> <span class="n">Network</span>
</pre></div>
</div>
<p>5.4.3. Discovery by Commissioner:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Using</span> <span class="n">BLE</span>
<span class="mf">2.</span> <span class="n">Using</span> <span class="n">Wi</span><span class="o">-</span><span class="n">Fi</span>
<span class="mf">3.</span> <span class="n">Using</span> <span class="n">Existing</span> <span class="n">IP</span><span class="o">-</span><span class="n">bearing</span> <span class="n">Network</span>
</pre></div>
</div>
</section>
<section id="commissioning-flows">
<h3>5.5. Commissioning Flows<a class="headerlink" href="#commissioning-flows" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>concurrent connection commissioning flow</p></li>
<li><p>non-concurrent connection commissioning flow</p></li>
<li><p>One connection is between the Commissioner (or Commissionee) and the operational network (e.g., home Wi-Fi network or Thread network) that the Commissionee is being programmed to join.</p></li>
<li><p>The second connection is between the Commissioner and Commissionee for commissioning as is referred to as <code class="docutils literal notranslate"><span class="pre">commissioning</span> <span class="pre">channel</span></code>.</p></li>
<li><p>A Commissioner and Commissionee with non-concurrent connection capability cannot be simultaneously connected to both the <code class="docutils literal notranslate"><span class="pre">operational</span> <span class="pre">network</span></code> that the Commissionee is being configured to join, and the <code class="docutils literal notranslate"><span class="pre">commissioning</span> <span class="pre">channel</span></code>.</p></li>
<li><p>In order to avoid locking out the Commissionee from accepting new PASE session requests indefinitely, a Commissionee SHALL expect a PASE session to be established within 60 seconds of receiving the initial request.</p></li>
</ul>
<ol class="arabic simple">
<li><p>The Commissioner initiating the commissioning SHALL have regulatory and fabric information available, and SHOULD have accurate date, time and timezone.</p></li>
<li><p>Commissioner and Commissionee SHALL find each other over networking interfaces such as Bluetooth, Wi-Fi, or Ethernet using the process of discovery and establish a commissioning channel between each other</p></li>
<li><p>Commissioner and Commissionee SHALL establish encryption keys with PASE on the commissioning channel.</p></li>
<li><p>Commissioner SHALL re-arm the Fail-safe timer on the Commissionee to the desired commissioning timeout within 60 seconds of the completion of PASE session establishment, using the ArmFailSafe command</p></li>
<li><p>Commissioner SHALL configure regulatory information in the Commissionee if it has at least one instance of Network Commissioning cluster on any endpoint with either the WI (i.e. Wi-Fi) or TH (i.e. Thread) feature flags set in its FeatureMap.</p></li>
<li><p>Commissioner SHALL establish the authenticity of the Commissionee as a certified Matter device</p></li>
<li><p>Following the Device Attestation Procedure yielding a decision to proceed with commissioning, the Commissioner SHALL request operational CSR from Commissionee using the CSRRequest command. The CSRRequest command will cause the generation of a new operational key pair at the Commissionee.</p></li>
<li><p>Commissioner SHALL generate or otherwise obtain an Operational Certificate containing Operational ID after receiving the CSRResponse command from the Commissionee (see Section 11.17.7.5, “CSRRequest Command”), using implementation-specific means.</p></li>
<li><p>Commissioner SHALL install operational credentials (see Figure 38, “Node Operational Credentials flow”) on the Commissionee using the AddTrustedRootCertificate and AddNOC commands.</p></li>
<li><p>Commissioner MAY configure the Access Control List on the Commissionee in any way it sees fit, if the singular entry added by the AddNOC command in the previous step, granting Administer privilege over CASE authentication type for the Node ID provided with the command, is not sufficient to express its desired access control policies.</p></li>
<li><p>If the Commissionee both supports it and requires it, the Commissioner SHALL configure the operational network at the Commissionee using commands such as AddOrUpdateWiFiNetwork and AddOrUpdateThreadNetwork. A Commissionee requires network commissioning if it is not already on the desired operational network. A Commissionee supports network commissioning if it has any NetworkCommissioning cluster instances. A Commissioner MAY learn about the networks visible to the Commissionee using ScanNetworks command (see Section 11.8.8.2, “ScanNetworks Command”).</p></li>
<li><p>The Commissioner SHALL trigger the Commissionee to connect to the operational network using ConnectNetwork command (see Section 11.8.8.10, “ConnectNetwork Command”) unless the Commissionee is already on the desired operational network.</p></li>
<li><p>Finalization of the Commissioning process begins. An Administrator configured in the ACL of the Commissionee by the Commissioner SHALL use Operational Discovery to discover the Commissionee. This Administrator MAY be the Commissioner itself, or another Node to which the Commissioner has delegated the task.</p></li>
<li><p>The Administrator SHALL open a CASE session with the Commissionee over the operational network.</p></li>
<li><p>The Administrator having established a CASE session with the Commissionee over the operational network in the previous steps SHALL invoke the CommissioningComplete command (see Section 11.9.7.6, “CommissioningComplete Command”). A success response after invocation of the CommissioningComplete command ends the commissioning process.</p></li>
</ol>
<section id="commissioning-flows-error-handling">
<h4>5.5.1. Commissioning Flows Error Handling<a class="headerlink" href="#commissioning-flows-error-handling" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>In both concurrent/non-concurrent connection commissioning flow, the Commissionee SHALL exit Commissioning Mode after 20 failed attempts.</p></li>
<li><p>In both concurrent/non-concurrent connection commissioning flow, the failure of any of the steps 2 through 10 SHALL result in the Commissioner and Commissionee returning to step 2 (device discovery and commissioning channel establishment) and repeating each step.</p></li>
<li><p>In concurrent connection commissioning flow, the failure of any of the steps 11 through 15 in concurrent connection commissioning flow SHALL result in the Commissioner and Commissionee returning to step 11 (configuration of operational network information). the Commissioner and Commissionee SHALL reuse the existing PASE-derived encryption keys over the commissioning channel and all steps up to and including step 10 are considered to have been successfully completed.</p></li>
<li><p>Once a Commissionee has been successfully commissioned by a Commissioner into its fabric, the commissioned Node SHALL NOT accept any more PASE requests until any one of the following conditions is met: (1)• Device is factory-reset. (2)• Device enters commissioning mode.</p></li>
</ul>
</section>
<section id="commissioning-flow-diagrams">
<h4>5.5.2. Commissioning Flow Diagrams<a class="headerlink" href="#commissioning-flow-diagrams" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id116">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/9B336C77-76AE-4F3F-BF67-308B9F42AA46.png" src="https://img.zhaoweiguo.com/uPic/2022/11/9B336C77-76AE-4F3F-BF67-308B9F42AA46.png" />
<figcaption>
<p><span class="caption-text">Figure 30. Concurrent connection commissioning flow</span><a class="headerlink" href="#id116" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id117">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/707CDA2E-829D-4593-8730-C11827AE5B46.png" src="https://img.zhaoweiguo.com/uPic/2022/11/707CDA2E-829D-4593-8730-C11827AE5B46.png" />
<figcaption>
<p><span class="caption-text">Figure 31. Non-concurrent connection commissioning flow</span><a class="headerlink" href="#id117" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="administrator-assisted-commissioning-flows">
<h3>5.6. Administrator Assisted Commissioning Flows<a class="headerlink" href="#administrator-assisted-commissioning-flows" title="此标题的永久链接">¶</a></h3>
<section id="introduction">
<h4>5.6.1. Introduction<a class="headerlink" href="#introduction" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>a current Administrator of a Node first sends the Open Commissioning Window command to the Node over a CASE session.</p></li>
<li><p>The new Administrator MUST already have network connectivity and complete commissioning based on the two flows described below.</p></li>
</ul>
</section>
<section id="basic-commissioning-method-bcm">
<h4>5.6.2. Basic Commissioning Method (BCM)<a class="headerlink" href="#basic-commissioning-method-bcm" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>OPTIONAL</p></li>
<li><p>Current Administrator puts the Node in Open Basic Commissioning Window for a specified time window, and receives success response from the Node on the Open Basic Commissioning Window command.</p></li>
<li><p>New Administrator completes commissioning within the prescribed window using steps outlined in Figure 30, “Concurrent connection commissioning flow”.</p></li>
</ul>
</section>
<section id="enhanced-commissioning-method-ecm">
<h4>5.6.3. Enhanced Commissioning Method (ECM)<a class="headerlink" href="#enhanced-commissioning-method-ecm" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>MANDATORY</p></li>
<li><p>Current Administrator puts the Node(s) in commissioning mode for a specified time window with a new setup passcode, and receives success responses from the involved Node(s) on the Open Commissioning Window command.</p></li>
<li><p>Current Administrator presents Onboarding Payload</p></li>
<li><p>New Administrator completes commissioning within the prescribed window using steps outlined in Figure 30, “Concurrent connection commissioning flow”.</p></li>
</ul>
</section>
<section id="open-commissioning-window">
<h4>5.6.4. Open Commissioning Window<a class="headerlink" href="#open-commissioning-window" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id118">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/4C2EAF27-D782-4B97-94D5-1F95A0C44D80.png" src="https://img.zhaoweiguo.com/uPic/2022/11/4C2EAF27-D782-4B97-94D5-1F95A0C44D80.png" />
<figcaption>
<p><span class="caption-text">Steps current Administrator takes to enable Open Commissioning Window.</span><a class="headerlink" href="#id118" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="device-commissioning-flows">
<h3>5.7. Device Commissioning Flows<a class="headerlink" href="#device-commissioning-flows" title="此标题的永久链接">¶</a></h3>
<p>The three flows are the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Standard Commissioning Flow
• User-Intent Commissioning Flow
• Custom Commissioning Flow
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Custom Commissioning Flow是一些定制化的东西。</p>
</div>
<figure class="align-default" id="id119">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/F4721C58-2D7D-49A7-A04F-7051035779F7.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/F4721C58-2D7D-49A7-A04F-7051035779F7.jpg" />
<figcaption>
<p><span class="caption-text">Figure 33. Custom Commissioning Flow sequence diagram</span><a class="headerlink" href="#id119" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="in-field-upgrade-to-matter">
<h3>5.8. In-field Upgrade to Matter<a class="headerlink" href="#in-field-upgrade-to-matter" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>pre-Matter device currently in the user’s home which gets software updated to support Matter</p></li>
</ul>
</section>
</section>
<section id="chapter-6-device-attestation-and-operational-credentials">
<h2>Chapter 6. Device Attestation and Operational Credentials<a class="headerlink" href="#chapter-6-device-attestation-and-operational-credentials" title="此标题的永久链接">¶</a></h2>
<p>This chapter describes the procedures and cryptographic credentials involved in establishing trust between entities.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Attestation</span></code> section provides mechanisms for Commissioners and Administrators to determine whether a Node is a genuine certified product before sharing sensitive information such as keys and other credentials. The <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Attestation</span></code> feature relies on a <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Attestation</span> <span class="pre">Certificate</span> <span class="pre">(DAC)</span> <span class="pre">chain</span></code> and on a <code class="docutils literal notranslate"><span class="pre">Certification</span> <span class="pre">Declaration</span> <span class="pre">(CD)</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Credentials</span></code> section describes the credentials used by all Nodes to mutually authenticate each other during <code class="docutils literal notranslate"><span class="pre">Certificate-Authenticated</span> <span class="pre">Session</span> <span class="pre">Establishment</span></code>, including the <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Certificate</span> <span class="pre">(NOC)</span> <span class="pre">chain</span></code>. These credentials form the basis of how Nodes are identified and take part in securing operational unicast communication.</p></li>
</ul>
<section id="common-conventions">
<h3>6.1. Common Conventions<a class="headerlink" href="#common-conventions" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This chapter makes use of digital certificates in several subsections.</p></li>
<li><p>The storage format of the certificates depends on application (e.g., DAC or NOC chain), but all certificates are directly compatible with X.509v3 DER representation after suitable loading or decompression.</p></li>
</ul>
<p>The following certificate formats are defined within this specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Compressed `Node Operational credentials` certificate chain elements
    in `Matter Operational Certificate Encoding` or &quot;Matter Certificate&quot; format:
    ◦ Node Operational Certificate (NOC)
    ◦ Intermediate CA Certificate (ICAC)
    ◦ Root CA Certificate (RCAC)

• Device Attestation certificate chain elements
    in Standard X.509 DER format:
    ◦ Device Attestation Certificate (DAC)
    ◦ Product Attestation Intermediate (PAI)
    ◦ Product Attestation Authority (PAA)
</pre></div>
</div>
<figure class="align-default" id="id120">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/6362B0CC-D1C3-46A4-B28F-1946780D8712.png" src="https://img.zhaoweiguo.com/uPic/2022/11/6362B0CC-D1C3-46A4-B28F-1946780D8712.png" />
<figcaption>
<p><span class="caption-text">示例</span><a class="headerlink" href="#id120" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<section id="encoding-of-matter-specific-rdns">
<h4>6.1.1. Encoding of Matter-specific RDNs<a class="headerlink" href="#encoding-of-matter-specific-rdns" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id121">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/T7ziSl.png" src="https://img.zhaoweiguo.com/uPic/2022/11/T7ziSl.png" />
<figcaption>
<p><span class="caption-text">Table 54. Matter-specific DN Object Identifiers</span><a class="headerlink" href="#id121" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>A scalar value <code class="docutils literal notranslate"><span class="pre">0x0123_4567_89AB_CDEF</span></code> for <code class="docutils literal notranslate"><span class="pre">matter-node-id</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>◦ Scalar maximal length: 8 octets (64 bits)
◦ Resulting string: &quot;0123456789ABCDEF&quot; (without quotes)
◦ Resulting length: 16 characters
</pre></div>
</div>
<ul>
<li><p>A scalar value <code class="docutils literal notranslate"><span class="pre">0xAA_33CC</span></code> for <code class="docutils literal notranslate"><span class="pre">matter-noc-cat</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>◦ Scalar maximal length: 4 octets (32 bits)
◦ Resulting string: &quot;00AA33CC&quot; (without quotes)
◦ Resulting length: 8 characters
</pre></div>
</div>
</li>
</ul>
</section>
<section id="key-identifier-extension-constraints">
<h4>6.1.2. Key Identifier Extension Constraints<a class="headerlink" href="#key-identifier-extension-constraints" title="此标题的永久链接">¶</a></h4>
<p>Further constraints related to the exact derivation appear in the following subsections:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Matter Certificates (NOC, ICAC, RCAC) Subject Key Identifier extension
• Matter Certificates Authority Key Identifier extension
• Device Attestation Certificate (DAC) extensions
• Product Attestation Intermediate (PAI) Certificate extensions
• Product Attestation Authority (PAA) Certificate extensions
</pre></div>
</div>
</section>
<section id="certificate-sizes">
<h4>6.1.3. Certificate Sizes<a class="headerlink" href="#certificate-sizes" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>All certificates SHALL NOT be longer than 600 bytes in their uncompressed DER format. This constraints SHALL apply to the entire <code class="docutils literal notranslate"><span class="pre">DAC</span> <span class="pre">chain</span> <span class="pre">(DAC,</span> <span class="pre">PAI,</span> <span class="pre">PAA)</span></code> and <code class="docutils literal notranslate"><span class="pre">NOC</span> <span class="pre">chain</span> <span class="pre">(NOC,</span> <span class="pre">ICAC,</span> <span class="pre">RCAC)</span></code>.</p></li>
<li><p>Wherever <code class="docutils literal notranslate"><span class="pre">Matter</span> <span class="pre">Operational</span> <span class="pre">Certificate</span> <span class="pre">Encoding</span></code> representation is used, all certificates SHALL NOT be longer than 400 bytes in their TLV form. This constraint only applies to the <code class="docutils literal notranslate"><span class="pre">NOC</span> <span class="pre">chain</span></code></p></li>
</ul>
</section>
<section id="presentation-of-example-certificates">
<h4>6.1.4. Presentation of example certificates<a class="headerlink" href="#presentation-of-example-certificates" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Certificate bodies are presented for exemplary purposes in multiple formats within this chapter.</p></li>
<li><p>Since the translation of an X.509 certificate from <code class="docutils literal notranslate"><span class="pre">ASN.1</span> <span class="pre">DER</span></code> format to <code class="docutils literal notranslate"><span class="pre">human-readable</span> <span class="pre">text</span></code> format may lose fidelity, textual examples SHALL NOT be considered to be normative.</p></li>
<li><p>Only direct encoding of DER encoding, such as PEM blocks, should be used to further study the examples.</p></li>
</ul>
</section>
</section>
<section id="device-attestation">
<h3>6.2. Device Attestation<a class="headerlink" href="#device-attestation" title="此标题的永久链接">¶</a></h3>
<section id="id11">
<h4>6.2.1. Introduction<a class="headerlink" href="#id11" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>This chapter describes the <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Attestation</span> <span class="pre">Certificate</span> <span class="pre">(DAC)</span></code> and the systems involved in the verification of a <code class="docutils literal notranslate"><span class="pre">DAC</span></code>.</p></li>
<li><p>The processes used to convey the DAC from a Commissionee to a Commissioner, how to verify that a Commissionee holds the private key corresponding to its DAC</p></li>
</ul>
</section>
<section id="device-attestation-certificate-dac">
<h4>6.2.2. Device Attestation Certificate (DAC)<a class="headerlink" href="#device-attestation-certificate-dac" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">DAC</span></code> also SHALL contain specific values of <code class="docutils literal notranslate"><span class="pre">Vendor</span> <span class="pre">ID</span></code> and <code class="docutils literal notranslate"><span class="pre">Product</span> <span class="pre">ID</span></code> in its subject field to indicate the Vendor ID and Product ID provenance of the attestation certificate.</p></li>
<li><p>The validity period of a DAC is determined by the vendor and MAY be set to the maximum allowed value of <code class="docutils literal notranslate"><span class="pre">99991231235959Z</span></code> GeneralizedTime to indicate that the DAC has no well-defined expiration date.</p></li>
</ul>
<section id="device-attestation-public-key-infrastructure-pki">
<h5>6.2.2.1. Device Attestation Public Key Infrastructure (PKI)<a class="headerlink" href="#device-attestation-public-key-infrastructure-pki" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The Device Attestation PKI hierarchy consists of the PAA, PAI and individual DAC.</p></li>
<li><p>A PAI SHALL be assigned to a Vendor ID value. A PAI MAY further be scoped to a single ProductID value.</p></li>
</ul>
<p>The subject of all DAC and PAI certificates SHALL be a unique combination of <code class="docutils literal notranslate"><span class="pre">commonName</span></code> (OID 2.5.4.3), <code class="docutils literal notranslate"><span class="pre">serialNumber</span></code> (OID 2.5.4.5), <code class="docutils literal notranslate"><span class="pre">organizationalUnitName</span></code> (OID 2.5.4.11), etc.</p>
<figure class="align-default" id="id122">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/A1EA3C21-5EF3-4D33-9E03-34F8AF7FD50D.png" src="https://img.zhaoweiguo.com/uPic/2022/11/A1EA3C21-5EF3-4D33-9E03-34F8AF7FD50D.png" />
<figcaption>
<p><span class="caption-text">Figure 34. Device Attestation PKI hierarchy</span><a class="headerlink" href="#id122" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="encoding-of-vendor-id-and-product-id-in-subject-and-issuer-fields">
<h5>6.2.2.2. Encoding of Vendor ID and Product ID in subject and issuer fields<a class="headerlink" href="#encoding-of-vendor-id-and-product-id-in-subject-and-issuer-fields" title="此标题的永久链接">¶</a></h5>
<p>The values for VendorID and ProductID, where possible or required in issuer or subject fields SHALL be encoded by only one of two methods, without mixing the methods within a given field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The `&quot;preferred method&quot;`, using Matter-specific `RelativeDistinguishedName` attributes:
    a. VendorID encoded as `AttributeTypeAndValue` entry with type equal to 1.3.6.1.4.1.37244.2.1
    b. ProductID encoded as `AttributeTypeAndValue` entry with type equal to 1.3.6.1.4.1.37244.2.2

2. A `&quot;fallback method&quot;`:
    a. VendorID value encoded with substring Mvid:
        i. VendorID 0xFFF1 (65521 decimal): Mvid:FFF1
        ii. VendorID 0x2A (42 decimal): Mvid:002A
    b. ProductID value encoded with substring Mpid:
        i. ProductID 0xC20A (49674 decimal): Mpid:C20A
        ii. ProductID 0x3A5 (933 decimal): Mpid:03A5
</pre></div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">&quot;preferred</span> <span class="pre">method&quot;</span></code> leaves more space for content in the commonName attribute type if present.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&quot;fallback</span> <span class="pre">method&quot;</span></code> is present to support less flexible CA infrastructure.</p></li>
</ul>
<p>VendorID 0xFFF1 and ProductID 0x00B1 can be illustrated with the following valid and invalid examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• &quot;ACME Matter Devel DAC 5CDA9899 Mvid:FFF1 Mpid:00B1&quot;: valid and recommended
• &quot;ACME Matter Devel DAC 5CDA9899 Mpid:00B1 Mvid:FFF1&quot;: valid and recommended
• &quot;Mpid:00B1,ACME Matter Devel DAC 5CDA9899,Mvid:FFF1&quot;: valid
• &quot;ACME Matter Devel DAC 5CDA9899 Mvid:FFF1Mpid:00B1&quot;: valid, but less readable
• &quot;Mvid:FFF1ACME Matter Devel DAC 5CDAMpid:00B19899&quot;: valid, but highly discouraged
• &quot;ACME Matter Devel DAC 5CDA9899 Mvid:FF1 Mpid:00B1&quot;: invalid
• &quot;ACME Matter Devel DAC 5CDA9899 Mvid:fff1 Mpid:00B1&quot;: invalid
• &quot;ACME Matter Devel DAC 5CDA9899 Mvid:FFF1 Mpid:B1&quot;: invalid
• &quot;ACME Matter Devel DAC 5CDA9899 Mpid: Mvid:FFF1&quot;: invalid
</pre></div>
</div>
<ul class="simple">
<li><p>If either the <code class="docutils literal notranslate"><span class="pre">Vendor</span> <span class="pre">ID</span> <span class="pre">(1.3.6.1.4.1.37244.2.1)</span></code> or <code class="docutils literal notranslate"><span class="pre">Product</span> <span class="pre">ID</span> <span class="pre">(1.3.6.1.4.1.37244.2.2)</span></code> Matter-specific OIDs appear in any <code class="docutils literal notranslate"><span class="pre">RelativeDistinguishedName</span></code> in the <code class="docutils literal notranslate"><span class="pre">subject</span></code> or <code class="docutils literal notranslate"><span class="pre">issuer</span></code> fields</p></li>
<li><p>then that certificate within the chain SHALL NOT have its commonName</p></li>
</ul>
</section>
<section id="id12">
<h5>6.2.2.3. Device Attestation Certificate (DAC)<a class="headerlink" href="#id12" title="此标题的永久链接">¶</a></h5>
<p>TBSCertificate structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The `version` field SHALL be set to 2 to indicate v3 certificate.
2. The `signature` field SHALL contain the identifier for signatureAlgorithm `ecdsa-with-SHA256`.
3. The `issuer` field SHALL be a sequence of `RelativeDistinguishedName` s.
4. The `issuer` field SHALL have exactly one `VendorID` value present.
5. The `issuer` field SHALL have exactly zero or one `ProductID` value present.
6. The `subject` field SHALL be a sequence of `RelativeDistinguishedName` s.
7. The `subject` field SHALL have exactly one `VendorID` value present.
8. The `subject` field SHALL have exactly one `ProductID` value present.
9. The `algorithm` field in `subjectPublicKeyInfo` field SHALL be the object identifier for `prime256v1`.
0. The certificate SHALL carry the following Extensions:
    a. `Basic Constraint` extension SHALL be marked `critical` and have the cA field set to FALSE.
    b. `Key Usage` extension SHALL be marked `critical`
        i. The KeyUsage bitstring SHALL only have the digitalSignature bit set.
        ii. Other bits SHALL NOT be set
    c. `Authority Key Identifier`
    d. `Subject Key Identifier`
1. The certificate MAY also carry the following additional Extensions:
    a. `Extended Key Usage`
    b. `Authority Information Access`
    c. `Subject Alternate Name`
</pre></div>
</div>
<p>Human-readable contents of example DAC X.509 certificate:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Certificate</span><span class="p">:</span>
     <span class="n">Data</span><span class="p">:</span>
         <span class="n">Version</span><span class="p">:</span> <span class="mi">3</span> <span class="p">(</span><span class="mh">0x2</span><span class="p">)</span>
         <span class="n">Serial</span> <span class="n">Number</span><span class="p">:</span> <span class="mi">1010560536528535133</span> <span class="p">(</span><span class="mh">0xe063b742bcfbe5d</span><span class="p">)</span>
         <span class="n">Signature</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="n">ecdsa</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">SHA256</span>
         <span class="n">Issuer</span><span class="p">:</span> <span class="n">CN</span> <span class="o">=</span> <span class="n">Matter</span> <span class="n">Test</span> <span class="n">PAI</span><span class="p">,</span> <span class="mf">1.3.6.1.4.1.37244.2.1</span> <span class="o">=</span> <span class="n">FFF1</span><span class="p">,</span>
 <span class="mf">1.3.6.1.4.1.37244.2.2</span> <span class="o">=</span> <span class="mi">8000</span>
         <span class="n">Validity</span>
             <span class="n">Not</span> <span class="n">Before</span><span class="p">:</span> <span class="n">Jun</span> <span class="mi">28</span> <span class="mi">14</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">43</span> <span class="mi">2021</span> <span class="n">GMT</span>
             <span class="n">Not</span> <span class="n">After</span> <span class="p">:</span> <span class="n">Dec</span> <span class="mi">31</span> <span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span> <span class="mi">9999</span> <span class="n">GMT</span>
          <span class="n">Subject</span><span class="p">:</span> <span class="n">CN</span> <span class="o">=</span> <span class="n">Matter</span> <span class="n">Test</span> <span class="n">DAC</span> <span class="mi">0001</span><span class="p">,</span> <span class="mf">1.3.6.1.4.1.37244.2.1</span> <span class="o">=</span> <span class="n">FFF1</span><span class="p">,</span>
 <span class="mf">1.3.6.1.4.1.37244.2.2</span> <span class="o">=</span> <span class="mi">8000</span>
         <span class="n">Subject</span> <span class="n">Public</span> <span class="n">Key</span> <span class="n">Info</span><span class="p">:</span>
             <span class="n">Public</span> <span class="n">Key</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="nb">id</span><span class="o">-</span><span class="n">ecPublicKey</span>
                 <span class="n">Public</span><span class="o">-</span><span class="n">Key</span><span class="p">:</span> <span class="p">(</span><span class="mi">256</span> <span class="n">bit</span><span class="p">)</span>
                 <span class="n">pub</span><span class="p">:</span>
                     <span class="mi">04</span><span class="p">:</span><span class="n">c2</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">83</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="n">c7</span><span class="p">:</span><span class="n">dc</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span><span class="mi">7</span><span class="n">c</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="n">be</span><span class="p">:</span><span class="n">ed</span><span class="p">:</span><span class="mi">70</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span>
                     <span class="mi">37</span><span class="p">:</span><span class="n">aa</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">85</span><span class="p">:</span><span class="n">bc</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">79</span><span class="p">:</span><span class="mi">3</span><span class="n">e</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="mi">5</span><span class="n">a</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="n">a7</span><span class="p">:</span><span class="mi">5</span><span class="n">a</span><span class="p">:</span><span class="n">d7</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span>
                     <span class="mi">52</span><span class="p">:</span><span class="mi">66</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">0</span><span class="n">a</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">8</span><span class="n">e</span><span class="p">:</span><span class="n">ec</span><span class="p">:</span><span class="n">af</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="n">fe</span><span class="p">:</span><span class="mi">70</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="n">ef</span><span class="p">:</span><span class="n">fc</span><span class="p">:</span>
                     <span class="n">ae</span><span class="p">:</span><span class="n">cb</span><span class="p">:</span><span class="n">ea</span><span class="p">:</span><span class="n">d1</span><span class="p">:</span><span class="n">f2</span><span class="p">:</span><span class="n">c3</span><span class="p">:</span><span class="n">d1</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="n">de</span><span class="p">:</span><span class="n">c2</span><span class="p">:</span><span class="n">ea</span><span class="p">:</span><span class="n">d3</span><span class="p">:</span><span class="n">d9</span><span class="p">:</span><span class="mi">92</span><span class="p">:</span>
                     <span class="mi">95</span><span class="p">:</span><span class="n">bf</span><span class="p">:</span><span class="n">ce</span><span class="p">:</span><span class="n">d6</span><span class="p">:</span><span class="n">c3</span>
                 <span class="n">ASN1</span> <span class="n">OID</span><span class="p">:</span> <span class="n">prime256v1</span>
                 <span class="n">NIST</span> <span class="n">CURVE</span><span class="p">:</span> <span class="n">P</span><span class="o">-</span><span class="mi">256</span>
         <span class="n">X509v3</span> <span class="n">extensions</span><span class="p">:</span>
             <span class="n">X509v3</span> <span class="n">Basic</span> <span class="n">Constraints</span><span class="p">:</span> <span class="n">critical</span>
                 <span class="n">CA</span><span class="p">:</span><span class="n">FALSE</span>
             <span class="n">X509v3</span> <span class="n">Key</span> <span class="n">Usage</span><span class="p">:</span> <span class="n">critical</span>
                 <span class="n">Digital</span> <span class="n">Signature</span>
             <span class="n">X509v3</span> <span class="n">Subject</span> <span class="n">Key</span> <span class="n">Identifier</span><span class="p">:</span>
                 <span class="mi">96</span><span class="p">:</span><span class="n">C2</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="n">EA</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span><span class="mi">85</span><span class="p">:</span><span class="n">C0</span><span class="p">:</span><span class="n">D1</span><span class="p">:</span><span class="mi">67</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="n">E3</span><span class="p">:</span><span class="mi">88</span><span class="p">:</span><span class="n">F1</span><span class="p">:</span><span class="n">C0</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="n">EA</span><span class="p">:</span><span class="mi">0</span><span class="n">F</span><span class="p">:</span><span class="n">D5</span>
             <span class="n">X509v3</span> <span class="n">Authority</span> <span class="n">Key</span> <span class="n">Identifier</span><span class="p">:</span>
                 <span class="n">keyid</span><span class="p">:</span><span class="n">AF</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="n">B7</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">4</span><span class="n">D</span><span class="p">:</span><span class="n">EB</span><span class="p">:</span><span class="n">D5</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="n">EC</span><span class="p">:</span><span class="mi">6</span><span class="n">E</span><span class="p">:</span><span class="n">CF</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="n">B8</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">5</span><span class="n">F</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">88</span>
     <span class="n">Signature</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="n">ecdsa</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">SHA256</span>
          <span class="mi">30</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">5</span><span class="n">f</span><span class="p">:</span><span class="n">cb</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="n">a4</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="mi">3</span><span class="n">c</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="n">a6</span><span class="p">:</span><span class="n">e8</span><span class="p">:</span><span class="n">ce</span><span class="p">:</span><span class="mi">60</span><span class="p">:</span><span class="mi">65</span><span class="p">:</span><span class="n">c6</span><span class="p">:</span><span class="n">d0</span><span class="p">:</span>
          <span class="mi">9</span><span class="n">d</span><span class="p">:</span><span class="n">a6</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">3</span><span class="n">d</span><span class="p">:</span><span class="n">c5</span><span class="p">:</span><span class="n">b2</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="n">ec</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="n">e3</span><span class="p">:</span><span class="n">d3</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="n">b7</span><span class="p">:</span><span class="mi">3</span><span class="n">e</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span>
          <span class="mi">02</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="n">b4</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">99</span><span class="p">:</span><span class="mi">0</span><span class="n">f</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">5</span><span class="n">a</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">8</span><span class="n">f</span><span class="p">:</span><span class="mi">75</span><span class="p">:</span><span class="mi">4</span><span class="n">e</span><span class="p">:</span><span class="mi">77</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span>
          <span class="mi">40</span><span class="p">:</span><span class="n">a0</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span><span class="mi">92</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">96</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">5</span><span class="n">e</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="mi">68</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="n">d9</span><span class="p">:</span><span class="mi">61</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">64</span>
</pre></div>
</div>
<p>Human-readable contents of example DAC X.509 certificate, using “fallback method” for VendorID and ProductID in Subject:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Certificate</span><span class="p">:</span>
      <span class="n">Data</span><span class="p">:</span>
           <span class="n">Version</span><span class="p">:</span> <span class="mi">3</span> <span class="p">(</span><span class="mh">0x2</span><span class="p">)</span>
          <span class="n">Serial</span> <span class="n">Number</span><span class="p">:</span> <span class="mi">7919366188737521296</span> <span class="p">(</span><span class="mh">0x6de73d970df06690</span><span class="p">)</span>
          <span class="n">Signature</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="n">ecdsa</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">SHA256</span>
          <span class="n">Issuer</span><span class="p">:</span> <span class="n">CN</span> <span class="o">=</span> <span class="n">Matter</span> <span class="n">Test</span> <span class="n">PAI</span><span class="p">,</span> <span class="mf">1.3.6.1.4.1.37244.2.1</span> <span class="o">=</span> <span class="n">FFF1</span><span class="p">,</span>
  <span class="mf">1.3.6.1.4.1.37244.2.2</span> <span class="o">=</span> <span class="mi">8000</span>
          <span class="n">Validity</span>
              <span class="n">Not</span> <span class="n">Before</span><span class="p">:</span> <span class="n">Jun</span> <span class="mi">28</span> <span class="mi">14</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">43</span> <span class="mi">2021</span> <span class="n">GMT</span>
              <span class="n">Not</span> <span class="n">After</span> <span class="p">:</span> <span class="n">Dec</span> <span class="mi">31</span> <span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span> <span class="mi">9999</span> <span class="n">GMT</span>
          <span class="n">Subject</span><span class="p">:</span> <span class="n">CN</span> <span class="o">=</span> <span class="n">Matter</span> <span class="n">Test</span> <span class="n">DAC</span> <span class="mi">0001</span> <span class="n">Mvid</span><span class="p">:</span><span class="n">FFF1</span> <span class="n">Mpid</span><span class="p">:</span><span class="mi">8000</span>
          <span class="n">Subject</span> <span class="n">Public</span> <span class="n">Key</span> <span class="n">Info</span><span class="p">:</span>
              <span class="n">Public</span> <span class="n">Key</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="nb">id</span><span class="o">-</span><span class="n">ecPublicKey</span>
                  <span class="n">Public</span><span class="o">-</span><span class="n">Key</span><span class="p">:</span> <span class="p">(</span><span class="mi">256</span> <span class="n">bit</span><span class="p">)</span>
                  <span class="n">pub</span><span class="p">:</span>
                      <span class="mi">04</span><span class="p">:</span><span class="n">c2</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">83</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="n">c7</span><span class="p">:</span><span class="n">dc</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span><span class="mi">7</span><span class="n">c</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="n">be</span><span class="p">:</span><span class="n">ed</span><span class="p">:</span><span class="mi">70</span><span class="p">:</span><span class="mi">73</span><span class="p">:</span>
                      <span class="mi">37</span><span class="p">:</span><span class="n">aa</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">85</span><span class="p">:</span><span class="n">bc</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">79</span><span class="p">:</span><span class="mi">3</span><span class="n">e</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="mi">5</span><span class="n">a</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="n">a7</span><span class="p">:</span><span class="mi">5</span><span class="n">a</span><span class="p">:</span><span class="n">d7</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span>
                      <span class="mi">52</span><span class="p">:</span><span class="mi">66</span><span class="p">:</span><span class="n">c9</span><span class="p">:</span><span class="mi">0</span><span class="n">a</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">8</span><span class="n">e</span><span class="p">:</span><span class="n">ec</span><span class="p">:</span><span class="n">af</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="n">fe</span><span class="p">:</span><span class="mi">70</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="n">ef</span><span class="p">:</span><span class="n">fc</span><span class="p">:</span>
                      <span class="n">ae</span><span class="p">:</span><span class="n">cb</span><span class="p">:</span><span class="n">ea</span><span class="p">:</span><span class="n">d1</span><span class="p">:</span><span class="n">f2</span><span class="p">:</span><span class="n">c3</span><span class="p">:</span><span class="n">d1</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="n">de</span><span class="p">:</span><span class="n">c2</span><span class="p">:</span><span class="n">ea</span><span class="p">:</span><span class="n">d3</span><span class="p">:</span><span class="n">d9</span><span class="p">:</span><span class="mi">92</span><span class="p">:</span>
                      <span class="mi">95</span><span class="p">:</span><span class="n">bf</span><span class="p">:</span><span class="n">ce</span><span class="p">:</span><span class="n">d6</span><span class="p">:</span><span class="n">c3</span>
                  <span class="n">ASN1</span> <span class="n">OID</span><span class="p">:</span> <span class="n">prime256v1</span>
                  <span class="n">NIST</span> <span class="n">CURVE</span><span class="p">:</span> <span class="n">P</span><span class="o">-</span><span class="mi">256</span>
          <span class="n">X509v3</span> <span class="n">extensions</span><span class="p">:</span>
              <span class="n">X509v3</span> <span class="n">Basic</span> <span class="n">Constraints</span><span class="p">:</span> <span class="n">critical</span>
                  <span class="n">CA</span><span class="p">:</span><span class="n">FALSE</span>
              <span class="n">X509v3</span> <span class="n">Key</span> <span class="n">Usage</span><span class="p">:</span> <span class="n">critical</span>
                  <span class="n">Digital</span> <span class="n">Signature</span>
              <span class="n">X509v3</span> <span class="n">Subject</span> <span class="n">Key</span> <span class="n">Identifier</span><span class="p">:</span>
                  <span class="mi">96</span><span class="p">:</span><span class="n">C2</span><span class="p">:</span><span class="n">D9</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="n">EA</span><span class="p">:</span><span class="mi">97</span><span class="p">:</span><span class="mi">85</span><span class="p">:</span><span class="n">C0</span><span class="p">:</span><span class="n">D1</span><span class="p">:</span><span class="mi">67</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="n">E3</span><span class="p">:</span><span class="mi">88</span><span class="p">:</span><span class="n">F1</span><span class="p">:</span><span class="n">C0</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="n">EA</span><span class="p">:</span><span class="mi">0</span><span class="n">F</span><span class="p">:</span><span class="n">D5</span>
              <span class="n">X509v3</span> <span class="n">Authority</span> <span class="n">Key</span> <span class="n">Identifier</span><span class="p">:</span>
                  <span class="n">keyid</span><span class="p">:</span><span class="n">AF</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="n">B7</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">4</span><span class="n">D</span><span class="p">:</span><span class="n">EB</span><span class="p">:</span><span class="n">D5</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="n">EC</span><span class="p">:</span><span class="mi">6</span><span class="n">E</span><span class="p">:</span><span class="n">CF</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="n">B8</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">5</span><span class="n">F</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">88</span>
      <span class="n">Signature</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="n">ecdsa</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">SHA256</span>
           <span class="mi">30</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">6</span><span class="n">e</span><span class="p">:</span><span class="n">f6</span><span class="p">:</span><span class="mi">2</span><span class="n">c</span><span class="p">:</span><span class="mi">1</span><span class="n">d</span><span class="p">:</span><span class="n">a1</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="mi">4</span><span class="n">e</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="n">cc</span><span class="p">:</span><span class="n">f4</span><span class="p">:</span><span class="n">c1</span><span class="p">:</span><span class="n">e9</span><span class="p">:</span><span class="mi">3</span><span class="n">a</span><span class="p">:</span>
           <span class="mi">9</span><span class="n">f</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">53</span><span class="p">:</span><span class="n">c0</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">5</span><span class="n">f</span><span class="p">:</span><span class="mi">0</span><span class="n">b</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">89</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">3</span><span class="n">f</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">2</span><span class="n">f</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="n">b0</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="n">c8</span><span class="p">:</span><span class="n">be</span><span class="p">:</span>
           <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">8</span><span class="n">a</span><span class="p">:</span><span class="mi">5</span><span class="n">b</span><span class="p">:</span><span class="mi">70</span><span class="p">:</span><span class="mi">3</span><span class="n">a</span><span class="p">:</span><span class="mi">62</span><span class="p">:</span><span class="mi">2</span><span class="n">c</span><span class="p">:</span><span class="mi">6</span><span class="n">a</span><span class="p">:</span><span class="n">b6</span><span class="p">:</span><span class="n">a2</span><span class="p">:</span><span class="mi">9</span><span class="n">f</span><span class="p">:</span><span class="mi">93</span><span class="p">:</span><span class="mi">0</span><span class="n">b</span><span class="p">:</span><span class="n">af</span><span class="p">:</span><span class="n">c3</span><span class="p">:</span><span class="n">cd</span><span class="p">:</span>
           <span class="mi">66</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">5</span><span class="n">c</span><span class="p">:</span><span class="n">a6</span><span class="p">:</span><span class="n">a9</span><span class="p">:</span><span class="n">a7</span><span class="p">:</span><span class="n">d4</span><span class="p">:</span><span class="n">f2</span><span class="p">:</span><span class="mi">4</span><span class="n">c</span><span class="p">:</span><span class="mi">79</span><span class="p">:</span><span class="mi">93</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="n">ce</span><span class="p">:</span><span class="n">a6</span><span class="p">:</span><span class="n">de</span>
</pre></div>
</div>
</section>
<section id="product-attestation-intermediate-pai-certificate">
<h5>6.2.2.4. Product Attestation Intermediate (PAI) Certificate<a class="headerlink" href="#product-attestation-intermediate-pai-certificate" title="此标题的永久链接">¶</a></h5>
<p>TBSCertificate structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The ``version`` field SHALL be set to 2 to indicate v3 certificate.
2. The ``signature`` field SHALL contain the identifier for signatureAlgorithm ``ecdsa-with-SHA256``
3. The ``issuer`` field SHALL be a sequence of ``RelativeDistinguishedName`` s.
4. The ``issuer`` field SHALL have exactly zero or one VendorID value present.
5. The ``subject`` field SHALL be a sequence of ``RelativeDistinguishedName`` s.
6. The ``subject`` field SHALL have exactly one ``VendorID`` value present.
7. The ``subject`` field SHALL have exactly zero or one ``ProductID`` value present.
8. The ``algorithm`` field in subjectPublicKeyInfo field SHALL be the object identifier for ``prime256v1``.
9. The ``certificate`` SHALL carry the following Extensions:
    a. ``Basic Constraint`` extension SHALL be marked `critical`
        and have the cA field set to TRUE and pathLen field set to 0.
    b. `Key Usage` extension SHALL be marked `critical`
    c. Authority Key Identifier
    d. Subject Key Identifier
0. The certificate MAY also carry the following additional Extensions:
    a. Extended Key Usage
</pre></div>
</div>
</section>
<section id="product-attestation-authority-paa-certificate">
<h5>6.2.2.5. Product Attestation Authority (PAA) Certificate<a class="headerlink" href="#product-attestation-authority-paa-certificate" title="此标题的永久链接">¶</a></h5>
<p>略(和上面 DAC, PAI 类似)</p>
</section>
</section>
<section id="device-attestation-procedure">
<h4>6.2.3. Device Attestation Procedure<a class="headerlink" href="#device-attestation-procedure" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The device attestation procedure SHALL be executed by Commissioners when commissioning a device.</p></li>
<li><p>It serves to validate whether a particular device is certified for Matter compliance and that it was legitimately produced by the certified manufacturer.</p></li>
</ul>
<p>Commissioner SHALL request the Commissionee’s Device Attestation Certificate Chain as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The Commissioner SHALL generate a random 32 byte attestation nonce using Crypto_DRBG().
2. The Commissioner SHALL send the `AttestationNonce` to the Commissionee
    and request Attestation Information using Section 11.17.7.1, “AttestationRequest Command”.
3. The Commissionee SHALL return the signed Attestation Information to the Commissioner
</pre></div>
</div>
<section id="attestation-information-validation">
<h5>6.2.3.1. Attestation Information Validation<a class="headerlink" href="#attestation-information-validation" title="此标题的永久链接">¶</a></h5>
<ul>
<li><p>A Commissioner validating the Attestation Information SHOULD record sufficient information to provide detailed results of the validation outcome to users.</p></li>
<li><p>In order to consider a Commissionee successfully attested, a Commissioner SHALL have successfully validated at least the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The `PAA` SHALL be validated for presence in the Commissioner’s trusted root store
2. The `DAC` certificate chain SHALL be validated using the Crypto_VerifyChainDER() function,
    taking into account the mandatory presence of the PAI and of the PAA.
3. The `VendorID` value found in the subject DN of the DAC
    SHALL match the VendorID value in the subject DN of the PAI certificate.
4. If the `PAA` certificate contains a VendorID value in its subject DN,
    its value SHALL match the VendorID value in the subject DN of the PAI certificate.
5. The Device Attestation Signature (`attestation_signature`) field from Attestation Response
    SHALL be validated
6. The `AttestationNonce` in Device Attestation elements
    SHALL match the Commissioner’s provided AttestationNonce.
7. The `Certification Declaration signature`
    SHALL be validated using the Crypto_Verify() function and the public key
    obtained from the CSA’s Certificate Authority Certificate.
8. The Certification Declaration SHALL be validated
</pre></div>
</div>
</li>
</ul>
</section>
</section>
</section>
<section id="certification-declaration">
<h3>6.3. Certification Declaration<a class="headerlink" href="#certification-declaration" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>A Certification Declaration (CD) is a cryptographic document that allows a Matter device to assert its protocol compliance.</p></li>
<li><p>It is encoded in a CMS format described in <code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">5652</span></code>.</p></li>
</ul>
<section id="certification-declaration-cd-format">
<h4>6.3.1. Certification Declaration (CD) Format<a class="headerlink" href="#certification-declaration-cd-format" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The Certification Declaration is a CMS-encoded single-signature envelope whose message is a TLV-encoded certification-elements structure with an anonymous tag:</p></li>
</ul>
<p>Certification Elements TLV structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">certification</span><span class="o">-</span><span class="n">elements</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">format_version</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>          <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">vendor_id</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>               <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">product_id_array</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>        <span class="p">:</span> <span class="n">ARRAY</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">1..100</span> <span class="p">]</span> <span class="n">OF</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">device_type_id</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>          <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">certificate_id</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>          <span class="p">:</span> <span class="n">STRING</span> <span class="p">[</span><span class="n">length</span> <span class="mi">19</span><span class="p">]</span>
    <span class="n">security_level</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>          <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">security_information</span> <span class="p">[</span><span class="mi">6</span><span class="p">]</span>    <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">version_number</span> <span class="p">[</span><span class="mi">7</span><span class="p">]</span>          <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">certification_type</span> <span class="p">[</span><span class="mi">8</span><span class="p">]</span>      <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">8</span><span class="o">-</span><span class="n">bits</span><span class="p">]</span>
    <span class="n">dac_origin_vendor_id</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span>   <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">dac_origin_product_id</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
    <span class="n">authorized_paa_list</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span>   <span class="p">:</span> <span class="n">ARRAY</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">1..10</span> <span class="p">]</span> <span class="n">OF</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mi">20</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The Certification Elements TLV is encoded with data to form a <code class="docutils literal notranslate"><span class="pre">cd_content</span></code> message to be signed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd_content</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">format_version</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span>            <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">vendor_id</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>                 <span class="o">=</span> <span class="o">&lt;</span><span class="n">vendor_id</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">product_id_array</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>          <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span> <span class="n">of</span> <span class="n">product_id</span> <span class="n">values</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">device_type_id</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span>            <span class="o">=</span> <span class="o">&lt;</span><span class="n">primary</span> <span class="n">device</span> <span class="nb">type</span> <span class="n">identifier</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">certificate_id</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span>            <span class="o">=</span> <span class="o">&lt;</span><span class="n">globally</span> <span class="n">unique</span> <span class="n">certificate</span> <span class="n">ID</span> <span class="n">issued</span> <span class="n">by</span> <span class="n">CSA</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">security_level</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span>            <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">security_information</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span>      <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">version_number</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span>            <span class="o">=</span> <span class="o">&lt;</span><span class="n">version_number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">certification_type</span> <span class="p">(</span><span class="mi">8</span><span class="p">)</span>        <span class="o">=</span> <span class="o">&lt;</span><span class="n">certification_type</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">dac_origin_vendor_id</span> <span class="p">(</span><span class="mi">9</span><span class="p">)</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="n">Vendor</span> <span class="n">ID</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">DAC</span><span class="p">,</span> <span class="n">optional</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">dac_origin_product_id</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">Product</span> <span class="n">ID</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">DAC</span><span class="p">,</span> <span class="n">optional</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">authorized_paa_list</span> <span class="p">(</span><span class="mi">11</span><span class="p">)</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span> <span class="n">of</span> <span class="n">PAA</span> <span class="n">SKIs</span><span class="p">,</span> <span class="n">optional</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">certification_type</span></code> field SHALL contain the type of certification for this CD:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">:</span>
    <span class="n">used</span> <span class="k">for</span> <span class="n">development</span> <span class="ow">and</span> <span class="n">test</span> <span class="n">purposes</span>
<span class="mi">1</span><span class="p">:</span>
    <span class="n">provisional</span> <span class="o">-</span> <span class="n">used</span> <span class="k">for</span> <span class="n">a</span> <span class="n">device</span> <span class="n">when</span> <span class="n">going</span> <span class="n">into</span> <span class="n">certification</span> <span class="n">testing</span><span class="p">,</span>
    <span class="ow">or</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">production</span> <span class="ow">and</span> <span class="n">distribution</span> <span class="n">to</span> <span class="n">occur</span> <span class="ow">in</span> <span class="n">parallel</span> <span class="k">with</span> <span class="n">certification</span>
    <span class="p">(</span><span class="k">with</span> <span class="n">potential</span> <span class="n">software</span> <span class="n">fixes</span> <span class="n">yielding</span> <span class="n">a</span> <span class="n">higher</span> <span class="n">SoftwareVersion</span> <span class="n">which</span> <span class="n">gets</span> <span class="n">certification</span><span class="p">)</span>
<span class="mi">2</span><span class="p">:</span>
    <span class="n">official</span> <span class="o">-</span> <span class="n">allocated</span> <span class="n">after</span> <span class="n">passing</span> <span class="n">certification</span>
<span class="n">other</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">reserved</span>
</pre></div>
</div>
<p>Certification Declaration CMS ASN.1 Encoding Format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CertificationDeclaration ::= SEQUENCE {
    version             INTEGER ( v3(3) ),
    digestAlgorithm     OBJECT IDENTIFIER `sha256` (2.16.840.1.101.3.4.2.1),
    encapContentInfo    EncapsulatedContentInfo,
    signerInfo          SignerInfo
}

EncapsulatedContentInfo ::= SEQUENCE {
    eContentType    OBJECT IDENTIFIER `pkcs7-data` (1.2.840.113549.1.7.1),
    eContent        OCTET STRING cd_content
}

SignerInfo ::= SEQUENCE {
    version                 INTEGER ( v3(3) ),
    subjectKeyIdentifier    OCTET STRING,
    digestAlgorithm         OBJECT IDENTIFIER `sha256` (2.16.840.1.101.3.4.2.1),
    signatureAlgorithm      OBJECT IDENTIFIER `ecdsa-with-SHA256` (1.2.840.10045.4.3.2),
    signature               OCTET STRING
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Note that Certification Declarations SHALL NOT be generated by any Node, but rather, they SHALL be stored and transmitted to a Commissioner by a Commissionee during the conveyance of the Attestation Information in response to an Attestation Request command.</p>
</div>
</section>
<section id="firmware-information">
<h4>6.3.2. Firmware Information<a class="headerlink" href="#firmware-information" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Firmware Information is an optional component of the <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Attestation</span> <span class="pre">Information</span></code></p></li>
<li><p>Firmware Information MAY contain one or more Firmware Digests that correspond to the components in the firmware that have been measured and recorded during the boot process (e.g., bootloader, kernel, root filesystem, etc), and MAY contain other metadata.</p></li>
</ul>
<figure class="align-default" id="id123">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/D624E9CA-0F48-4233-9594-5CC33408F000.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/D624E9CA-0F48-4233-9594-5CC33408F000.jpg" />
<figcaption>
<p><span class="caption-text">Figure 35. Illustration of the measured boot process</span><a class="headerlink" href="#id123" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="firmware-information-validation-examples">
<h4>6.3.3. Firmware information validation examples<a class="headerlink" href="#firmware-information-validation-examples" title="此标题的永久链接">¶</a></h4>
<p>Below is an illustrative example of the Commissioner actions to validate the firmware information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Retrieve the `firmware_information` field from `attestation-elements`
2. Retrieve all `Distributed Compliance Ledger DeviceSoftwareVersionModel` entries
    for the Commissionee’s Vendor ID and Product ID.
3. Verify that there is a valid, non-revoked, entry
    where the `FirmwareInformation` field exactly matches
    the `firmware_information` field in attestation-elements.
4. If verification fails, report error to the user
5. If verification succeeds, proceed with device commissioning
</pre></div>
</div>
<p>Below is an example of the corresponding Device actions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The device bootloader produces a measurement of the OS kernel
    using a supported hash algorithm from `RFC 5912` and delivers it to the secure subsystem.
2. The secure subsystem receives the measurement and stores in a location inaccessible to the OS.
3. The OS kernel produces a hash of the root filesystem and delivers the measurement to the secure subsystem.
4. When the secure subsystem is asked to sign an attestation-elements structure
    using its private device attestation key,
    it generates two FirmwareDigests or one combined FirmwareDigest from these measurements,
    fills the firmware_information field in attestation-elements using these measurements,
    fills the CD blob compiled into the secure environment
    and signs the attestation-elements structure.
</pre></div>
</div>
</section>
</section>
<section id="node-operational-credentials-specification">
<h3>6.4. Node Operational Credentials Specification<a class="headerlink" href="#node-operational-credentials-specification" title="此标题的永久链接">¶</a></h3>
<section id="id13">
<h4>6.4.1. Introduction<a class="headerlink" href="#id13" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The Node Operational credentials are a collection of credentials to enable a Node to identify itself within a Fabric.</p></li>
<li><p>The Node Operational credentials are distinct from the Device Attestation credentials. The Node Operational credentials are installed during Commissioning.</p></li>
</ul>
<p>The Node Operational credentials include the following items:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Node Operational Key Pair
• Node Operational Certificate (NOC)
• Intermediate Certificate Authority (ICA) Certificate (optional)
• Trusted Root Certificate Authority (CA) Certificate(s)
</pre></div>
</div>
</section>
<section id="node-operational-credentials-management">
<h4>6.4.2. Node Operational Credentials Management<a class="headerlink" href="#node-operational-credentials-management" title="此标题的永久链接">¶</a></h4>
<ul>
<li><p>Commands from the <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Credentials</span> <span class="pre">Cluster</span></code> are used to install and update Node Operational credentials.</p></li>
<li><p>A Node</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. initial through the `AddNOC` command
2. update using the `UpdateNOC` command
3. remove using the `RemoveFabric` command
</pre></div>
</div>
</li>
</ul>
</section>
<section id="node-operational-identifier-composition">
<h4>6.4.3. Node Operational Identifier Composition<a class="headerlink" href="#node-operational-identifier-composition" title="此标题的永久链接">¶</a></h4>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Identifier</span></code> is used for Node discovery and network address resolution within a network segment.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FabricID</span></code> portion of the Node Operational Identifier serves a scoping purpose to identify disjoint operational Fabrics within a given network segment.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">NodeID</span></code> portion of the Node Operational Identifier is the logical addressing identifier used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• within `Message-layer messages` for logical addressing
• within `Data Model bindings` to express data subscription relationships between Nodes
• within `ACL Entries` to refer to individual Nodes as access control grantees(subjects)
    when CASE sessions are used for communication
</pre></div>
</div>
</li>
<li><p>In addition to the <code class="docutils literal notranslate"><span class="pre">FabricID</span></code> and <code class="docutils literal notranslate"><span class="pre">NodeID</span></code>, a Node Operational Identifier MAY include at most three 32-bit <code class="docutils literal notranslate"><span class="pre">CASEAuthenticatedTag</span></code> (1.3.6.1.4.1.37244.1.6) attributes used to tag the operational identifier to implement access control based on <code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">Authenticated</span> <span class="pre">Tags</span></code>.</p></li>
</ul>
</section>
<section id="node-operational-key-pair">
<h4>6.4.4. Node Operational Key Pair<a class="headerlink" href="#node-operational-key-pair" title="此标题的永久链接">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Key</span> <span class="pre">Pair</span></code>, comprised of a <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Public</span> <span class="pre">Key</span></code> and a <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Private</span> <span class="pre">Key</span></code>, is created using the Crypto_GenerateKeypair function</p>
</section>
<section id="node-operational-credentials-certificates">
<h4>6.4.5. Node Operational Credentials Certificates<a class="headerlink" href="#node-operational-credentials-certificates" title="此标题的永久链接">¶</a></h4>
<section id="node-operational-certificate-noc">
<h5>6.4.5.1. Node Operational Certificate (NOC)<a class="headerlink" href="#node-operational-certificate-noc" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The NOC SHALL be issued by either a Root CA trusted within the Fabric or by an Intermediate Certificate Authority (ICA) whose ICA certificate is directly issued by such a Root CA.</p></li>
</ul>
</section>
<section id="intermediate-ca-ica-certificate">
<h5>6.4.5.2. Intermediate CA (ICA) Certificate<a class="headerlink" href="#intermediate-ca-ica-certificate" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>In the case where an intermediate CA (ICA) issues the NOC, the ICA certificate is used to attest to the validity of the NOC.</p></li>
</ul>
</section>
<section id="trusted-root-ca-certificates">
<h5>6.4.5.3. Trusted Root CA Certificates<a class="headerlink" href="#trusted-root-ca-certificates" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Each Node has one or more <code class="docutils literal notranslate"><span class="pre">trusted</span> <span class="pre">Root</span> <span class="pre">CA</span> <span class="pre">certificates</span></code> in its <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">credentials</span></code> that it uses to verify <code class="docutils literal notranslate"><span class="pre">ICA</span> <span class="pre">certificates</span></code> and <code class="docutils literal notranslate"><span class="pre">Node</span> <span class="pre">Operational</span> <span class="pre">Certificates</span></code> presented by other Nodes, treating them as trust anchors as described in RFC 5280.</p></li>
<li><p>The certificates configured in that cluster SHALL only be added during the commissioning process by the Commissioner, or during root rotation operations by an Administrator already trusted by the Node.</p></li>
</ul>
<figure class="align-default" id="id124">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/E6C93A59-68B9-423B-B33D-48CDAEB39ADD.png" src="https://img.zhaoweiguo.com/uPic/2022/11/E6C93A59-68B9-423B-B33D-48CDAEB39ADD.png" />
<figcaption>
<p><span class="caption-text">Figure 36. Node Operational Certificate PKI hierarchy with optional ICAC</span><a class="headerlink" href="#id124" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id125">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/E510557A-1DC4-4713-A559-D08FF3983616.png" src="https://img.zhaoweiguo.com/uPic/2022/11/E510557A-1DC4-4713-A559-D08FF3983616.png" />
<figcaption>
<p><span class="caption-text">Figure 37. Node Operational Certificate PKI hierarchy without optional ICAC</span><a class="headerlink" href="#id125" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="node-operational-credentials-procedure">
<h4>6.4.6. Node Operational Credentials Procedure<a class="headerlink" href="#node-operational-credentials-procedure" title="此标题的永久链接">¶</a></h4>
<section id="node-operational-certificate-signing-request-nocsr-procedure">
<h5>6.4.6.1. Node Operational Certificate Signing Request (NOCSR) Procedure<a class="headerlink" href="#node-operational-certificate-signing-request-nocsr-procedure" title="此标题的永久链接">¶</a></h5>
<p>After the Commissioner validates Device Attestation Information, the following procedure is used to generate a Node Operational Key Pair and obtain the NOCSR:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The Commissioner SHALL generate a random 32 byte nonce named `CSRNonce` using Crypto_DRBG().
2. The Commissioner SHALL send the `CSRNonce` to the Node
    and request `NOCSR` Information using the `CSRRequest` Command.
    a. The Node SHALL create a new candidate `Node Operational Key Pair`
    b. The Node SHOULD verify the newly generated candidate `Node Operational Key Pair`
    c. The candidate Node Operational Key Pair SHALL only be committed to persistent storage
    d. The Node SHALL create a Certificate Signing Request (CSR)
    e. The CSR’s subject MAY be any value
        and the device SHOULD NOT expect the final operational certificate
        to contain any of the CSR’s subject DN attributes.
3. The Node SHALL generate and return the `NOCSR` Information to the Commissioner
    using the CSRResponse Command.
</pre></div>
</div>
<figure class="align-default" id="id126">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/FC010627-C2B1-463E-B397-07694131752A.png" src="https://img.zhaoweiguo.com/uPic/2022/11/FC010627-C2B1-463E-B397-07694131752A.png" />
<figcaption>
<p><span class="caption-text">Figure 38. Node Operational Credentials flow</span><a class="headerlink" href="#id126" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="node-operational-certificate-signing-request-nocsr">
<h4>6.4.7. Node Operational Certificate Signing Request (NOCSR)<a class="headerlink" href="#node-operational-certificate-signing-request-nocsr" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A Node creates a <code class="docutils literal notranslate"><span class="pre">NOCSR</span></code> in response to the Commissioner, so that the Commissioner can request a NOC on the Node’s behalf from its trusted Certificate Authority.</p></li>
</ul>
<p>NOCSR:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Certificate</span> <span class="n">Request</span><span class="p">:</span>
     <span class="n">Data</span><span class="p">:</span>
         <span class="n">Version</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="mh">0x0</span><span class="p">)</span>
         <span class="n">Subject</span><span class="p">:</span> <span class="o">...............</span>
         <span class="n">Subject</span> <span class="n">Public</span> <span class="n">Key</span> <span class="n">Info</span><span class="p">:</span>
             <span class="n">Public</span> <span class="n">Key</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="nb">id</span><span class="o">-</span><span class="n">ecPublicKey</span>
                 <span class="n">Public</span><span class="o">-</span><span class="n">Key</span><span class="p">:</span> <span class="p">(</span><span class="mi">256</span> <span class="n">bit</span><span class="p">)</span>
                 <span class="n">pub</span><span class="p">:</span>
                     <span class="mi">04</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">3</span><span class="n">b</span><span class="p">:</span><span class="mi">90</span><span class="p">:</span><span class="n">f5</span><span class="p">:</span><span class="o">.......</span>
                 <span class="n">ASN1</span> <span class="n">OID</span><span class="p">:</span> <span class="n">prime256v1</span>
                 <span class="n">NIST</span> <span class="n">CURVE</span><span class="p">:</span> <span class="n">P</span><span class="o">-</span><span class="mi">256</span>
         <span class="n">Attributes</span><span class="p">:</span>
         <span class="n">Requested</span> <span class="n">Extensions</span><span class="p">:</span>
     <span class="n">Signature</span> <span class="n">Algorithm</span><span class="p">:</span> <span class="n">ecdsa</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">SHA256</span>
          <span class="mi">30</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">95</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="o">......</span>
</pre></div>
</div>
</section>
<section id="node-operational-certificate-renewal">
<h4>6.4.8. Node Operational Certificate Renewal<a class="headerlink" href="#node-operational-certificate-renewal" title="此标题的永久链接">¶</a></h4>
<p>A NOC can be renewed by an Administrator.</p>
</section>
<section id="node-operational-certificate-revocation">
<h4>6.4.9. Node Operational Certificate Revocation<a class="headerlink" href="#node-operational-certificate-revocation" title="此标题的永久链接">¶</a></h4>
<p>A Node’s access to other Nodes can be revoked by removing the associated Node ID from Access Control Entry subjects where it appears.</p>
</section>
<section id="security-considerations">
<h4>6.4.10. Security Considerations<a class="headerlink" href="#security-considerations" title="此标题的永久链接">¶</a></h4>
<p>A NOC is a Node’s credential to operate on a Fabric. It SHALL be protected against the following threats:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. The Node Operational Private Key SHALL be protected from unauthorized access.
2. The Node Operational Private Key SHOULD never leave the device.
3. The NOC SHALL NOT contain information that may violate the user’s privacy.
4. The NOC SHALL be wiped if the Node is factory reset.
</pre></div>
</div>
</section>
</section>
<section id="operational-certificate-encoding">
<h3>6.5. Operational Certificate Encoding<a class="headerlink" href="#operational-certificate-encoding" title="此标题的永久链接">¶</a></h3>
<section id="id14">
<h4>6.5.1. Introduction<a class="headerlink" href="#id14" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>This section details the <code class="docutils literal notranslate"><span class="pre">Matter</span> <span class="pre">certificate</span> <span class="pre">data</span> <span class="pre">structure</span></code> (hereafter “Matter certificate”), a specific encoding that is sometimes used as a compact alternative to the standard X.509 certificate format [RFC 5280] for bandwidth-efficient transmission.</p></li>
<li><p>To compress the structure more efficiently than an <code class="docutils literal notranslate"><span class="pre">X.509</span> <span class="pre">certificate</span></code>, a <code class="docutils literal notranslate"><span class="pre">Matter</span> <span class="pre">certificate</span></code> SHALL be encoded with the <code class="docutils literal notranslate"><span class="pre">Matter</span> <span class="pre">TLV</span> <span class="pre">structured</span> <span class="pre">data</span> <span class="pre">interchange</span> <span class="pre">language</span></code> [Appendix A, Tag-length-value (TLV) Encoding Format] instead of the A``SN.1 Distinguished Encoding Rules (DER)`` [X.690].</p></li>
</ul>
<p>A certificate comprises a record of the following conceptual fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Certificate</span> <span class="n">Text</span>
      <span class="n">Version</span> <span class="n">Number</span>
      <span class="n">Serial</span> <span class="n">Number</span>
      <span class="n">Signature</span> <span class="n">Algorithm</span> <span class="n">ID</span>
      <span class="n">Issuer</span> <span class="n">Name</span>
      <span class="n">Validity</span> <span class="n">period</span>
          <span class="n">Not</span> <span class="n">Before</span>
          <span class="n">Not</span> <span class="n">After</span>
      <span class="n">Subject</span> <span class="n">name</span>
      <span class="n">Subject</span> <span class="n">Public</span> <span class="n">Key</span> <span class="n">Info</span>
          <span class="n">Public</span> <span class="n">Key</span> <span class="n">Algorithm</span>
          <span class="n">Subject</span> <span class="n">Public</span> <span class="n">Key</span>
      <span class="n">Issuer</span> <span class="n">Unique</span> <span class="n">Identifier</span>
      <span class="n">Subject</span> <span class="n">Unique</span> <span class="n">Identifier</span>
      <span class="n">Extensions</span>
<span class="n">Certificate</span> <span class="n">Signature</span> <span class="n">Algorithm</span>
<span class="n">Certificate</span> <span class="n">Signature</span>
</pre></div>
</div>
<section id="asn-1-object-identifiers-oid">
<h5>6.5.1.1. ASN.1 Object Identifiers (OID)<a class="headerlink" href="#asn-1-object-identifiers-oid" title="此标题的永久链接">¶</a></h5>
<p>Matter certificates do not use ASN.1 OIDs. Instead, each valid ASN.1 OID SHALL be mapped to a Matter TLV tag within its reference category.</p>
</section>
</section>
<section id="matter-certificate">
<h4>6.5.2. Matter certificate<a class="headerlink" href="#matter-certificate" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><dl class="simple">
<dt>A Matter certificate encodes a subset of the object identifiers (OIDs) specified in X.509.</dt><dd><ul>
<li><p>Only some attribute types for relative distinguished names are valid,</p></li>
<li><p>only certain cryptographic algorithms are used,</p></li>
<li><p>and only a limited set of extensions are used.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Therefore, every Matter certificate can be represented as a corresponding X.509 certificate. However, the converse is not true; not every X.509 certificate can be represented as a Matter certificate.</p></li>
<li><p>The signature included in a Matter certificate is the signatureValue of the corresponding X.509 certificate, not a signature of the preceding Matter TLV data in the Matter certificate structure.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">matter</span><span class="o">-</span><span class="n">certificate</span> <span class="p">[</span><span class="n">anonymous</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span><span class="n">tag</span><span class="o">-</span><span class="n">order</span><span class="p">]</span>
<span class="p">{</span>
    <span class="n">serial</span><span class="o">-</span><span class="n">num</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>      <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">0..20</span> <span class="p">],</span>
    <span class="n">sig</span><span class="o">-</span><span class="n">algo</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>        <span class="p">:</span> <span class="n">signature</span><span class="o">-</span><span class="n">algorithm</span><span class="p">,</span>
    <span class="n">issuer</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>          <span class="p">:</span> <span class="n">LIST</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">1.</span><span class="o">.</span> <span class="p">]</span> <span class="n">OF</span> <span class="n">dn</span><span class="o">-</span><span class="n">attribute</span><span class="p">,</span>
    <span class="ow">not</span><span class="o">-</span><span class="n">before</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>      <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
    <span class="ow">not</span><span class="o">-</span><span class="n">after</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>       <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">subject</span> <span class="p">[</span><span class="mi">6</span><span class="p">]</span>         <span class="p">:</span> <span class="n">LIST</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">1.</span><span class="o">.</span> <span class="p">]</span> <span class="n">OF</span> <span class="n">dn</span><span class="o">-</span><span class="n">attribute</span><span class="p">,</span>
    <span class="n">pub</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">algo</span> <span class="p">[</span><span class="mi">7</span><span class="p">]</span>    <span class="p">:</span> <span class="n">public</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">algorithm</span><span class="p">,</span>
    <span class="n">ec</span><span class="o">-</span><span class="n">curve</span><span class="o">-</span><span class="nb">id</span> <span class="p">[</span><span class="mi">8</span><span class="p">]</span>     <span class="p">:</span> <span class="n">elliptic</span><span class="o">-</span><span class="n">curve</span><span class="o">-</span><span class="nb">id</span><span class="p">,</span>
    <span class="n">ec</span><span class="o">-</span><span class="n">pub</span><span class="o">-</span><span class="n">key</span> <span class="p">[</span><span class="mi">9</span><span class="p">]</span>      <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">extensions</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>     <span class="p">:</span> <span class="n">LIST</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">1.</span><span class="o">.</span> <span class="p">]</span> <span class="n">OF</span> <span class="n">extension</span><span class="p">,</span>
    <span class="n">signature</span> <span class="p">[</span><span class="mi">11</span><span class="p">]</span>      <span class="p">:</span> <span class="n">ec</span><span class="o">-</span><span class="n">signature</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="version-number">
<h4>6.5.3. Version Number<a class="headerlink" href="#version-number" title="此标题的永久链接">¶</a></h4>
<p>Matter certificates SHALL only support version <code class="docutils literal notranslate"><span class="pre">X.509</span> <span class="pre">v3</span></code>. This field is not encoded in the Matter certificate structure.</p>
</section>
<section id="serial-number">
<h4>6.5.4. Serial Number<a class="headerlink" href="#serial-number" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tag <code class="docutils literal notranslate"><span class="pre">serial-num</span> <span class="pre">[1]</span></code> SHALL be used to identify the serial number field in the Matter certificate structure.</p>
</section>
<section id="signature-algorithm">
<h4>6.5.5. Signature Algorithm<a class="headerlink" href="#signature-algorithm" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tag <code class="docutils literal notranslate"><span class="pre">sig-algo</span> <span class="pre">[2]</span></code> SHALL be used to identify the signature algorithm field in the Matter certificate structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">signature</span><span class="o">-</span><span class="n">algorithm</span> <span class="o">=&gt;</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">8</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">ecdsa</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">sha256</span>   <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Table 55. Signature Algorithm Object Identifiers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Value</span>         <span class="n">ASN</span><span class="mf">.1</span> <span class="n">OID</span>
<span class="o">-----</span>         <span class="o">-----------</span>
<span class="mi">1</span>             <span class="n">iso</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">member</span><span class="o">-</span><span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="n">us</span><span class="p">(</span><span class="mi">840</span><span class="p">)</span>
              <span class="n">ansi</span><span class="o">-</span><span class="n">x962</span><span class="p">(</span><span class="mi">10045</span><span class="p">)</span> <span class="n">signatures</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
              <span class="n">ecdsa</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">SHA2</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="n">ecdsa</span><span class="o">-</span> <span class="k">with</span><span class="o">-</span><span class="n">SHA256</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="issuer-and-subject">
<h4>6.5.6. Issuer and Subject<a class="headerlink" href="#issuer-and-subject" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tags <code class="docutils literal notranslate"><span class="pre">issuer</span> <span class="pre">[3]</span></code> and <code class="docutils literal notranslate"><span class="pre">subject</span> <span class="pre">[6]</span></code> SHALL be used to identify the <code class="docutils literal notranslate"><span class="pre">issuer</span></code> and the <code class="docutils literal notranslate"><span class="pre">subject</span> <span class="pre">DN(Distinguished</span> <span class="pre">Name)</span></code> fields in the Matter certificate structure.</p>
<section id="x-501-distinguished-names">
<h5>6.5.6.1. X.501 Distinguished Names<a class="headerlink" href="#x-501-distinguished-names" title="此标题的永久链接">¶</a></h5>
<p>Table 56. Standard DN Object Identifiers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tag base</p></th>
<th class="head"><p>Matter name base</p></th>
<th class="head"><p>ASN.1 OID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>common-name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) commonName(3)</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>surname</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) surname(4)</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>serial-num</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) serialNumber(5)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>country-name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) countryName(6)</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>locality-name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) localityName(7)</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>state-or-province-name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) stateOrProvinceName(8)</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>org-name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) organizationName(10)</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>org-unit-name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) organizationalUnitName(11)</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>title</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) title(12)</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) name(41)</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>given-name</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) givenName(42)</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>initials</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) initials(43)</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>gen-qualifier</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) generationQualifier(44)</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>dn-qualifier</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) dnQualifier(46)</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>pseudonym</p></td>
<td><p>joint_iso_ccitt(2) ds(5) attributeType(4) pseudonym(65)</p></td>
</tr>
</tbody>
</table>
<p>Table 57. Standard DN Domain Component Object Identifier:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Tag</span>     <span class="n">Matter</span> <span class="n">name</span>         <span class="n">ASN</span><span class="mf">.1</span> <span class="n">OID</span>
<span class="mi">16</span>    <span class="n">domain</span><span class="o">-</span><span class="n">component</span>      <span class="n">itu_t</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="n">data</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="n">pss</span><span class="p">(</span><span class="mi">2342</span><span class="p">)</span> <span class="n">ucl</span><span class="p">(</span><span class="mi">19200300</span><span class="p">)</span>
                            <span class="n">pilot</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="n">pilotAttributeType</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                            <span class="n">domainComponent</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="matter-certificate-types">
<h5>6.5.6.2. Matter Certificate Types<a class="headerlink" href="#matter-certificate-types" title="此标题的永久链接">¶</a></h5>
<p>Table 58. Matter Certificate Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• matter-node-id
    Certifies the identity of a Matter Node Operational Certificate (NOC).
• matter-firmware-signing-id
    Certifies the identity of a firmware signing certificate.
• matter-icac-id
    Certifies the identity of a Matter Intermediate CA (ICA) Certificate.
• matter-rcac-id
    Certifies the identity of a Matter Root CA Certificate.
</pre></div>
</div>
</section>
<section id="matter-dn-encoding-rules">
<h5>6.5.6.3. Matter DN Encoding Rules<a class="headerlink" href="#matter-dn-encoding-rules" title="此标题的永久链接">¶</a></h5>
<p>The rules that SHALL be followed for Matter-specific attribute types when encoding the subject DN are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• For a Matter Node Operational Certificate (NOC):
• For a Matter ICA Certificate:
• For a Matter Root CA Certificate:
</pre></div>
</div>
</section>
<section id="matter-dn-examples">
<h5>6.5.6.4. Matter DN Examples<a class="headerlink" href="#matter-dn-examples" title="此标题的永久链接">¶</a></h5>
<p>Typically, it is a list of two RDN attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subject</span> <span class="o">=</span> <span class="p">[[</span>
  <span class="n">matter</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="nb">id</span>   <span class="o">=</span> <span class="mh">0x0102030405060708</span><span class="n">U</span><span class="p">,</span>
  <span class="n">matter</span><span class="o">-</span><span class="n">fabric</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="mh">0xFAB000000000001D</span><span class="n">U</span>
<span class="p">]]</span>
</pre></div>
</div>
<p>encode other supported RDN attributes such as <code class="docutils literal notranslate"><span class="pre">common-name</span></code> and <code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">Authenticated</span> <span class="pre">Tags</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subject</span> <span class="o">=</span> <span class="p">[[</span>
      <span class="n">common</span><span class="o">-</span><span class="n">name</span>      <span class="o">=</span> <span class="s2">&quot;NOC Example&quot;</span><span class="p">,</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="nb">id</span>   <span class="o">=</span> <span class="mh">0x0102030405060708</span><span class="n">U</span><span class="p">,</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">fabric</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="mh">0xFAB000000000001D</span><span class="n">U</span><span class="p">,</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">noc</span><span class="o">-</span><span class="n">cat</span>   <span class="o">=</span> <span class="mh">0xABCD0002</span><span class="n">U</span>
<span class="p">]]</span>
</pre></div>
</div>
<p>multiple RDN attributes of the same type can be encoded:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subject</span> <span class="o">=</span> <span class="p">[[</span>
     <span class="n">matter</span><span class="o">-</span><span class="n">noc</span><span class="o">-</span><span class="n">cat</span>   <span class="o">=</span> <span class="mh">0xABCD0004</span><span class="n">U</span><span class="p">,</span>
     <span class="n">matter</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="nb">id</span>   <span class="o">=</span> <span class="mh">0x0102030405060708</span><span class="n">U</span><span class="p">,</span>
     <span class="n">matter</span><span class="o">-</span><span class="n">noc</span><span class="o">-</span><span class="n">cat</span>   <span class="o">=</span> <span class="mh">0xABCE0018</span><span class="n">U</span><span class="p">,</span>
     <span class="n">matter</span><span class="o">-</span><span class="n">fabric</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="mh">0xFAB000000000001D</span><span class="n">U</span><span class="p">,</span>
     <span class="n">matter</span><span class="o">-</span><span class="n">noc</span><span class="o">-</span><span class="n">cat</span>   <span class="o">=</span> <span class="mh">0xABCF0002</span><span class="n">U</span>
 <span class="p">]]</span>
</pre></div>
</div>
<p>an illegal subject DN due to the presence of the same CASE Authenticated Tag value with two different version numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subject</span> <span class="o">=</span> <span class="p">[[</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="nb">id</span>   <span class="o">=</span> <span class="mh">0x0102030405060708</span><span class="n">U</span><span class="p">,</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">fabric</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="mh">0xFAB000000000001D</span><span class="n">U</span><span class="p">,</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">noc</span><span class="o">-</span><span class="n">cat</span>   <span class="o">=</span> <span class="mh">0xABCD0004</span><span class="n">U</span><span class="p">,</span>    <span class="c1"># ❌&lt;-- Value 0xABCD, Version 0x0004</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">noc</span><span class="o">-</span><span class="n">cat</span>   <span class="o">=</span> <span class="mh">0xABCD0002</span><span class="n">U</span><span class="p">,</span>    <span class="c1"># ❌&lt;-- Value 0xABCD, Version 0x0002</span>
<span class="p">]]</span>
</pre></div>
</div>
<p>subject DN encoding for a Matter Root CA certificate:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subject</span> <span class="o">=</span> <span class="p">[[</span>
      <span class="n">matter</span><span class="o">-</span><span class="n">rcac</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="mh">0xCA0000000000001D</span><span class="n">U</span>
<span class="p">]]</span>
</pre></div>
</div>
</section>
</section>
<section id="validity">
<h4>6.5.7. Validity<a class="headerlink" href="#validity" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The context-specific tags <code class="docutils literal notranslate"><span class="pre">not-before</span> <span class="pre">[4]</span></code> and <code class="docutils literal notranslate"><span class="pre">not-after</span> <span class="pre">[5]</span></code> SHALL be used to identify the not-before and not-after fields in the Matter certificate structure, which indicate the period of validity for the certificate.</p></li>
<li><p>Special value 0, when encoded in the not-after field, corresponds to the X.509/RFC 5280 defined special time value 99991231235959Z meaning no well-defined expiration date.</p></li>
</ul>
</section>
<section id="public-key-algorithm">
<h4>6.5.8. Public Key Algorithm<a class="headerlink" href="#public-key-algorithm" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tag <code class="docutils literal notranslate"><span class="pre">pub-key-algo</span> <span class="pre">[7]</span></code> SHALL be used to identify the public key algorithm field in the Matter certificate structure.</p>
</section>
<section id="ec-curve-identifier">
<h4>6.5.9. EC Curve Identifier<a class="headerlink" href="#ec-curve-identifier" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tag <code class="docutils literal notranslate"><span class="pre">ec-curve-id</span> <span class="pre">[8]</span></code> SHALL be used to identify the elliptic curve field in the Matter certificate structure.</p>
</section>
<section id="id15">
<h4>6.5.10. Public Key<a class="headerlink" href="#id15" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tag <code class="docutils literal notranslate"><span class="pre">ec-pub-key</span> <span class="pre">[9]</span></code> SHALL be used to identify the elliptic curve public key material field in the Matter certificate structure.</p>
</section>
<section id="extensions">
<h4>6.5.11. Extensions<a class="headerlink" href="#extensions" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tag <code class="docutils literal notranslate"><span class="pre">extensions</span> <span class="pre">[10]</span></code> SHALL be used to identify the extensions field in the Matter certificate structure.</p>
<p>Table 61. Extensions Object Identifiers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tag</p></th>
<th class="head"><p>Matter Name</p></th>
<th class="head"><p>ASN.1 OID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>basic-cnstr</p></td>
<td><p>joint-iso-itu-t(2) ds(5) certificateExtension(29) basicConstraints(19)</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>key-usage</p></td>
<td><p>joint-iso-itu-t(2) ds(5) certificateExtension(29) keyUsage(15)</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>extended-key-usage</p></td>
<td><p>joint-iso-itu-t(2) ds(5) certificateExtension(29) extendedKeyUsage(37)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>subject-key-id</p></td>
<td><p>joint-iso-itu-t(2) ds(5) certificateExtension(29) subjectKeyIdentifier(14)</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>authority-key-id</p></td>
<td><p>joint-iso-itu-t(2) ds(5) certificateExtension(29) authorityKeyIdentifier(35)</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>future-extension</p></td>
<td><p>any valid ASN.1 OID (future extension)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="matter-certificate-extensions-encoding-rules">
<h4>6.5.12. Matter certificate Extensions Encoding Rules<a class="headerlink" href="#matter-certificate-extensions-encoding-rules" title="此标题的永久链接">¶</a></h4>
<p>The rules that SHALL be followed when encoding the Matter certificate are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• For a Matter Node Operational Certificate (NOC):
• For Matter ICA Certificate and Matter Root CA Certificate:
• For a Matter Firmware Signing Certificate these rules SHALL be followed:
• The extensions SHALL appear in the same order in the Matter certificate and in the corresponding X.509 certificates.
</pre></div>
</div>
</section>
<section id="id16">
<h4>6.5.13. Signature<a class="headerlink" href="#id16" title="此标题的永久链接">¶</a></h4>
<p>The context-specific tag <code class="docutils literal notranslate"><span class="pre">signature</span> <span class="pre">[11]</span></code> SHALL be used to identify the signature field in the Matter certificate structure.</p>
</section>
<section id="invalid-matter-certificates">
<h4>6.5.14. Invalid Matter certificates<a class="headerlink" href="#invalid-matter-certificates" title="此标题的永久链接">¶</a></h4>
<p>The Matter certificate is considered invalid if it violates Matter certificate encoding rules defined in this section.</p>
</section>
<section id="examples">
<h4>6.5.15. Examples<a class="headerlink" href="#examples" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id127">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/ysa8j3.png" src="https://img.zhaoweiguo.com/uPic/2022/11/ysa8j3.png" />
<figcaption>
<p><span class="caption-text">Certificate with Corresponding Private Key in an X.509 PEM Format</span><a class="headerlink" href="#id127" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id128">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/DaYCYF.png" src="https://img.zhaoweiguo.com/uPic/2022/11/DaYCYF.png" />
<figcaption>
<p><span class="caption-text">Certificate Printed in an X.509 DER Format</span><a class="headerlink" href="#id128" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id129">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/xdkoNh.png" src="https://img.zhaoweiguo.com/uPic/2022/11/xdkoNh.png" />
<figcaption>
<p><span class="caption-text">Certificate in Matter TLV Format</span><a class="headerlink" href="#id129" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id130">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/MhUTEt.png" src="https://img.zhaoweiguo.com/uPic/2022/11/MhUTEt.png" />
<figcaption>
<p><span class="caption-text">Certificate Printed in Matter TLV Schema Format</span><a class="headerlink" href="#id130" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="access-control">
<h3>6.6. Access Control<a class="headerlink" href="#access-control" title="此标题的永久链接">¶</a></h3>
<section id="scope-and-purpose">
<h4>6.6.1. Scope and Purpose<a class="headerlink" href="#scope-and-purpose" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>This section specifies the features related to controlling access to a Node’s Endpoint Clusters (“Targets” hereafter) from other Nodes. The overall features are collectively named “Access Control” hereafter.</p></li>
<li><p>The Access Control features aim to ensure that only authorized Nodes are permitted access to given application-layer functionality exposed by the <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Model</span></code>, through the <code class="docutils literal notranslate"><span class="pre">Interaction</span> <span class="pre">Model</span></code>. Access Control is the fundamental link between the <code class="docutils literal notranslate"><span class="pre">Secure</span> <span class="pre">Channel</span></code> and the <code class="docutils literal notranslate"><span class="pre">Interaction</span> <span class="pre">Model</span></code>.</p></li>
<li><p>In order to implement a policy of Access Control, Administrators on the fabric create and maintain a consistent distributed configuration of Access Control Lists (ACLs) across all Nodes. Each Node has an ACL containing Access Control Entries which codify the policy. The Access Control Cluster exposes a data model view of a Node’s ACL which enables its maintenance.</p></li>
</ul>
</section>
<section id="model">
<h4>6.6.2. Model<a class="headerlink" href="#model" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The Access Control system is rule-based with no implicit access permitted by default.</p></li>
<li><p>Access to a Node’s Targets is denied unless the Access Control system grants the required privilege level to a given Subject to interact with given Targets on that Node.</p></li>
<li><p>Initial Access Control privileges are bootstrapped during the commissioning phase, and maintained thereafter by Administrators.</p></li>
</ul>
<section id="subjects">
<h5>6.6.2.1. Subjects<a class="headerlink" href="#subjects" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The meaning of a “Subject” is primarily that of describing the source for an action, using a given authentication method provided by the Secure Channel architecture.</p></li>
</ul>
</section>
<section id="wildcards">
<h5>6.6.2.2. Wildcards<a class="headerlink" href="#wildcards" title="此标题的永久链接">¶</a></h5>
<p>The Subjects list of an Access Control Entry MAY grant a given privilege to more than one Subject, if the Authentication Mode allows it, such as in the case of the CASE and Group Authentication Modes.</p>
</section>
<section id="subjects-do-not-correspond-to-users">
<h5>6.6.2.3. Subjects do not correspond to users<a class="headerlink" href="#subjects-do-not-correspond-to-users" title="此标题的永久链接">¶</a></h5>
</section>
<section id="implementation-specific-rules">
<h5>6.6.2.4. Implementation-specific Rules<a class="headerlink" href="#implementation-specific-rules" title="此标题的永久链接">¶</a></h5>
</section>
<section id="incoming-subject-descriptors">
<h5>6.6.2.5. Incoming Subject Descriptors<a class="headerlink" href="#incoming-subject-descriptors" title="此标题的永久链接">¶</a></h5>
</section>
<section id="access-control-extensions">
<h5>6.6.2.6. Access Control Extensions<a class="headerlink" href="#access-control-extensions" title="此标题的永久链接">¶</a></h5>
</section>
<section id="application-level-permissions">
<h5>6.6.2.7. Application-level Permissions<a class="headerlink" href="#application-level-permissions" title="此标题的永久链接">¶</a></h5>
</section>
<section id="bootstrapping-of-the-access-control-cluster">
<h5>6.6.2.8. Bootstrapping of the Access Control Cluster<a class="headerlink" href="#bootstrapping-of-the-access-control-cluster" title="此标题的永久链接">¶</a></h5>
</section>
<section id="action-attribution">
<h5>6.6.2.9. Action attribution<a class="headerlink" href="#action-attribution" title="此标题的永久链接">¶</a></h5>
</section>
<section id="restrictions-on-administer-level-privilege-grant">
<h5>6.6.2.10. Restrictions on Administer Level Privilege Grant<a class="headerlink" href="#restrictions-on-administer-level-privilege-grant" title="此标题的永久链接">¶</a></h5>
</section>
</section>
<section id="access-control-list-examples">
<h4>6.6.3. Access Control List Examples<a class="headerlink" href="#access-control-list-examples" title="此标题的永久链接">¶</a></h4>
<p>Upon Factory Data Reset, the Access Control Cluster is empty, having an Access Control List with no entries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Access</span> <span class="n">Control</span> <span class="n">Cluster</span><span class="p">:</span> <span class="p">{</span>
    <span class="n">ACL</span><span class="p">:</span> <span class="p">[],</span>      <span class="o">//</span> <span class="n">empty</span>
    <span class="n">Extension</span><span class="p">:</span> <span class="p">[]</span> <span class="o">//</span> <span class="n">empty</span> <span class="p">(</span><span class="n">omitted</span> <span class="n">hereafter</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">PASE</span> <span class="pre">commissioning</span> <span class="pre">channel</span></code> during the <code class="docutils literal notranslate"><span class="pre">commissioning</span> <span class="pre">phase</span></code>, the following implicit Access Control Entry were present on the Commissionee (but not the Commissioner) to grant Administer privilege for the entire Node:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> Access Control Cluster: {
  ACL: [
    0: {                        // implicit entry only; does not explicitly exist!
      FabricIndex: 0,           // not fabric-specific
      Privilege: Administer,
      AuthMode: PASE,
      Subjects: [],
      Targets: []               // entire node
    }
  ]
}
</pre></div>
</div>
<p>During the commissioning phase, the <code class="docutils literal notranslate"><span class="pre">AddNOC</span></code> command automatically creates an Access Control Entry granting Administer privilege for the entire Node:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Access</span> <span class="n">Control</span> <span class="n">Cluster</span><span class="p">:</span> <span class="p">{</span>
    <span class="n">ACL</span><span class="p">:</span> <span class="p">[</span>
      <span class="mi">0</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">FabricIndex</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">Privilege</span><span class="p">:</span> <span class="n">Administer</span><span class="p">,</span>
        <span class="n">AuthMode</span><span class="p">:</span> <span class="n">CASE</span><span class="p">,</span>
        <span class="n">Subjects</span><span class="p">:</span> <span class="p">[</span> <span class="mh">0xAAAA_AAAA_AAAA_AAAA</span> <span class="p">],</span>   <span class="o">//</span> <span class="n">Node</span> <span class="n">ID</span> <span class="mh">0xAAAA_AAAA_AAAA_AAAA</span>
        <span class="n">Targets</span><span class="p">:</span> <span class="p">[]</span>
      <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An Administrator adds an Access Control Entry which grants <code class="docutils literal notranslate"><span class="pre">View</span></code> privilege, for the entire Node, to all CASE authenticated Nodes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Access</span> <span class="n">Control</span> <span class="n">Cluster</span><span class="p">:</span> <span class="p">{</span>
  <span class="n">ACL</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="mi">1</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">FabricIndex</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">Privilege</span><span class="p">:</span> <span class="n">View</span><span class="p">,</span>
        <span class="n">AuthMode</span><span class="p">:</span> <span class="n">CASE</span><span class="p">,</span>
        <span class="n">Subjects</span><span class="p">:</span> <span class="p">[],</span>
        <span class="n">Targets</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An Administrator adds an Access Control Entry which grants <code class="docutils literal notranslate"><span class="pre">Manage</span></code> privilege, for <code class="docutils literal notranslate"><span class="pre">endpoints</span> <span class="pre">1</span> <span class="pre">and</span> <span class="pre">3</span></code>, to any Nodes which can authenticate as members of Group 1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Access</span> <span class="n">Control</span> <span class="n">Cluster</span><span class="p">:</span> <span class="p">{</span>
  <span class="n">ACL</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="mi">2</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">FabricIndex</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">Privilege</span><span class="p">:</span> <span class="n">Manage</span><span class="p">,</span>
        <span class="n">AuthMode</span><span class="p">:</span> <span class="n">Group</span><span class="p">,</span>
        <span class="n">Subjects</span><span class="p">:</span> <span class="p">[</span> <span class="mh">0x0000_0000_0000_0001</span> <span class="p">],</span>
        <span class="n">Targets</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="n">Endpoint</span><span class="p">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="n">Endpoint</span><span class="p">:</span> <span class="mi">3</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An Administrator revises this Access Control Entry to grant the same privilege, for only the pump configuration and control cluster (0x0202) on endpoint 3, and for any door lock cluster (0x0101) on the entire Node, to the same Nodes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Access</span> <span class="n">Control</span> <span class="n">Cluster</span><span class="p">:</span> <span class="p">{</span>
  <span class="n">ACL</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="mi">2</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">FabricIndex</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">Privilege</span><span class="p">:</span> <span class="n">Manage</span><span class="p">,</span>
        <span class="n">AuthMode</span><span class="p">:</span> <span class="n">Group</span><span class="p">,</span>
        <span class="n">Subjects</span><span class="p">:</span> <span class="p">[</span> <span class="mh">0x0000_0000_0000_0001</span> <span class="p">],</span>
        <span class="n">Targets</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="n">Endpoint</span><span class="p">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="n">Endpoint</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">Cluster</span><span class="p">:</span> <span class="mh">0x0000_0202</span> <span class="p">},</span> <span class="p">{</span> <span class="n">Cluster</span><span class="p">:</span> <span class="mh">0x0000_0101</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An Administrator adds an Access Control Entry which grants <code class="docutils literal notranslate"><span class="pre">Operate</span></code> privilege, for all endpoints containing the extended color light device (0x010D) on the entire Node, to CASE authenticated Nodes 0x1111_1111_1111_1111 and 0x2222_2222_2222_2222:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Access</span> <span class="n">Control</span> <span class="n">Cluster</span><span class="p">:</span> <span class="p">{</span>
  <span class="n">ACL</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="mi">3</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">FabricIndex</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">Privilege</span><span class="p">:</span> <span class="n">Operate</span><span class="p">,</span>
        <span class="n">AuthMode</span><span class="p">:</span> <span class="n">CASE</span><span class="p">,</span>
        <span class="n">Subjects</span><span class="p">:</span> <span class="p">[</span> <span class="mh">0x1111_1111_1111_1111</span><span class="p">,</span> <span class="mh">0x2222_2222_2222_2222</span> <span class="p">],</span>
        <span class="n">Targets</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="n">DeviceType</span><span class="p">:</span> <span class="mh">0x0000_010D</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="access-control-cluster-update-side-effects">
<h4>6.6.4. Access Control Cluster update side-effects<a class="headerlink" href="#access-control-cluster-update-side-effects" title="此标题的永久链接">¶</a></h4>
<p>Updates to the Access Control Cluster SHALL take immediate effect in the Access Control system.</p>
</section>
<section id="conceptual-access-control-privilege-granting-algorithm">
<h4>6.6.5. Conceptual Access Control Privilege Granting Algorithm<a class="headerlink" href="#conceptual-access-control-privilege-granting-algorithm" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>This section describes an overall Conceptual Access Control Privilege Granting algorithm.</p></li>
<li><p>Implementations of this algorithm SHALL have an identical outcome to the output of this conceptual algorithm described below.</p></li>
</ul>
<section id="necessary-data-structures">
<h5>6.6.5.1. Necessary Data Structures<a class="headerlink" href="#necessary-data-structures" title="此标题的永久链接">¶</a></h5>
<section id="access-control-list">
<h6>6.6.5.1.1. Access Control List<a class="headerlink" href="#access-control-list" title="此标题的永久链接">¶</a></h6>
<p>The Access Control List contains several Access Control Entries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Subjects List (SubjectID[] Subjects)
• Targets List (TargetStruct[] Targets)
• Authentication Mode value (AuthModeEnum AuthMode)
• Privilege value (PrivilegeEnum Privilege)
</pre></div>
</div>
</section>
<section id="incoming-subject-descriptor-isd-structure">
<h6>6.6.5.1.2. Incoming Subject Descriptor (ISD) Structure<a class="headerlink" href="#incoming-subject-descriptor-isd-structure" title="此标题的永久链接">¶</a></h6>
<p>Each incoming message has a unique <code class="docutils literal notranslate"><span class="pre">&lt;AuthMode,</span> <span class="pre">SubjectDescriptor&gt;</span></code> applicable to it, whose derivation is deterministic based on both incoming message fields and session metadata fields.</p>
<p>The ISD fields are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Commissioning Flag (`bool IsCommissioning`),
    whether the authentication is over a commissioning channel.
• Authentication Mode (`AuthModeEnum AuthMode`),
    mapping to an authentication mode
• Subjects List (`list&lt;SubjectID&gt; Subjects`),
    mapping incoming message source to a type of subject
• Fabric Index (`FabricIndex FabricIndex`),
    mapping to a fabric reference.
</pre></div>
</div>
</section>
</section>
<section id="overall-algorithm">
<h5>6.6.5.2. Overall Algorithm<a class="headerlink" href="#overall-algorithm" title="此标题的永久链接">¶</a></h5>
<p>The algorithm takes as input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• the ISD of Incoming Message (`subject_desc`)
• the Endpoint ID (`endpoint_id`) for which the querier requires a Privilege level
• the Cluster ID (`cluster_id`) for which the querier requires a Privilege level
• the Access Control List (`acl`) from the Access Control Cluster
</pre></div>
</div>
<p>The output of the algorithm is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• A set of privileges granted for the Action Path,
    which is a subset of {View, ProxyView, Operate, Manage, Administer}
</pre></div>
</div>
</section>
<section id="derivation-of-isd-from-incoming-message">
<h5>6.6.5.3. Derivation of ISD from Incoming Message<a class="headerlink" href="#derivation-of-isd-from-incoming-message" title="此标题的永久链接">¶</a></h5>
<p>The algorithm to derive the ISD from an incoming message takes as input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• The incoming message (`message`)
• The Session ID of the incoming message (`session_id`)
• A conceptual Sessions Metadata database (`sessions_metadata`)
• The Group Key Management Cluster (`group_key_management_cluster`)
</pre></div>
</div>
<p>The output of the algorithm is the SubjectDescriptor structure below::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEFAULT_COMMISSIONING_PASSCODE</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">enum</span> <span class="n">AuthModeEnum</span> <span class="p">{</span>
    <span class="kc">None</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="c1"># conceptual &quot;no auth&quot; value</span>
    <span class="n">PASE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">CASE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">Group</span> <span class="o">=</span> <span class="mi">3</span>
<span class="p">}</span>

<span class="n">struct</span> <span class="n">SubjectDescriptor</span> <span class="p">{</span>
    <span class="nb">bool</span> <span class="n">IsCommissioning</span><span class="p">;</span>
    <span class="n">AuthModeEnum</span> <span class="n">AuthMode</span><span class="p">;</span>
    <span class="nb">list</span><span class="o">&lt;</span><span class="n">SubjectID</span><span class="o">&gt;</span> <span class="n">Subjects</span><span class="p">;</span> <span class="c1"># max 3 items</span>
    <span class="n">FabricIndex</span> <span class="n">FabricIndex</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="applying-privileges-to-action-paths">
<h4>6.6.6. Applying Privileges to Action Paths<a class="headerlink" href="#applying-privileges-to-action-paths" title="此标题的永久链接">¶</a></h4>
<p>The Data Model specifies which privilege is required for each data element, via its access qualities.</p>
</section>
</section>
</section>
<section id="chapter-7-data-model-specification">
<h2>Chapter 7. Data Model Specification<a class="headerlink" href="#chapter-7-data-model-specification" title="此标题的永久链接">¶</a></h2>
<section id="practical-information">
<h3>7.1. Practical Information<a class="headerlink" href="#practical-information" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This is part of a package of Data Model specifications that are agnostic to underlying layers (encoding, message, network, transport, etc.).</p></li>
<li><p>Each specification below may be independently maintained.</p></li>
<li><p>This package, as a whole, shall be independently maintained as agnostic and decoupled from lower layers.</p></li>
<li><p>This package may be referenced by inclusion in vertical protocol stack specifications.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Data Model
    Defines first order elements and namespace for
        endpoints, clusters, attributes, data types, etc.
• Interaction Model
    Defines interactions, transactions and actions between nodes.
• System Model
    Defines relationships that are managed between endpoints and clusters.
• Cluster Library
    Reference library of cluster specifications.
• Device Library
    Reference library of device type specifications.
</pre></div>
</div>
<ul class="simple">
<li><p>The origin of this section is the <code class="docutils literal notranslate"><span class="pre">Dotdot</span> <span class="pre">Architecture</span> <span class="pre">Model</span></code> [Dotdot Architecture] and parts of Chapter 2 of the <code class="docutils literal notranslate"><span class="pre">Zigbee</span> <span class="pre">Cluster</span> <span class="pre">Library</span> <span class="pre">specification</span></code> [ZCL] that define the data model.</p></li>
<li><p>This document defines first order elements and namespace of the data model and can also be called the <code class="docutils literal notranslate"><span class="pre">meta-model</span></code> (of the data model). This document is the “read me first” specification in the data model. This data model is ultimately implemented in the application layer of a communication stack.</p></li>
</ul>
<p>Glossary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MS</span><span class="p">:</span>     <span class="n">Manufacturer</span> <span class="ow">or</span> <span class="n">Vendor</span> <span class="n">Specific</span>
<span class="n">N</span><span class="o">/</span><span class="n">A</span><span class="p">:</span>    <span class="ow">not</span> <span class="n">applicable</span>
<span class="n">desc</span><span class="p">:</span>   <span class="n">see</span> <span class="n">detailed</span> <span class="n">description</span> <span class="n">section</span>
</pre></div>
</div>
</section>
<section id="data-qualities">
<h3>7.2. Data Qualities<a class="headerlink" href="#data-qualities" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Cluster specifications and device type definitions have tables that define the qualities of elements that make up the cluster or device type.</p></li>
</ul>
<p>7.2.1. Common Data Table Columns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• ID
• Name
• Field:
    Same as Name. deprecated
    Other headers like &quot;Field&quot;, &quot;Bit Field&quot;, and &quot;Command Field&quot;, are deprecated.
    UseName.
• Conformance:
    Defines dependencies on whether an element is optional or mandatory.
• Access:
    Defines how an element is accessed (e.g. read or write)
    and what privileges are required to access the data.
</pre></div>
</div>
<p>7.2.2. Other Data Table Columns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Data Type
    A data field requires this column for attribute, event or command data.
• Other Qualities
    This is a catchall column for uncategorized qualities.
• Default
    This defines a default value for data fields.
• Response
    Cluster command tables have this column.
• Direction
    Cluster command tables have this column.
• Priority
    Event tables have this column.
• Value
    Enumerations use this column instead of the ID column.
</pre></div>
</div>
</section>
<section id="conformance">
<h3>7.3. Conformance<a class="headerlink" href="#conformance" title="此标题的永久链接">¶</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">Conformance</span> <span class="pre">column</span></code> defines optionality and dependency for any data model element or set of elements.</p>
<p>Conformance Column:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>M: Mandatory
O: Optional
P: Provisional
D: Deprecated
X: Disallowed

AB:         Mandatory
[AB]:       Optional
EF:         Operand
EF==v:      Equal
EF!=v:      Unequal
AB | CD:    Or
AB ^ CD:    Xor
AB &amp; CD:    And
!AB:        Exclusivity
(AB &amp; CD):  Parenthese
C1, C2...   List
C.an        Choice
</pre></div>
</div>
<p>List Conformance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• &quot;AB, O&quot; means mandatory for AB and optional otherwise.
• &quot;AB, [CD]&quot; means mandatory for AB, optional if CD is true and AB is false, otherwise not allowed.
• &quot;!AB, O&quot; means mandatory if AB is false, otherwise optional (if AB is true).
• &quot;[AB], M&quot; is the equivalent to &quot;!AB, O&quot;, and a clearer way to define the conformance.
• &quot;[AA], [BB], [CC]&quot; is the equivalent to &quot;[AA | BB | CC]&quot;.
</pre></div>
</div>
<p>Choice Conformance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• &quot;AB.a&quot; means only one of the &quot;a&quot; elements SHALL be supported.
• &quot;AB.a2&quot; means exactly two of the &quot;a&quot; elements SHALL be supported.
• &quot;AB.a2+&quot; means at least two of the &quot;a&quot; elements SHALL be supported.
• &quot;AB.a+&quot; means at least one of the &quot;a&quot; elements SHALL be supported.
</pre></div>
</div>
</section>
<section id="element">
<h3>7.4. Element<a class="headerlink" href="#element" title="此标题的永久链接">¶</a></h3>
<p>Listed below are the elements of the data model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• First order elements
    fabric, node, endpoint, cluster
• Cluster first order elements
    command, event, attribute
• Nested elements
    command field, event field, struct field
• Dynamic element
    list entry
• Semantic elements
    device type, data type
• Attribute data
    elements (above) that are part of an attribute
• Data field
    attribute, field element, or list entry (see Data Field)
</pre></div>
</div>
</section>
<section id="fabric">
<h3>7.5. Fabric<a class="headerlink" href="#fabric" title="此标题的永久链接">¶</a></h3>
<p>A fabric is set of nodes that interact by accessing data model elements as defined in the Interaction Model. A fabric is a security domain that allows a set of nodes to be identified and communicate within the context of the domain.</p>
</section>
<section id="access">
<h3>7.6. Access<a class="headerlink" href="#access" title="此标题的永久链接">¶</a></h3>
<p>An Access column defines access to a data model element or set of elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• R       Read Access
• W       Write Access
• R[W]    Read Access and optionally Write Access
• R*W     Deprecated: use R[W]

Fabric - separate with space from RW:
• F Fabric-Scoped Quality
• S Fabric-Sensitive Quality

Privileges - separate with space from RW FS:
• V    View privilege
• O    Operate privilege
• M    Manage privilege
• A    Administer privilege

Timed - separate with space from RW FS VOMA
• T    Write Access or Invoke Access with timed interaction only
</pre></div>
</div>
</section>
<section id="other-qualities">
<h3>7.7. Other Qualities<a class="headerlink" href="#other-qualities" title="此标题的永久链接">¶</a></h3>
<p>Some qualities are limited to a specific set of elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• X   Nullable        data fields
• N   Non-Volatile    attribute data
    the attribute data value is non-volatile and is persistent across restarts
• F   Fixed           attribute data
    the read only value is a fixed value that never changes, unless the program image changes
• S   Scene           attribute
    the attribute is part of a scene
• P   Reportable      attribute
• C   Changes Omitted    attribute data
• I   Singleton           device type
• !Q  Disalow             device type
</pre></div>
</div>
</section>
<section id="node">
<h3>7.8. Node<a class="headerlink" href="#node" title="此标题的永久链接">¶</a></h3>
<p>A Node encapsulates an addressable, unique resource on the network that has a set of functions and capabilities that a user recognizes distinctly as a functional whole.</p>
</section>
<section id="endpoint">
<h3>7.9. Endpoint<a class="headerlink" href="#endpoint" title="此标题的永久链接">¶</a></h3>
<p>A node is composed of one or more endpoints. An endpoint is an instance of something that could be a service or virtual device as indicated by a device type.</p>
</section>
<section id="cluster">
<h3>7.10. Cluster<a class="headerlink" href="#cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Clusters are the functional building block elements of the data model.</p></li>
<li><p>A cluster specification defines both a client and server side that correspond with each other through interactions.</p></li>
<li><p>A cluster may be considered an interface, service, or object class and is the lowest independent functional element in the data model.</p></li>
<li><p>Each cluster is defined by a cluster specification that defines elements of a cluster including attributes, events, commands, as well as behavior associated with interactions with these elements.</p></li>
<li><p>The server cluster supports <code class="docutils literal notranslate"><span class="pre">attribute</span> <span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">events</span></code> and <code class="docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">commands</span></code>.</p></li>
<li><p>The client cluster initiates interactions, including invocation of <code class="docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">commands</span></code>.</p></li>
</ul>
<p>Cluster Classification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Utility Cluster
    It may be used for:
        • configuration,
        • discovery,
        • addressing,
        • diagnostics,
        • monitoring device health,
        • software update,
        • etc.
    It may have a temporary relationship with its cluster counterpart.
    examples:
         scoped to an `endpoint`: Identify, Descriptor, Binding, Groups, etc.
         scoped to the `node`: Basic Information, Diagnostics, etc.
2. Application Cluster
    It supports the primary operation of the endpoint.
    It supports one or more persistent application interactions between client and server.
    Example application cluster transactions:
        • On/Off cluster - client sends command to server
        • Temperature Measurement cluster - server reports data to client
</pre></div>
</div>
</section>
<section id="command">
<h3>7.11. Command<a class="headerlink" href="#command" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>A cluster command is a set of data fields, each of a data type that is conveyed between client and server cluster instances to invoke a behavior on the receiver of the command.</p></li>
</ul>
<p>Each command SHALL be listed in a table with data quality columns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• ID,
• Name,
• Direction,
• Response,
• Access,
• Conformance.
</pre></div>
</div>
<p>A cluster command table SHALL have a <code class="docutils literal notranslate"><span class="pre">Response</span> <span class="pre">column</span></code> with the following values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• N:         no response is returned for this command
• Y:         status only is returned for this command
• command:   name of the response command to this command
</pre></div>
</div>
<p>A cluster command table SHALL have a Direction column with the following values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• client ⇒ server
• client ⇐ server
</pre></div>
</div>
<p>Command Fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• ID           This is the unique field ID of the field
• Name         This is the unique name of the field
• Type         This is the data type of the field
• Constraint   see `Constraint`
• Quality      see `qualities`
• Default      see `Default`
• Conformance  see `Conformance`
</pre></div>
</div>
</section>
<section id="attribute">
<h3>7.12. Attribute<a class="headerlink" href="#attribute" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>An attribute is cluster data.</p></li>
<li><p>Each attribute SHALL be listed in a table with data quality columns: <code class="docutils literal notranslate"><span class="pre">ID</span></code>, <code class="docutils literal notranslate"><span class="pre">Name</span></code>, <code class="docutils literal notranslate"><span class="pre">(Data)</span> <span class="pre">Type</span></code>, <code class="docutils literal notranslate"><span class="pre">Constraint</span></code>, <code class="docutils literal notranslate"><span class="pre">other</span> <span class="pre">Quality</span></code>, <code class="docutils literal notranslate"><span class="pre">Access</span></code>, <code class="docutils literal notranslate"><span class="pre">Default</span> <span class="pre">(value)</span></code>, and <code class="docutils literal notranslate"><span class="pre">Conformance</span></code>.</p></li>
<li><p>Persistent data retains its value across a restart(except factory reset).</p></li>
</ul>
</section>
<section id="global-elements">
<h3>7.13. Global Elements<a class="headerlink" href="#global-elements" title="此标题的永久链接">¶</a></h3>
<figure class="align-default" id="id131">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/mbKhZT.png" src="https://img.zhaoweiguo.com/uPic/2022/11/mbKhZT.png" />
<figcaption>
<p><span class="caption-text">list of global elements used for self-description of the server.</span><a class="headerlink" href="#id131" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="event">
<h3>7.14. Event<a class="headerlink" href="#event" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>An event defines a record of something that occurred in the past.</p></li>
<li><p>In this regard, an event record can be thought of as a log entry, with an event record stream providing a chronological view of the events on the node.</p></li>
</ul>
<p>Priority:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEBUG</span>
<span class="n">INFO</span>
<span class="n">CRITICAL</span>
</pre></div>
</div>
<p>Event Record SHALL have the following data fields associated with it that are common to all events:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Event Number
• Timestamp
• Priority
</pre></div>
</div>
</section>
<section id="device-type">
<h3>7.15. Device Type<a class="headerlink" href="#device-type" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>In this architecture model, a device type is the highest semantic element.</p></li>
<li><p>A device type defines conformance for a set of one or more endpoints.</p></li>
<li><p>A device type defines a set of requirements for the node or endpoint in the market.</p></li>
</ul>
</section>
<section id="non-standard">
<h3>7.16. Non-Standard<a class="headerlink" href="#non-standard" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This architecture model provides mechanisms for non-standard or manufacturer specific items such as clusters, commands, events, attributes and attribute data fields.</p></li>
</ul>
</section>
<section id="data-field">
<h3>7.17. Data Field<a class="headerlink" href="#data-field" title="此标题的永久链接">¶</a></h3>
<ul>
<li><p>A data field is any <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, <code class="docutils literal notranslate"><span class="pre">field</span></code> or <code class="docutils literal notranslate"><span class="pre">entry</span></code> that is not a collection data type, or data that is not surfaced as an attribute, but defined in a cluster specification.</p></li>
<li><p>Each cluster <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">field</span></code> SHALL be defined with a table including these columns for data qualities:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Data Type
• Constraint
• Quality
• Access
• Default
• Conformance
</pre></div>
</div>
</li>
</ul>
<p>Common Literal Values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>
<span class="mi">1</span>
<span class="n">FALSE</span>
<span class="n">TRUE</span>
<span class="n">NaN</span>
<span class="n">null</span>
<span class="n">empty</span>
<span class="nb">min</span>
<span class="nb">max</span>
<span class="n">numeric</span> <span class="n">units</span>
</pre></div>
</div>
<p>Constraint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
<span class="n">x</span> <span class="n">to</span> <span class="n">y</span>
<span class="nb">max</span> <span class="n">y</span>
<span class="nb">min</span> <span class="n">x</span>
<span class="nb">all</span>
</pre></div>
</div>
<p>Default Value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• If the data field is nullable then the default value SHALL be null
• Else the default value SHALL be one of the following, depending on type:
    ◦ Boolean: false
    ◦ Analog: 0 or 0.0, depending on range ◦ Bitmaps: 0
    ◦ Enumeration: MS
    ◦ Composite:
        ▪ String: empty
        ▪ List: empty
        ▪ Struct: default is recursively composited from the defaults of its member fields
    ◦ Derived types: use the default value of the base type
</pre></div>
</div>
</section>
<section id="data-types">
<h3>7.18. Data Types<a class="headerlink" href="#data-types" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Each data field in a cluster specification SHALL have a well-defined data type.</p></li>
<li><p>Each attribute in a cluster specification SHALL map to a single data type.</p></li>
</ul>
<p>Base Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Discrete
    ◦ Boolean
    ◦ Bitmap
• Analog
    ◦ Unsigned Integer
    ◦ Signed Integer
    ◦ Floating Point
• Composite
    ◦ String
    ◦ Collection
        ▪ List
        ▪ Struct
</pre></div>
</div>
<p>Derived Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Analog
    ◦ Relative
        ▪ percent
    ◦ Time
        ▪ Date(struct)
        ▪ UTC Time(uint32)
• Discrete
    ◦ Enumeration
        ▪ Status Code
        ▪ Priority
    ◦ Identifier
        ▪ Fabric ID
        ▪ Node ID
        ▪ ...
    ◦ Index
        ▪ Entry Index
    ◦ Counter
        ▪ Data Version
        ▪ Event Number
• Composite
    ◦ String
    ◦ Address
        ▪ IP Address
        ▪ Hardware Address
</pre></div>
</div>
<p>▪ Status Code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x00</span> <span class="n">common</span> <span class="n">status</span> <span class="n">code</span><span class="p">:</span> <span class="n">SUCCESS</span>
<span class="mh">0x01</span> <span class="n">common</span> <span class="n">status</span> <span class="n">code</span><span class="p">:</span> <span class="n">FAILURE</span>
<span class="mh">0x02</span> <span class="n">to</span> <span class="mh">0x10</span> <span class="n">cluster</span> <span class="n">scoped</span> <span class="n">status</span> <span class="n">codes</span>
<span class="mh">0x70</span> <span class="n">to</span> <span class="mh">0xCF</span> <span class="n">other</span> <span class="n">common</span> <span class="n">status</span> <span class="n">codes</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">Interaction</span> <span class="n">Model</span> <span class="n">Status</span> <span class="n">Code</span> <span class="n">Table</span><span class="o">.</span>
</pre></div>
</div>
<p>▪ Priority:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>       <span class="n">DEBUG</span>
<span class="mi">1</span>       <span class="n">INFO</span>
<span class="mi">2</span>       <span class="n">CRITICAL</span>
</pre></div>
</div>
<p>▪ IP Address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Address 192.168.2.235 → C0A802EB
• Address 10.4.200.75 → 0A04C84B
• Address 2001:DB8:0:0:8:800:200C:417A → 20010DB80000000000080800200C417A
• Address 2001:0DB8:1122:3344:5566:7788:99AA:BBCC → 20010DB8112233445566778899AABBCC
</pre></div>
</div>
</section>
<section id="manufacturer-specific-extensions">
<h3>7.19. Manufacturer Specific Extensions<a class="headerlink" href="#manufacturer-specific-extensions" title="此标题的永久链接">¶</a></h3>
<p>This section covers Manufacturer Specific (MS) extensions and how they are supported by identifiers, paths, wildcards, discoverability, etc.</p>
</section>
</section>
<section id="chapter-8-interaction-model-specification">
<h2>Chapter 8. Interaction Model Specification<a class="headerlink" href="#chapter-8-interaction-model-specification" title="此标题的永久链接">¶</a></h2>
<section id="id17">
<h3>8.1. Practical Information<a class="headerlink" href="#id17" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The purpose is to define a layer that abstracts interactions from other layers, including security, transport, message format &amp; encoding.</p></li>
</ul>
<p>Glossary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Wildcardable(A)
• Optional(O)
• Quality(Qual, Q)
• Action Flow
• Supported
• Unsupported

• Path
    a path to an element
• Group Path
    a path with a group ID instead of node ID and endpoint number
• Wildcard Path
    a path with one or more elements that are wildcards
• Attribute Path
    a path to an attribute data field path for attribute data
• Request Path
    a path that may be a group or wildcard path
    (of course may be a Concrete Path)
• Concrete Path
    a path that is not a group or wildcard path
• Existent Path
    a concrete path that exists on a server cluster
</pre></div>
</div>
</section>
<section id="concepts">
<h3>8.2. Concepts<a class="headerlink" href="#concepts" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Relationships between devices are established using data model elements and interactions defined here.</p></li>
<li><p>An interaction is a sequence of transactions. A transaction is a sequence of actions.</p></li>
<li><p>An action is a single logical communication from a source node to one or more destination nodes. An action is conveyed by one or more messages.</p></li>
<li><p>The actual construction and encoding of messages is left to the message layer, which is the layer below this layer.</p></li>
</ul>
<section id="path">
<h4>8.2.1. Path<a class="headerlink" href="#path" title="此标题的永久链接">¶</a></h4>
<p>A path is used to indicate one or more element instances in the data model. The path has the form as described in <code class="docutils literal notranslate"><span class="pre">Augmented</span> <span class="pre">Backus–Naur</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• &lt;path&gt; ::= &lt;target&gt; &lt;cluster&gt; &lt;cluster element&gt;
• &lt;target&gt; ::= &lt;group target&gt; | &lt;endpoint target&gt;
• &lt;group target&gt; ::= &lt;group ID&gt;
• &lt;endpoint target&gt; ::= &lt;node&gt; &lt;endpoint&gt;
• &lt;endpoint&gt; ::= &lt;wildcard endpoint&gt; | &lt;concrete endpoint&gt;
• &lt;cluster&gt; ::= &lt;wildcard cluster&gt; | &lt;concrete cluster&gt;
• &lt;cluster element&gt; ::= &lt;attribute&gt; | &lt;event&gt; | &lt;command&gt;
</pre></div>
</div>
<p>An <code class="docutils literal notranslate"><span class="pre">Attribute</span></code> Path is a path indicating an <code class="docutils literal notranslate"><span class="pre">&lt;attribute&gt;</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span> <span class="o">&lt;</span><span class="n">attribute</span> <span class="n">ID</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">nesting</span> <span class="n">level</span><span class="o">&gt;*</span>
<span class="o">&lt;</span><span class="n">nesting</span> <span class="n">level</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span> <span class="o">&lt;</span><span class="n">struct</span> <span class="n">field</span> <span class="n">ID</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="nb">list</span> <span class="n">entry</span> <span class="n">index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">Command</span></code> Path is a path indicating a <code class="docutils literal notranslate"><span class="pre">&lt;command&gt;</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">command</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span> <span class="o">&lt;</span><span class="n">command</span> <span class="n">ID</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>An <code class="docutils literal notranslate"><span class="pre">Event</span></code> Path is a path indicating an <code class="docutils literal notranslate"><span class="pre">&lt;event&gt;</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">event</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span> <span class="o">&lt;</span><span class="n">event</span> <span class="n">ID</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="interaction">
<h4>8.2.2. Interaction<a class="headerlink" href="#interaction" title="此标题的永久链接">¶</a></h4>
<p>An <code class="docutils literal notranslate"><span class="pre">interaction</span></code> is a sequence of one or more <code class="docutils literal notranslate"><span class="pre">transactions</span></code> between nodes, that occurs in the context of an accessing fabric, or no fabric.</p>
<ul class="simple">
<li><p>An interaction may be a single transaction (e.g. Read).</p></li>
<li><p>An interaction may be an unbounded number of transactions (e.g. Subscribe)</p></li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Interaction</p></th>
<th class="head"><p>Transactions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Read Interaction</p></td>
<td><p>Read</p></td>
</tr>
<tr class="row-odd"><td><p>Subscribe Interaction</p></td>
<td><p>Subscribe, Report</p></td>
</tr>
<tr class="row-even"><td><p>Write Interaction</p></td>
<td><p>Write</p></td>
</tr>
<tr class="row-odd"><td><p>Invoke Interaction</p></td>
<td><p>Invoke</p></td>
</tr>
</tbody>
</table>
</section>
<section id="transaction">
<h4>8.2.3. Transaction<a class="headerlink" href="#transaction" title="此标题的永久链接">¶</a></h4>
<p>A transaction is either the whole, or part of an interaction. A transaction is a sequence of one or more actions.</p>
</section>
<section id="action">
<h4>8.2.4. Action<a class="headerlink" href="#action" title="此标题的永久链接">¶</a></h4>
<p>all actions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Status Response Action
• Read Request Action
• Report Data Action
• Subscribe Request Action
• Subscribe Response Action
• Write Request Action
• Write Response Action
• Invoke Request Action
• Invoke Response Action
• Timed Request Action
</pre></div>
</div>
</section>
<section id="common-action-behavior">
<h4>8.2.5. Common Action Behavior<a class="headerlink" href="#common-action-behavior" title="此标题的永久链接">¶</a></h4>
<p>Common Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• InteractionModelRevision
• Action
• TransactionID
• FabricIndex
• SourceNode
• DestinationNode/DestinationGroup
• action specific
</pre></div>
</div>
<ul class="simple">
<li><p>Outgoing Action</p></li>
<li><p>Incoming Action</p></li>
</ul>
</section>
</section>
<section id="status-and-interaction">
<h3>8.3. Status and Interaction<a class="headerlink" href="#status-and-interaction" title="此标题的永久链接">¶</a></h3>
<p>There is no Status interaction, but an error status may be generated as part of any interaction.</p>
<section id="status-response-action">
<h4>8.3.1. Status Response Action<a class="headerlink" href="#status-response-action" title="此标题的永久链接">¶</a></h4>
<p>This action is defined as a following action for some actions, or is generated when there is an unspecified transaction or interaction error.</p>
</section>
</section>
<section id="read-interaction">
<h3>8.4. Read Interaction<a class="headerlink" href="#read-interaction" title="此标题的永久链接">¶</a></h3>
<p>This interaction is generated when an initiator wishes to determine the value of one or more attributes or events located on a node.</p>
<section id="read-transaction">
<h4>8.4.1. Read Transaction<a class="headerlink" href="#read-transaction" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Read Request Initiator ⇒ Target
• Report Data Initiator ⇐ Target
</pre></div>
</div>
</section>
<section id="read-request-action">
<h4>8.4.2. Read Request Action<a class="headerlink" href="#read-request-action" title="此标题的永久链接">¶</a></h4>
<p>Read Request Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• AttributeRequests
• DataVersionFilters
• EventRequests
• EventFilters
• FabricFiltered
</pre></div>
</div>
</section>
<section id="report-data-action">
<h4>8.4.3. Report Data Action<a class="headerlink" href="#report-data-action" title="此标题的永久链接">¶</a></h4>
<p>Report Data Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• SuppressResponse
• SubscriptionId
• AttributeReports
• EventReports
</pre></div>
</div>
</section>
</section>
<section id="subscribe-interaction">
<h3>8.5. Subscribe Interaction<a class="headerlink" href="#subscribe-interaction" title="此标题的永久链接">¶</a></h3>
<p>The Subscribe interaction is composed of these transactions:
+————–+—————————————————————–+
| Transaction  | Description                                                     |
+==============+=================================================================+
| Subscribe    | start and prime a reporting session                             |
+————–+—————————————————————–+
| Report       | synchronized Report transaction                                 |
+————–+—————————————————————–+
| more reports | continuous Report transactions for the life of the subscription |
+————–+—————————————————————–+</p>
<section id="subscribe-transaction">
<h4>8.5.1. Subscribe Transaction<a class="headerlink" href="#subscribe-transaction" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Subscribe Request       Initiator ⇒ Target
• Report Data             Initiator ⇐ Target
• Status Response         Initiator ⇒ Target
• Subscribe Response      Initiator ⇐ Target
</pre></div>
</div>
</section>
<section id="subscribe-request-action">
<h4>8.5.2. Subscribe Request Action<a class="headerlink" href="#subscribe-request-action" title="此标题的永久链接">¶</a></h4>
<p>Subscribe Request Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• KeepSubscriptions
• MinIntervalFloor
• MaxIntervalCeiling
• AttributeRequests
• DataVersionFilters
• EventRequests
• EventFilters
• FabricFiltered
</pre></div>
</div>
</section>
<section id="subscribe-response-action">
<h4>8.5.3. Subscribe Response Action<a class="headerlink" href="#subscribe-response-action" title="此标题的永久链接">¶</a></h4>
<p>Subscribe Response Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• SubscriptionId
• MaxInterval
</pre></div>
</div>
</section>
</section>
<section id="report-transaction">
<h3>8.6. Report Transaction<a class="headerlink" href="#report-transaction" title="此标题的永久链接">¶</a></h3>
<p>There is no Report interaction. A Report transaction is part of a Subscribe interaction.</p>
<section id="report-transaction-non-empty">
<h4>8.6.1. Report Transaction Non-Empty<a class="headerlink" href="#report-transaction-non-empty" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Report Data         Initiator ⇐ Target
• Status Response     Initiator ⇒ Target
</pre></div>
</div>
</section>
<section id="report-transaction-empty">
<h4>8.6.2. Report Transaction Empty<a class="headerlink" href="#report-transaction-empty" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Report Data     Initiator ⇐ Target
</pre></div>
</div>
</section>
</section>
<section id="write-interaction">
<h3>8.7. Write Interaction<a class="headerlink" href="#write-interaction" title="此标题的永久链接">¶</a></h3>
<p>This interaction is started when an initiator wishes to modify the values of one or more attributes located on one or more nodes.</p>
<section id="write-transaction">
<h4>8.7.1. Write Transaction<a class="headerlink" href="#write-transaction" title="此标题的永久链接">¶</a></h4>
<p>Timed Write Transaction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Timed Request       Initiator ⇒ Target
• Status Response     Initiator ⇐ Target
• Write Request       Initiator ⇒ Target
• Write Response      Initiator ⇐ Target
</pre></div>
</div>
<p>Untimed Write Transaction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Write Request       Initiator ⇒ Target
• Write Response      Initiator ⇐ Target
</pre></div>
</div>
</section>
<section id="write-request-action">
<h4>8.7.2. Write Request Action<a class="headerlink" href="#write-request-action" title="此标题的永久链接">¶</a></h4>
<p>Write Request Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• SuppressResponse
• TimedRequest
• WriteRequests
</pre></div>
</div>
</section>
<section id="write-response-action">
<h4>8.7.3. Write Response Action<a class="headerlink" href="#write-response-action" title="此标题的永久链接">¶</a></h4>
<p>Write Response Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• WriteResponses
</pre></div>
</div>
</section>
<section id="timed-request-action">
<h4>8.7.4. Timed Request Action<a class="headerlink" href="#timed-request-action" title="此标题的永久链接">¶</a></h4>
<p>This action informs the receiver that another action will be sent in the same direction, within the same transaction, and within a specified Timeout interval. The Timeout interval SHALL start when the Status Response action acknowledging the Timed Request action with a success code is sent.</p>
<ul>
<li><p>Timed Request Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Timeout
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="invoke-interaction">
<h3>8.8. Invoke Interaction<a class="headerlink" href="#invoke-interaction" title="此标题的永久链接">¶</a></h3>
<p>This interaction is generated when a device wishes to invoke one or more cluster specific commands on one or more nodes. Cluster commands are defined as either client to server or server to client. Invoke Request action SHALL support group paths and SHOULD support wildcard paths. Invoke Response action does not support wildcard paths.</p>
<section id="invoke-transaction">
<h4>8.8.1. Invoke Transaction<a class="headerlink" href="#invoke-transaction" title="此标题的永久链接">¶</a></h4>
<p>Timed Invoke Transaction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Timed Request       Initiator ⇒ Target
• Status Response     Initiator ⇐ Target
• Invoke Request      Initiator ⇒ Target
• Invoke Response     Initiator ⇐ Target
• ...                 Initiator ⇐⇒ Target
</pre></div>
</div>
<p>Untimed Invoke Transaction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Invoke Request      Initiator ⇒ Target
• Invoke Response     Initiator ⇐ Target
• ...                 Initiator ⇐⇒ Target
</pre></div>
</div>
</section>
<section id="invoke-request-action">
<h4>8.8.2. Invoke Request Action<a class="headerlink" href="#invoke-request-action" title="此标题的永久链接">¶</a></h4>
<p>Invoke Request Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• SuppressResponse
• TimedRequest
• InvokeRequests
</pre></div>
</div>
</section>
<section id="invoke-response-action">
<h4>8.8.3. Invoke Response Action<a class="headerlink" href="#invoke-response-action" title="此标题的永久链接">¶</a></h4>
<p>Invoke Response Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• SuppressResponse
• InvokeResponses
</pre></div>
</div>
</section>
</section>
<section id="common-action-information-blocks-and-paths">
<h3>8.9. Common Action Information Blocks and Paths<a class="headerlink" href="#common-action-information-blocks-and-paths" title="此标题的永久链接">¶</a></h3>
<section id="path-information">
<h4>8.9.1. Path Information<a class="headerlink" href="#path-information" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id132">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/gVSDeq.png" src="https://img.zhaoweiguo.com/uPic/2022/11/gVSDeq.png" />
<figcaption>
<p><span class="caption-text">ClusterPathIB</span><a class="headerlink" href="#id132" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="attribute-information-blocks">
<h4>8.9.2. Attribute Information Blocks<a class="headerlink" href="#attribute-information-blocks" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id133">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/Z7mTQL.png" src="https://img.zhaoweiguo.com/uPic/2022/11/Z7mTQL.png" />
<figcaption>
<p><span class="caption-text">AttributePathIB</span><a class="headerlink" href="#id133" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id134">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/FG95ZT.png" src="https://img.zhaoweiguo.com/uPic/2022/11/FG95ZT.png" />
<figcaption>
<p><span class="caption-text">NestingLevelIB</span><a class="headerlink" href="#id134" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id135">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/l6Ha0w.png" src="https://img.zhaoweiguo.com/uPic/2022/11/l6Ha0w.png" />
<figcaption>
<p><span class="caption-text">AttributeDataIB</span><a class="headerlink" href="#id135" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p><code class="docutils literal notranslate"><span class="pre">Change</span></code> field indicates a change to a list for a write interaction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">REPLACE</span>
<span class="n">ADD</span>
<span class="n">DELETE</span>
<span class="n">MODIFY</span>
</pre></div>
</div>
<figure class="align-default" id="id136">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/kOzUOv.png" src="https://img.zhaoweiguo.com/uPic/2022/11/kOzUOv.png" />
<figcaption>
<p><span class="caption-text">AttributeReportIB</span><a class="headerlink" href="#id136" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id137">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/Un1jop.png" src="https://img.zhaoweiguo.com/uPic/2022/11/Un1jop.png" />
<figcaption>
<p><span class="caption-text">DataVersionFilterIB</span><a class="headerlink" href="#id137" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="event-information-blocks-and-paths">
<h4>8.9.3. Event Information Blocks and Paths<a class="headerlink" href="#event-information-blocks-and-paths" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id138">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/zJCZle.png" src="https://img.zhaoweiguo.com/uPic/2022/11/zJCZle.png" />
<figcaption>
<p><span class="caption-text">EventFilterIB, EventPathIB, EventDataIB, EventReportIB</span><a class="headerlink" href="#id138" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="command-information-blocks-and-paths">
<h4>8.9.4. Command Information Blocks and Paths<a class="headerlink" href="#command-information-blocks-and-paths" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id139">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/DPdBTp.png" src="https://img.zhaoweiguo.com/uPic/2022/11/DPdBTp.png" />
<figcaption>
<p><span class="caption-text">CommandPathIB, CommandDataIB, InvokeResponseIB</span><a class="headerlink" href="#id139" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="status-information-blocks-and-paths">
<h4>8.9.5. Status Information Blocks and Paths<a class="headerlink" href="#status-information-blocks-and-paths" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id140">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/EoiSRJ.png" src="https://img.zhaoweiguo.com/uPic/2022/11/EoiSRJ.png" />
<figcaption>
<p><span class="caption-text">CommandStatusIB, EventStatusIB, AttributeStatusIB, StatusIB</span><a class="headerlink" href="#id140" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="status-codes">
<h3>8.10. Status Codes<a class="headerlink" href="#status-codes" title="此标题的永久链接">¶</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Status Code</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SUCCESS</p></td>
<td><p>0x00</p></td>
</tr>
<tr class="row-odd"><td><p>FAILURE</p></td>
<td><p>0x01</p></td>
</tr>
<tr class="row-even"><td><p>INVALID_SUBSCRIPTION</p></td>
<td><p>0x7D</p></td>
</tr>
<tr class="row-odd"><td><p>UNSUPPORTED_ACCESS(NOT_AUTHORIZED)</p></td>
<td><p>0x7E</p></td>
</tr>
<tr class="row-even"><td><p>UNSUPPORTED_ENDPOINT</p></td>
<td><p>0x7F</p></td>
</tr>
<tr class="row-odd"><td><p>INVALID_ACTION</p></td>
<td><p>0x80</p></td>
</tr>
<tr class="row-even"><td><p>UNSUPPORTED_COMMAND(UNSUP_COMMAND) 0x81</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x82</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0x83</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x84</p></td>
</tr>
<tr class="row-even"><td><p>INVALID_COMMAND(INVALID_FIELD)</p></td>
<td><p>0x85</p></td>
</tr>
<tr class="row-odd"><td><p>UNSUPPORTED_ATTRIBUTE</p></td>
<td><p>0x86</p></td>
</tr>
<tr class="row-even"><td><p>CONSTRAINT_ERROR(INVALID_VALUE)</p></td>
<td><p>0x87</p></td>
</tr>
<tr class="row-odd"><td><p>UNSUPPORTED_WRITE READ_ONLY</p></td>
<td><p>0x88</p></td>
</tr>
<tr class="row-even"><td><p>RESOURCE_EXHAUSTED(INSUFFICIENT_SPACE)</p></td>
<td><p>0x89</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x8A</p></td>
</tr>
<tr class="row-even"><td><p>NOT_FOUND</p></td>
<td><p>0x8B</p></td>
</tr>
<tr class="row-odd"><td><p>UNREPORTABLE_ATTRIBUTE</p></td>
<td><p>0x8C</p></td>
</tr>
<tr class="row-even"><td><p>INVALID_DATA_TYPE</p></td>
<td><p>0x8D</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x8E</p></td>
</tr>
<tr class="row-even"><td><p>UNSUPPORTED_READ</p></td>
<td><p>0x8F</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x90</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0x91</p></td>
</tr>
<tr class="row-odd"><td><p>DATA_VERSION_MISMATCH</p></td>
<td><p>0x92</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0x93</p></td>
</tr>
<tr class="row-odd"><td><p>TIMEOUT</p></td>
<td><p>0x94</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0x95</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x96</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0x97</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x98</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0x99</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0x9A</p></td>
</tr>
<tr class="row-even"><td><p>UNSUPPORTED_NODE</p></td>
<td><p>0x9B</p></td>
</tr>
<tr class="row-odd"><td><p>BUSY</p></td>
<td><p>0x9C</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0xC0</p></td>
</tr>
<tr class="row-odd"><td><p>reserved</p></td>
<td><p>0xC1</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0xC2</p></td>
</tr>
<tr class="row-odd"><td><p>UNSUPPORTED_CLUSTER</p></td>
<td><p>0xC3</p></td>
</tr>
<tr class="row-even"><td><p>reserved</p></td>
<td><p>0xC4</p></td>
</tr>
<tr class="row-odd"><td><p>NO_UPSTREAM_SUBSCRIPTION</p></td>
<td><p>0xC5</p></td>
</tr>
<tr class="row-even"><td><p>NEEDS_TIMED_INTERACTION</p></td>
<td><p>0xC6</p></td>
</tr>
<tr class="row-odd"><td><p>UNSUPPORTED_EVENT</p></td>
<td><p>0xC7</p></td>
</tr>
<tr class="row-even"><td><p>PATHS_EXHAUSTED</p></td>
<td><p>0xC8</p></td>
</tr>
<tr class="row-odd"><td><p>TIMED_REQUEST_MISMATCH</p></td>
<td><p>0xC9</p></td>
</tr>
<tr class="row-even"><td><p>FAILSAFE_REQUIRED</p></td>
<td><p>0xCA</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="chapter-9-system-model-specification">
<h2>Chapter 9. System Model Specification<a class="headerlink" href="#chapter-9-system-model-specification" title="此标题的永久链接">¶</a></h2>
<section id="id18">
<h3>9.1. Practical Information<a class="headerlink" href="#id18" title="此标题的永久链接">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Defines relationships that are managed between endpoints and clusters.</p>
</div>
<ul class="simple">
<li><p>This specification defines persistent relationships between local and remote instances of data model elements, that support a system of operational communication between such instances.</p></li>
<li><p>A system is a set of nodes and persistent relationships that automate data flow and control based on local or external stimulus.</p></li>
</ul>
</section>
<section id="endpoint-composition">
<h3>9.2. Endpoint Composition<a class="headerlink" href="#endpoint-composition" title="此标题的永久链接">¶</a></h3>
<p>Endpoint composition SHALL be indicated by these <code class="docutils literal notranslate"><span class="pre">Descriptor</span> <span class="pre">cluster</span></code> attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• `DeviceTypeList` SHALL list the device type(s) that the endpoint supports
• `PartsList` SHALL indicate the endpoints that support these device type(s)
</pre></div>
</div>
<p>Each simple endpoint SHALL support only one Application device type with these exceptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• The endpoint MAY support additional device types
    which are subsets of the Application device type (the superset).
• The endpoint MAY support additional device types
    as defined by each additional device type.
</pre></div>
</div>
<section id="dynamic-endpoint-allocation">
<h4>9.2.1. Dynamic Endpoint allocation<a class="headerlink" href="#dynamic-endpoint-allocation" title="此标题的永久链接">¶</a></h4>
<p>Some <code class="docutils literal notranslate"><span class="pre">nodes</span></code> MAY require a dynamic number of <code class="docutils literal notranslate"><span class="pre">endpoints</span></code>, since the functionality they expose can change at run-time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• a Bridge on which Bridged Devices are added or deleted.
• a Casting Video Player in which Content Apps are added or deleted
</pre></div>
</div>
</section>
</section>
<section id="interaction-model-relationships">
<h3>9.3. Interaction Model Relationships<a class="headerlink" href="#interaction-model-relationships" title="此标题的永久链接">¶</a></h3>
<p>This section define some of the system behaviors and their constraints as they apply to interactions specified in the <code class="docutils literal notranslate"><span class="pre">Interaction</span> <span class="pre">Model</span></code>.</p>
<section id="subscription">
<h4>9.3.1. Subscription<a class="headerlink" href="#subscription" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A subscription is an ephemeral ‘session’ between a subscriber and a publisher.</p></li>
<li><p>In all cases, the <code class="docutils literal notranslate"><span class="pre">subscriber</span></code> can eventually discover the loss of synchronization by not receiving a sync report or data report in the agreed upon sync interval, or through some other failure to communicate with the publisher.</p></li>
<li><p>In all cases, the <code class="docutils literal notranslate"><span class="pre">publisher</span></code> eventually discovers the loss of synchronization by not receiving a Status Response to a Report Data message that expects a response, or by receiving an error Status Response.</p></li>
</ul>
</section>
</section>
<section id="binding-relationship">
<h3>9.4. Binding Relationship<a class="headerlink" href="#binding-relationship" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This relationship occurs because a simple client endpoint does not know which endpoints will be the target for the client generated actions, on one or more remote nodes.</p></li>
<li><p>For example: A light switch that controls one or more light bulbs, does not know the remote node endpoints of the bulbs.</p></li>
</ul>
</section>
<section id="descriptor-cluster">
<h3>9.5. Descriptor Cluster<a class="headerlink" href="#descriptor-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This cluster describes an endpoint instance on the node, independently from other endpoints, but also allows composition of endpoints to conform to complex device type patterns.</p></li>
<li><p>This cluster supports a list of one or more device type identifiers that represent conformance to device type specifications.</p></li>
</ul>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• 0x0000    DeviceTypeList      list[DeviceTypeStruct]
• 0x0001    ServerList          list[cluster-id]
• 0x0002    ClientList          list[cluster-id]
• 0x0003    PartsList           list[endpoint-no]
</pre></div>
</div>
</section>
<section id="binding-cluster">
<h3>9.6. Binding Cluster<a class="headerlink" href="#binding-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>A binding represents a persistent relationship between an endpoint and one or more other local or remote endpoints. A binding does not require that the relationship exists. It is up to the node application to set up the relationship.</p></li>
<li><p>A binding is used to inform a client endpoint of one or more targets for a potential interaction. For example: a light switch that controls one or more light bulbs, needs to be told the nodes and endpoints of the bulbs, or told a group in which the bulbs are members.</p></li>
<li><p>In such cases, a binding is used to direct a local endpoint to a target. The existence of the Binding cluster on the client endpoint, allows the creation of one or more binding entries (bindings) in the Binding cluster.</p></li>
<li><p>A binding is either a unicast binding, where the target is a single endpoint on a single node, or a groupcast binding, where the target is a group, which may indicate multiple endpoints on multiple nodes.</p></li>
</ul>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• 0x0000    Binding         list[``TargetStruct``]
</pre></div>
</div>
<p>Binding Attribute Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Light Switch Client:
    switch endpoint sends `On/Off`, `Level &amp; Color Control` cluster commands to group 1234
• Temp Sensor Client:
    temperature sensor client subscribes to
        `node 456789` `endpoint 3` temperature measurement cluster
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">TargetStruct</span></code> Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Node</span>
<span class="n">Group</span>
<span class="n">Endpoint</span>
<span class="n">Cluster</span>
</pre></div>
</div>
</section>
<section id="label-cluster">
<h3>9.7. Label Cluster<a class="headerlink" href="#label-cluster" title="此标题的永久链接">¶</a></h3>
<p>This cluster provides a feature to tag an endpoint with zero or more labels. This is a <code class="docutils literal notranslate"><span class="pre">base</span> <span class="pre">cluster</span></code> that requires a derived cluster to create an instance.</p>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• 0x0000    LabelList    list[``LabelStruct``]
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">LabelStruct</span></code> Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Label</span>
<span class="n">Value</span>
</pre></div>
</div>
</section>
<section id="fixed-label-cluster">
<h3>9.8. Fixed Label Cluster<a class="headerlink" href="#fixed-label-cluster" title="此标题的永久链接">¶</a></h3>
<p>This cluster provides a feature for the device to tag an endpoint with zero or more read only labels.</p>
</section>
<section id="user-label-cluster">
<h3>9.9. User Label Cluster<a class="headerlink" href="#user-label-cluster" title="此标题的永久链接">¶</a></h3>
<p>This cluster provides a feature to tag an endpoint with zero or more labels.</p>
</section>
<section id="access-control-cluster">
<h3>9.10. Access Control Cluster<a class="headerlink" href="#access-control-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Access</span> <span class="pre">Control</span> <span class="pre">Cluster</span></code> exposes a data model view of a Node’s <code class="docutils literal notranslate"><span class="pre">Access</span> <span class="pre">Control</span> <span class="pre">List</span> <span class="pre">(ACL)</span></code>, which codifies the rules used to manage and enforce Access Control for the Node’s endpoints and their associated cluster instances.</p></li>
<li><p>Access to this <code class="docutils literal notranslate"><span class="pre">Access</span> <span class="pre">Control</span> <span class="pre">Cluster</span></code> itself requires a special Administer privilege level, such that only Nodes granted such privilege (hereafter termed “Administrators”) can manage the Access Control Cluster.</p></li>
</ul>
<section id="attributes">
<h4>Attributes<a class="headerlink" href="#attributes" title="此标题的永久链接">¶</a></h4>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• 0x0000    ACL             list[`AccessControlEntryStruct`]
• 0x0001    Extension       list[`AccessControlExtensionStruct`]
• 0x0002    SubjectsPerAccessControlEntry   uint16
• 0x0003    TargetsPerAccessControlEntry    uint16
• 0x0004    AccessControlEntriesPerFabric   uint16
</pre></div>
</div>
<p><cite>AccessControlEntryStruct</cite> Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Privilege   AccessControlEntryPrivilegeEnum
    View
    Proxy View
    Operate
    Manage
    Administer
• AuthMode    AccessControlEntryAuthModeEnum
    PASE
    CASE
    Group
• Subjects    list[SubjectID]
• Targets     list[`TargetStruct`]
</pre></div>
</div>
<figure class="align-default" id="id141">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/E45639D9-2B46-4646-9245-C40C8418FB2A.png" src="https://img.zhaoweiguo.com/uPic/2022/11/E45639D9-2B46-4646-9245-C40C8418FB2A.png" />
<figcaption>
<p><span class="caption-text">Figure 39. Access Control Privilege Levels</span><a class="headerlink" href="#id141" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>Table 78. AuthModeEnum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Value</span>   <span class="n">Name</span>    <span class="n">Description</span>
<span class="mi">1</span>       <span class="n">PASE</span>    <span class="n">Passcode</span> <span class="n">authenticated</span> <span class="n">session</span>
<span class="mi">2</span>       <span class="n">CASE</span>    <span class="n">Certificate</span> <span class="n">authenticated</span> <span class="n">session</span>
<span class="mi">3</span>       <span class="n">Group</span>   <span class="n">Group</span> <span class="n">authenticated</span> <span class="n">session</span>
</pre></div>
</div>
<p>Table 79. Subject Semantics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AuthMode    Subject
PASE        Lower 16-bits → Passcode ID
            Upper 48-bits → all bits clear
CASE        64-bits → Node ID
            or CASE Authenticated Tag
Group       Lower 16-bits → Group ID
            Upper 48-bits → all bits clear
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">TargetStruct</span></code> sub Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cluster</span>
<span class="n">Endpoint</span>
<span class="n">DeviceType</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">AccessControlExtensionStruct</span></code>  Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Data      octstr Type
</pre></div>
</div>
</section>
<section id="events">
<h4>Events<a class="headerlink" href="#events" title="此标题的永久链接">¶</a></h4>
<p>This cluster SHALL support these events:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• AccessControlEntryChanged
• AccessControlExtensionChanged
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">AccessControlEntryChanged</span></code> Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• 1 AdminNodeID         node-id
• 2 AdminPasscodeID     uint16
• 3 ChangeType          ChangeTypeEnum
• 4 LatestValue         AccessControlEntryStruct
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">AccessControlExtensionChanged</span></code> Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• 1 AdminNodeID         node-id
• 2 AdminPasscodeID     uint16
• 3 ChangeType          ChangeTypeEnum
• 4 LatestValue         AccessControlExtensionStruct
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ChangeTypeEnum</span></code> Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Changed</span>
<span class="n">Added</span>
<span class="n">Removed</span>
</pre></div>
</div>
</section>
</section>
<section id="group-relationship">
<h3>9.11. Group Relationship<a class="headerlink" href="#group-relationship" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>A group is a collection of one or more endpoints on one or more nodes. A group is identified by a unique group ID.</p></li>
<li><p>If the network supports fabrics, each group, its group ID, and nodes that are members of the group, are all scoped to a single fabric.</p></li>
</ul>
</section>
<section id="bridge-for-non-matter-devices">
<h3>9.12. Bridge for non-Matter devices<a class="headerlink" href="#bridge-for-non-matter-devices" title="此标题的永久链接">¶</a></h3>
<section id="id19">
<h4>9.12.1. Introduction<a class="headerlink" href="#id19" title="此标题的永久链接">¶</a></h4>
<p>A Bridge serves to allow the use of non-Matter IoT devices (e.g. devices on a Zigbee or Z-Wave network, or any other non-Matter connectivity technology) in a Matter Fabric, with the goal to enable the consumer to keep using these non-Matter devices together with their Matter devices.</p>
<figure class="align-default" id="id142">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/j87kmN.png" src="https://img.zhaoweiguo.com/uPic/2022/11/j87kmN.png" />
<figcaption>
<p><span class="caption-text">Figure 40. principle of bridging: the non-Matter devices are exposed as Bridged Devices to Nodes on the Fabric. The Matter Nodes can communicate with both the (native) Matter devices as well as the Bridged Devices (by virtue of the Bridge which performs the translation between Matter and the other protocol).</span><a class="headerlink" href="#id142" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="exposing-functionality-and-metadata-of-bridged-devices">
<h4>9.12.2. Exposing functionality and metadata of Bridged Devices<a class="headerlink" href="#exposing-functionality-and-metadata-of-bridged-devices" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id143">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/Ku6GSi.png" src="https://img.zhaoweiguo.com/uPic/2022/11/Ku6GSi.png" />
<figcaption>
<p><span class="caption-text">Figure 41. example of endpoints representing Bridged Devices</span><a class="headerlink" href="#id143" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id144">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/0uri0b.png" src="https://img.zhaoweiguo.com/uPic/2022/11/0uri0b.png" />
<figcaption>
<p><span class="caption-text">Figure 42. example of endpoints representing Bridged Devices from two technologies</span><a class="headerlink" href="#id144" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id145">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/42RywP.png" src="https://img.zhaoweiguo.com/uPic/2022/11/42RywP.png" />
<figcaption>
<p><span class="caption-text">Figure 43. example of endpoints representing Bridged Devices using grouping</span><a class="headerlink" href="#id145" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id146">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/Y9ewI8.png" src="https://img.zhaoweiguo.com/uPic/2022/11/Y9ewI8.png" />
<figcaption>
<p><span class="caption-text">Figure 44. impression of app UI indicating information for the Bridged Devices</span><a class="headerlink" href="#id146" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id147">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/682175.png" src="https://img.zhaoweiguo.com/uPic/2022/11/682175.png" />
<figcaption>
<p><span class="caption-text">Figure 45. example of Bridge with native Matter functionality</span><a class="headerlink" href="#id147" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="discovery-of-bridged-devices">
<h4>9.12.3. Discovery of Bridged Devices<a class="headerlink" href="#discovery-of-bridged-devices" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A Node which discovers another Node with device type Aggregator on one of its endpoints SHOULD walk the entire tree of endpoints via the PartsList attributes and endpoints to discover the list of Bridged Devices, including their device types and other attributes, as well as any native Matter functionality potentially present on the Node.</p></li>
</ul>
</section>
<section id="configuration-of-bridged-devices">
<h4>9.12.4. Configuration of Bridged Devices<a class="headerlink" href="#configuration-of-bridged-devices" title="此标题的永久链接">¶</a></h4>
<p>For configuration of the discovered Bridged Devices, two basic archetypes are described in the following sections: <code class="docutils literal notranslate"><span class="pre">one</span> <span class="pre">for</span> <span class="pre">actuators</span></code> and o``ne for sensors/switches``.</p>
<figure class="align-default" id="id148">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/eFlh7Y.png" src="https://img.zhaoweiguo.com/uPic/2022/11/eFlh7Y.png" />
<figcaption>
<p><span class="caption-text">Figure 46. example of bridging lights</span><a class="headerlink" href="#id148" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id149">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/hjz7jP.png" src="https://img.zhaoweiguo.com/uPic/2022/11/hjz7jP.png" />
<figcaption>
<p><span class="caption-text">Figure 47. example of bridging switches and sensors</span><a class="headerlink" href="#id149" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="new-features-for-bridged-devices">
<h4>9.12.5. New features for Bridged Devices<a class="headerlink" href="#new-features-for-bridged-devices" title="此标题的永久链接">¶</a></h4>
<p>Bridged Devices can have their software updated independently of the Bridge, through Bridge Manufacturer-specific means. These updates MAY result in one or more changes to their capabilities, such as supported clusters and/or attributes, for an endpoint.</p>
</section>
<section id="changes-to-the-set-of-bridged-devices">
<h4>9.12.6. Changes to the set of Bridged Devices<a class="headerlink" href="#changes-to-the-set-of-bridged-devices" title="此标题的永久链接">¶</a></h4>
<p>Bridged Devices can be added to or removed from the Bridge through Bridge-specific means. For example, the user can use a Manufacturer-provided app to add/remove Zigbee devices to/from their Matter-Zigbee Bridge.</p>
</section>
<section id="changes-to-device-names-and-grouping-of-bridged-devices">
<h4>9.12.7. Changes to device names and grouping of Bridged Devices<a class="headerlink" href="#changes-to-device-names-and-grouping-of-bridged-devices" title="此标题的永久链接">¶</a></h4>
<p>Typically, the user has some means (e.g. a Manufacturer-provided app) to assign names to the Bridged Devices, or names could be assigned automatically by the Bridge. The Bridge SHALL expose such names in the NodeLabel attribute of the Bridged Device Basic Information cluster on the applicable endpoint.</p>
</section>
<section id="setup-flow-for-a-bridge-plus-bridged-devices">
<h4>9.12.8. Setup flow for a Bridge (plus Bridged Devices)<a class="headerlink" href="#setup-flow-for-a-bridge-plus-bridged-devices" title="此标题的永久链接">¶</a></h4>
<p>As described above, the Bridge together with its Bridged Devices is exposed as a single Node with a list of endpoints.</p>
</section>
<section id="id20">
<h4>9.12.9. Access Control<a class="headerlink" href="#id20" title="此标题的永久链接">¶</a></h4>
<p>The Bridge is a Matter node, therefore it has a single <code class="docutils literal notranslate"><span class="pre">Access</span> <span class="pre">Control</span> <span class="pre">Cluster</span></code> for the entire Node, like every other Matter Node.</p>
</section>
<section id="software-update-ota">
<h4>9.12.10. Software update (OTA)<a class="headerlink" href="#software-update-ota" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The Bridge is a Matter device and its Matter-related functionality MAY be updated using the mechanism described in <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">11.19,</span> <span class="pre">“Over-the-Air</span> <span class="pre">(OTA)</span> <span class="pre">Software</span> <span class="pre">Update”</span></code>.</p></li>
<li><p>The Bridged Devices, on the other hand, are not native Matter devices, do not have a Product ID, and are not listed in the Distributed Compliance Ledger. They are typically updated using a mechanism defined and deployed by the Bridge Manufacturer.</p></li>
</ul>
</section>
<section id="best-practices-for-bridge-manufacturers">
<h4>9.12.11. Best practices for Bridge Manufacturers<a class="headerlink" href="#best-practices-for-bridge-manufacturers" title="此标题的永久链接">¶</a></h4>
<p>This section summarizes (in order of priority) the process to determine which non-Matter devices the Bridge exposes to the Fabric.</p>
</section>
<section id="best-practices-for-administrators">
<h4>9.12.12. Best practices for Administrators<a class="headerlink" href="#best-practices-for-administrators" title="此标题的永久链接">¶</a></h4>
<p>An Administrator MAY indicate to users which devices are native Matter and which ones are Bridged Devices, as determined using the presence of a Bridged Node device type on the endpoint, in order to ensure the user does not make assumptions about the Bridged Devices having the same security requirements as native Matter devices.</p>
</section>
</section>
<section id="bridged-device-basic-information-cluster">
<h3>9.13. Bridged Device Basic Information Cluster<a class="headerlink" href="#bridged-device-basic-information-cluster" title="此标题的永久链接">¶</a></h3>
<p>This Cluster serves two purposes towards a Node communicating with a Bridge:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• indicate that the functionality on the Endpoint
    where it is placed (and its Parts) is bridged from a non-Matter technology
• provide a centralized collection of attributes that
    the Node MAY collect to aid in conveying information
    regarding the Bridged Device to a user,
    such as the vendor name, the model name, or user-assigned name.
</pre></div>
</div>
<ul class="simple">
<li><p>This cluster has been derived from the <code class="docutils literal notranslate"><span class="pre">Basic</span> <span class="pre">Information</span> <span class="pre">Cluster</span></code>, and provides generic information about the Bridged Device.</p></li>
</ul>
<p>Attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Conformance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DataModelRevision</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>VendorName</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>VendorID</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>ProductName</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>ProductID</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>NodeLabel</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>Location</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>HardwareVersion</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>HardwareVersionString</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>SoftwareVersion</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>SoftwareVersionString</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>ManufacturingDate</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>PartNumber</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>ProductURL</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>ProductLabel</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>SerialNumber</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>LocalConfigDisabled</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Reachable</p></td>
<td><p>M</p></td>
</tr>
<tr class="row-even"><td><p>UniqueID</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>CapabilityMinima</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<p>Events:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Conformance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>StartUp</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>ShutDown</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-even"><td><p>Leave</p></td>
<td><p>O</p></td>
</tr>
<tr class="row-odd"><td><p>ReachableChanged</p></td>
<td><p>M</p></td>
</tr>
</tbody>
</table>
</section>
<section id="actions-cluster">
<h3>9.14. Actions Cluster<a class="headerlink" href="#actions-cluster" title="此标题的永久链接">¶</a></h3>
<p>This cluster provides a standardized way for a Node (typically a Bridge, but could be any Node) to expose:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• information about logical grouping of endpoints on the Node (example: lights in a room)
• information about named actions that can be performed on such a group of endpoints
    (example: recall a scene for a group of lights by its name)
• commands to trigger such actions
• events to receive feedback on the state of such actions.
</pre></div>
</div>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000</span>  <span class="n">ActionList</span>      <span class="nb">list</span><span class="p">[</span><span class="n">ActionStruct</span><span class="p">]</span>
<span class="mh">0x0001</span>  <span class="n">EndpointLists</span>   <span class="nb">list</span><span class="p">[</span><span class="n">EndpointListStruct</span><span class="p">]</span>
<span class="mh">0x0002</span>  <span class="n">SetupURL</span>        <span class="n">string</span>
</pre></div>
</div>
<p>Commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00    InstantAction                   client ⇒ server
0x01    InstantActionWithTransition     client ⇒ server
0x02    StartAction                     client ⇒ server
0x03    StartActionWithDuration         client ⇒ server
0x04    StopAction                      client ⇒ server
0x05    PauseAction                     client ⇒ server
0x06    PauseActionWithDuration         client ⇒ server
0x07    ResumeAction                    client ⇒ server
0x08    EnableAction                    client ⇒ server
0x09    EnableActionWithDuration        client ⇒ server
0x0a    DisableAction                   client ⇒ server
0x0b    DisableActionWithDuration       client ⇒ server
</pre></div>
</div>
<p>Events:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">StateChanged</span>    <span class="n">INFO</span>
<span class="mi">1</span>   <span class="n">ActionFailed</span>    <span class="n">INFO</span>
</pre></div>
</div>
<p>Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">ActionID</span>            <span class="n">uint16</span>
<span class="mi">1</span>   <span class="n">Name</span>                <span class="n">string</span>
<span class="mi">2</span>   <span class="n">Type</span>                <span class="n">ActionTypeEnum</span>
<span class="mi">3</span>   <span class="n">EndpointListID</span>      <span class="n">uint16</span>
<span class="mi">4</span>   <span class="n">SupportedCommands</span>   <span class="n">map16</span>
<span class="mi">5</span>   <span class="n">State</span>               <span class="n">ActionStateEnum</span>
</pre></div>
</div>
<section id="id21">
<h4>9.14.10. Examples<a class="headerlink" href="#id21" title="此标题的永久链接">¶</a></h4>
<section id="example-1-scene-recall">
<h5>9.14.10.1. Example 1: Scene recall<a class="headerlink" href="#example-1-scene-recall" title="此标题的永久链接">¶</a></h5>
<p>User has defined a scene on a number of lights. The corresponding action would have these data fields describing it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Name=&quot;sunset&quot;
• Type=scene
• EndpointListID references a struct referencing the set of involved endpoints
    ◦ Name=&quot;living room&quot;
    ◦ Type=room
    ◦ Endpoints=list of the endpoints of the lights in this room
• SupportedCommands: `InstantAction`, `InstantActionWithTransition`
</pre></div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">InstantAction</span></code> command (e.g. triggered by a voice command “set sunset in living room”) will trigger the server to activate that scene on those lights.</p></li>
<li><p>When a slow fade-in is preferred, the <code class="docutils literal notranslate"><span class="pre">InstantActionWithTransition</span></code> can be used, with a TransitionTime parameter of e.g. 50 (denoting 5 s).</p></li>
</ul>
<figure class="align-default" id="id150">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/1F202072-E013-4B34-AFE2-AE8B9223CA38.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/1F202072-E013-4B34-AFE2-AE8B9223CA38.jpg" />
<figcaption>
<p><span class="caption-text">Figure 48. State diagram for example ‘scene recall’</span><a class="headerlink" href="#id150" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-2-set-dynamic-light-effect">
<h5>9.14.10.2. Example 2: Set dynamic light effect<a class="headerlink" href="#example-2-set-dynamic-light-effect" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>SupportedCommands: <code class="docutils literal notranslate"><span class="pre">StartAction</span></code>, <code class="docutils literal notranslate"><span class="pre">StartActionWithDuration</span></code>, <code class="docutils literal notranslate"><span class="pre">StopAction</span></code></p></li>
<li><p>Type=scene</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">StartActionWithDuration</span></code> command (e.g. triggered by a voice command “play sunset in living room for 1 hour”) will trigger the server to activate a dynamic pattern with colors inspired by sunset on the associated lights.</p></li>
<li><p>At any time, the <code class="docutils literal notranslate"><span class="pre">StopAction</span></code> can be used to stop the effect.</p></li>
</ul>
<figure class="align-default" id="id151">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/01CFD451-E380-4271-B4C0-531ED84085F8.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/01CFD451-E380-4271-B4C0-531ED84085F8.jpg" />
<figcaption>
<p><span class="caption-text">Figure 49. State diagram for example ‘dynamic light effect’</span><a class="headerlink" href="#id151" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-3-pause-sensor-automation">
<h5>9.14.10.3. Example 3: Pause sensor automation<a class="headerlink" href="#example-3-pause-sensor-automation" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Name=”motion sensor”</p></li>
<li><p>Type=automation</p></li>
<li><p>SupportedCommands: <code class="docutils literal notranslate"><span class="pre">EnableAction</span></code>, <code class="docutils literal notranslate"><span class="pre">DisableAction</span></code>, <code class="docutils literal notranslate"><span class="pre">PauseAction</span></code>, <code class="docutils literal notranslate"><span class="pre">PauseActionWithDuration</span></code>, <code class="docutils literal notranslate"><span class="pre">ResumeAction</span></code></p></li>
<li><p>Typically, without a Matter command the action’s state would be ‘Active’.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">PauseActionWithDuration</span></code> command (e.g. triggered by a voice command “disable the motion sensor in living room for 2 hours”) will trigger the server to disable the behavior associated with the motion sensor for the specified time.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">ResumeAction</span></code> command would make this behavior active again.</p></li>
</ul>
<figure class="align-default" id="id152">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/838EC5BA-1984-4BD0-B961-8A63F4314E44.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/838EC5BA-1984-4BD0-B961-8A63F4314E44.jpg" />
<figcaption>
<p><span class="caption-text">Figure 50. State diagram for example ‘pause sensor automation’</span><a class="headerlink" href="#id152" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-4-wake-up-routine">
<h5>9.14.10.4. Example 4: Wake-up routine<a class="headerlink" href="#example-4-wake-up-routine" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>Name=”wakeup”</p></li>
<li><p>Type=sequence</p></li>
<li><p>SupportedCommands: <code class="docutils literal notranslate"><span class="pre">EnableAction</span></code>, <code class="docutils literal notranslate"><span class="pre">DisableAction</span></code>, <code class="docutils literal notranslate"><span class="pre">DisableActionWithDuration</span></code>, <code class="docutils literal notranslate"><span class="pre">PauseAction</span></code>, <code class="docutils literal notranslate"><span class="pre">PauseActionWithDuration</span></code></p></li>
</ul>
<p>User has defined a wake-up routine: the lights in the bedroom will gradually become brighter and change in color temperature to simulate a sunrise. The sequence lasts for e.g. 30 minutes. Near the end of the sequence, the window coverings would be (partially) opened as well.</p>
<figure class="align-default" id="id153">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/07E584CE-5060-43D3-99AA-C363BE6B0B1E.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/07E584CE-5060-43D3-99AA-C363BE6B0B1E.jpg" />
<figcaption>
<p><span class="caption-text">Figure 51. State diagram for example ‘wake-up experience’</span><a class="headerlink" href="#id153" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-5-scheduled-scene-recall">
<h5>9.14.10.5. Example 5: Scheduled scene recall<a class="headerlink" href="#example-5-scheduled-scene-recall" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id154">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/6E0F17F8-D32E-4B60-BAE8-DBD3C6E5F976.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/6E0F17F8-D32E-4B60-BAE8-DBD3C6E5F976.jpg" />
<figcaption>
<p><span class="caption-text">Figure 52. State diagram for example ‘scheduled scene recall’</span><a class="headerlink" href="#id154" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-6-alarm-system">
<h5>9.14.10.6. Example 6: Alarm system<a class="headerlink" href="#example-6-alarm-system" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id155">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/F1FD8615-5B7F-422D-A1B5-8A9321D4ED2D.jpg" src="https://img.zhaoweiguo.com/uPic/2022/11/F1FD8615-5B7F-422D-A1B5-8A9321D4ED2D.jpg" />
<figcaption>
<p><span class="caption-text">Figure 53. State diagram for example ‘alarm system’</span><a class="headerlink" href="#id155" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="proxy-architecture">
<h3>9.15. Proxy Architecture<a class="headerlink" href="#proxy-architecture" title="此标题的永久链接">¶</a></h3>
<section id="motivation">
<h4>9.15.1. Motivation<a class="headerlink" href="#motivation" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Constrained devices might not support more than a handful of subscriptions.</p></li>
<li><p>This is usually attributable to a limited memory or battery.</p></li>
<li><p>However, there might be a large number of clients who desire to subscribe to that device.</p></li>
</ul>
</section>
<section id="subscription-proxy-overview">
<h4>9.15.2. Subscription Proxy: Overview<a class="headerlink" href="#subscription-proxy-overview" title="此标题的永久链接">¶</a></h4>
<p>A subscription proxy is a type of Node that is capable of multiplexing subscriptions from multiple subscribers onto a single subscription to a given publisher.</p>
<figure class="align-default" id="id156">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/C844691A-31F9-46BF-95F3-3A0B485427E5.png" src="https://img.zhaoweiguo.com/uPic/2022/11/C844691A-31F9-46BF-95F3-3A0B485427E5.png" />
<figcaption>
<p><span class="caption-text">Figure 54. Digital twin acting as a proxy re-publishing clusters</span><a class="headerlink" href="#id156" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id157">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/4680AA54-9402-440C-916A-8CEA8EE6E31E.png" src="https://img.zhaoweiguo.com/uPic/2022/11/4680AA54-9402-440C-916A-8CEA8EE6E31E.png" />
<figcaption>
<p><span class="caption-text">Figure 55. Proxy multiplexing interest sets from 3 distinct clients</span><a class="headerlink" href="#id157" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>A proxy SHALL only proxy subscribe interactions. It SHALL NOT proxy any other type of interaction.</p>
</section>
<section id="composition-paths">
<h4>9.15.3. Composition &amp; Paths<a class="headerlink" href="#composition-paths" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id158">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/B40F7E8C-9873-4808-BE72-3941C3070844.png" src="https://img.zhaoweiguo.com/uPic/2022/11/B40F7E8C-9873-4808-BE72-3941C3070844.png" />
<figcaption>
<p><span class="caption-text">Figure 56. Sample paths when subscribing to a proxy vs the source</span><a class="headerlink" href="#id158" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>A client subscribing to a proxy SHALL specify the Node ID of the source it wishes to subscribe to in the Path. This SHALL be different from the logical destination Node ID of the message, which SHALL be the Node ID of the proxy.</p>
</section>
<section id="proxy-subscriptions">
<h4>9.15.4. Proxy Subscriptions<a class="headerlink" href="#proxy-subscriptions" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The term <code class="docutils literal notranslate"><span class="pre">'upstream</span> <span class="pre">subscription'</span></code> refers to the subscription from the proxy either directly to the source, or indirectly to another proxy for that source’s data.</p></li>
<li><p>The term <code class="docutils literal notranslate"><span class="pre">'downstream</span> <span class="pre">subscription'</span></code> refers to the subscription from either a client or another proxy to the proxy in question.</p></li>
</ul>
<figure class="align-default" id="id159">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/8B69BDA1-A8B6-4A72-BCA0-9C668208AFAE.png" src="https://img.zhaoweiguo.com/uPic/2022/11/8B69BDA1-A8B6-4A72-BCA0-9C668208AFAE.png" />
<figcaption>
<p><span class="caption-text">Figure 57. Upstream/Downstream subscription sequences</span><a class="headerlink" href="#id159" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="schemas-and-data-serialization-deserialization">
<h4>9.15.5. Schemas and Data Serialization/Deserialization<a class="headerlink" href="#schemas-and-data-serialization-deserialization" title="此标题的永久链接">¶</a></h4>
<p>Unlike clients that need to semantically interpret data in addition to deserializing/serializing to/from its internal data stores, a proxy only needs to do the latter.</p>
</section>
<section id="indirect-proxies">
<h4>9.15.6. Indirect Proxies<a class="headerlink" href="#indirect-proxies" title="此标题的永久链接">¶</a></h4>
<p>A proxy MAY subscribe to another proxy instead of subscribing directly to the source. This creates proxy chains that allow a single source to be proxied by multiple proxies, allowing better use of available proxy capacity.</p>
</section>
<section id="proxy-discovery-assignment-flow">
<h4>9.15.7. Proxy Discovery &amp; Assignment Flow<a class="headerlink" href="#proxy-discovery-assignment-flow" title="此标题的永久链接">¶</a></h4>
<p>The following flow describes the process by which a client:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Discovers that a source needs a proxy
• Finds an appropriate proxy on the network that is able to handle its request
• Sets up the proxy to subscribe to the source
</pre></div>
</div>
<section id="step-0-proxy-setup">
<h5>9.15.7.1. Step 0: Proxy Setup<a class="headerlink" href="#step-0-proxy-setup" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>A device indicates its ability to act as a certified proxy through stating support for the <code class="docutils literal notranslate"><span class="pre">Subscription</span> <span class="pre">Proxy</span></code> device type.</p></li>
<li><p>When such a device is commissioned, the commissioner SHALL recognize this ability and MAY write the NodeIds of all the sources that need proxying into the <code class="docutils literal notranslate"><span class="pre">Proxy</span> <span class="pre">Configuration</span> <span class="pre">Cluster</span></code> on the proxy device. Alternatively, it MAY configure the proxy to wildcard proxy all devices, removing the need to specify a particular set of NodeIds.</p></li>
<li><p>Additionally, the commissioner MAY write the Node ID of the newly added proxy to the <code class="docutils literal notranslate"><span class="pre">Valid</span> <span class="pre">Proxies</span> <span class="pre">Cluster</span></code> on source devices that needs proxying. This cluster stores the static list of candidate proxies for a given device. Only devices that support the cluster would need to have this configuration written.</p></li>
</ul>
</section>
<section id="step-1-rejection">
<h5>9.15.7.2. Step 1: Rejection<a class="headerlink" href="#step-1-rejection" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id160">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/EBC5B0D7-14DF-4AA8-96A2-8F14A43831CE.png" src="https://img.zhaoweiguo.com/uPic/2022/11/EBC5B0D7-14DF-4AA8-96A2-8F14A43831CE.png" />
<figcaption>
<p><span class="caption-text">Figure 58. Rejection: The constraints of the source have been simplified down to having 3 available subscription slots that get filled up.When a client tries to subscribe to the source and is sent back a <code class="docutils literal notranslate"><span class="pre">StatusResponse</span></code> containing a <code class="docutils literal notranslate"><span class="pre">RESOURCE_EXHAUSTED</span></code> IM status code</span><a class="headerlink" href="#id160" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="step-2-proxy-discovery">
<h5>9.15.7.3. Step 2: Proxy Discovery<a class="headerlink" href="#step-2-proxy-discovery" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id161">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/F65D0D07-D566-4633-8276-5AABD26D8808.png" src="https://img.zhaoweiguo.com/uPic/2022/11/F65D0D07-D566-4633-8276-5AABD26D8808.png" />
<figcaption>
<p><span class="caption-text">Figure 59. Discovery Request</span><a class="headerlink" href="#id161" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>The client sends out a <code class="docutils literal notranslate"><span class="pre">Proxy</span> <span class="pre">Discover</span> <span class="pre">Request</span> <span class="pre">Command</span></code> as a groupcast message to the <code class="docutils literal notranslate"><span class="pre">All</span> <span class="pre">Proxies</span></code> universal group.</p></li>
<li><p>The client SHALL momentarily subscribe to the IPv6 address that maps to the All Proxies universal group to appropriately receive all responses.</p></li>
</ul>
</section>
<section id="step-3-proxy-response">
<h5>9.15.7.4. Step 3: Proxy Response<a class="headerlink" href="#step-3-proxy-response" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id162">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/DFF8D8F4-51A6-4C6D-A2F6-E36CEA89D4BC.png" src="https://img.zhaoweiguo.com/uPic/2022/11/DFF8D8F4-51A6-4C6D-A2F6-E36CEA89D4BC.png" />
<figcaption>
<p><span class="caption-text">Figure 60. Proxies send back responses</span><a class="headerlink" href="#id162" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Proxies respond to the request with a Proxy Discover Response Command sent as a groupcast message to the All Proxies universal group.</p></li>
<li><p>A proxy SHALL only send this message when it can handle the subscription request</p></li>
<li><p>The response will contain metadata about its ability to handle the subscription.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Proxy</span> <span class="pre">Discover</span> <span class="pre">Response</span> <span class="pre">Command</span></code> SHALL be sent as a completely separate, un-related transaction to the original request.</p></li>
<li><p>The client SHALL correlate the two using the <code class="docutils literal notranslate"><span class="pre">SourceNodeId</span></code> present in both messages.</p></li>
<li><p>Proxies SHALL stagger their responses by waiting for a random interval between 0 and <code class="docutils literal notranslate"><span class="pre">PROXY_SCAN_RESPONSE_JITTER</span></code> before sending the <code class="docutils literal notranslate"><span class="pre">Proxy</span> <span class="pre">Discover</span> <span class="pre">Response</span> <span class="pre">Command</span></code> to prevent overwhelming the network or the client, which can be constrained and can have limited buffers.</p></li>
</ul>
</section>
<section id="step-4-proxy-selection">
<h5>9.15.7.5. Step 4: Proxy Selection<a class="headerlink" href="#step-4-proxy-selection" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id163">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/4E7B66A0-58E8-43C8-90CF-A3AF09F3F557.png" src="https://img.zhaoweiguo.com/uPic/2022/11/4E7B66A0-58E8-43C8-90CF-A3AF09F3F557.png" />
<figcaption>
<p><span class="caption-text">Figure 61. Selecting a Proxy</span><a class="headerlink" href="#id163" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Client SHALL wait for <code class="docutils literal notranslate"><span class="pre">PROXY_SCAN_PERIOD</span></code> to aggregate all responses and SHALL filter the set of responses received.</p></li>
<li><p>Clients MAY unsubscribe from the IPv6 multicast group that maps to the All Proxies universal group after aggregating the responses.</p></li>
</ul>
</section>
<section id="step-5-proxy-subscription">
<h5>9.15.7.6. Step 5: Proxy Subscription<a class="headerlink" href="#step-5-proxy-subscription" title="此标题的永久链接">¶</a></h5>
<ul>
<li><p>The client then subscribes to the proxy it has selected.</p></li>
<li><p>The proxy will do one of two things:</p>
<blockquote>
<div><dl class="simple">
<dt>Option 1</dt><dd><p>If there isn’t another proxy already subscribed to the source</p>
</dd>
<dt>Option 2</dt><dd><p>If there is already another proxy subscribed to that source</p>
</dd>
</dl>
</div></blockquote>
</li>
</ul>
<section id="option-1">
<h6>Option 1<a class="headerlink" href="#option-1" title="此标题的永久链接">¶</a></h6>
<figure class="align-default" id="id164">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/ED0E829C-4230-4E9B-95E9-19F923B6326D.png" src="https://img.zhaoweiguo.com/uPic/2022/11/ED0E829C-4230-4E9B-95E9-19F923B6326D.png" />
<figcaption>
<p><span class="caption-text">Figure 62. Primary proxy subscription</span><a class="headerlink" href="#id164" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>If there isn’t another proxy already subscribed to the source, the proxy subscribes to the source directly</p>
</section>
<section id="option-2">
<h6>Option 2<a class="headerlink" href="#option-2" title="此标题的永久链接">¶</a></h6>
<figure class="align-default" id="id165">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/EA391CFB-C448-4DF8-9915-27168B479030.png" src="https://img.zhaoweiguo.com/uPic/2022/11/EA391CFB-C448-4DF8-9915-27168B479030.png" />
<figcaption>
<p><span class="caption-text">Figure 63. Primary proxy subscription</span><a class="headerlink" href="#id165" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>If there is already another proxy subscribed to that source, the selected proxy subscribes to that proxy instead.</p>
</section>
</section>
<section id="step-6-eviction">
<h5>9.15.7.7. Step 6: Eviction<a class="headerlink" href="#step-6-eviction" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id166">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/84B4D1B1-9D81-412E-8C69-3D348FA22396.png" src="https://img.zhaoweiguo.com/uPic/2022/11/84B4D1B1-9D81-412E-8C69-3D348FA22396.png" />
<figcaption>
<p><span class="caption-text">Figure 64. C3 gets evicted</span><a class="headerlink" href="#id166" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>At this point, the source might not be able to handle another subscription. If so, it SHALL evict non- proxy subscriptions to make space for the proxy subscription.</p></li>
</ul>
</section>
<section id="step-7-re-assignment">
<h5>9.15.7.8. Step 7: Re-Assignment<a class="headerlink" href="#step-7-re-assignment" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id167">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/A0B3F997-CE2A-4C63-8180-05D1ACA94581.png" src="https://img.zhaoweiguo.com/uPic/2022/11/A0B3F997-CE2A-4C63-8180-05D1ACA94581.png" />
<figcaption>
<p><span class="caption-text">Figure 65. C3 gets reassigned to P1</span><a class="headerlink" href="#id167" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>The evicted clients undergo the same proxy discovery/selection process, and eventually settle on a set of proxies.</p></li>
</ul>
</section>
<section id="notable-characteristics">
<h5>9.15.7.9. Notable Characteristics<a class="headerlink" href="#notable-characteristics" title="此标题的永久链接">¶</a></h5>
<ul class="simple">
<li><p>The system ‘auto-balances’ based on the needs of clients and the capabilities of the source</p></li>
<li><p>No persistent state or a priori configuration is needed on any node</p></li>
<li><p>No a priori heuristics are needed to figure out if a node should be proxied.</p></li>
<li><p>Robust to proxy failure by leveraging the liveness construct of subscriptions to accelerate discovery</p></li>
<li><p>No centralized proxy management/assignment service is needed. There is no single point of failure. No need for an election, state backup, or fail-over.</p></li>
<li><p>Low complexity on server (which are usually the more constrained device), slightly more on the client</p></li>
</ul>
</section>
</section>
<section id="constraints">
<h4>9.15.8. Constraints<a class="headerlink" href="#constraints" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A source SHALL NOT evict an existing proxy already subscribed to it</p></li>
<li><p>There SHOULD only be one proxy node directly subscribed to a source in a single-fabric setting</p></li>
</ul>
</section>
<section id="certification">
<h4>9.15.9. Certification<a class="headerlink" href="#certification" title="此标题的永久链接">¶</a></h4>
<p>To ensure a consistent expectation of behavior from a proxy device, the proxy SHOULD be certified by the Connectivity Standards Alliance against the expectations of a proxy. Once certified, it MAY claim compatibility against the Subscription Proxy device type.</p>
</section>
<section id="security-privacy">
<h4>9.15.10. Security &amp; Privacy<a class="headerlink" href="#security-privacy" title="此标题的永久链接">¶</a></h4>
<p>To prevent malicious or unattested devices from acting as proxies to clients, the <code class="docutils literal notranslate"><span class="pre">Valid</span> <span class="pre">Proxies</span> <span class="pre">Cluster</span></code> provides a scheme for admins to specify the NodeIds of valid, attested proxies to the source itself, which is in turn conveyed to clients. This allows for filtering of the ensuing Proxy Discover Response Command messages to only select valid, trusted proxies.</p>
</section>
<section id="id22">
<h4>9.15.11. Parameters and Constants<a class="headerlink" href="#id22" title="此标题的永久链接">¶</a></h4>
<p>Table 83. Glossary of constants:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PROXY_SCAN_RESPONSE_JITTER:
    Default Value: 1000 milliseconds
    The maximum amount of time to randomly wait
        before sending a `Proxy Discover Response Command` message.
PROXY_SCAN_PERIOD:
    Default Value: 1100 milliseconds
    The maximum amount of time `initiator of proxy discovery` will wait
        to collect `Proxy Discover Response Command` messages
        after sending a `Proxy Discover Request Command` message.
</pre></div>
</div>
</section>
<section id="clusters">
<h4>9.15.12. Clusters<a class="headerlink" href="#clusters" title="此标题的永久链接">¶</a></h4>
<section id="proxy-discovery-cluster">
<h5>9.15.13. Proxy Discovery Cluster<a class="headerlink" href="#proxy-discovery-cluster" title="此标题的永久链接">¶</a></h5>
<p>This cluster contains commands needed to do proxy discovery as defined in the <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">9.15.7.3,</span> <span class="pre">“Step</span> <span class="pre">2:</span> <span class="pre">Proxy</span> <span class="pre">Discovery”</span></code> and <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">9.15.7.4,</span> <span class="pre">“Step</span> <span class="pre">3:</span> <span class="pre">Proxy</span> <span class="pre">Response”</span></code></p>
<p>Commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00   ProxyDiscoverRequest       Client ⇒ Server
0x01   ProxyDiscoverResponse      Server ⇒ Client
</pre></div>
</div>
</section>
<section id="proxy-configuration-cluster">
<h5>9.15.14. Proxy Configuration Cluster<a class="headerlink" href="#proxy-configuration-cluster" title="此标题的永久链接">¶</a></h5>
<p>This cluster provides a means for a proxy-capable device to be told the set of Nodes it SHALL proxy.</p>
<p>Cluster Identifiers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0042</span>    <span class="n">ProxyConfiguration</span>
</pre></div>
</div>
</section>
<section id="valid-proxies-cluster">
<h5>9.15.15. Valid Proxies Cluster<a class="headerlink" href="#valid-proxies-cluster" title="此标题的永久链接">¶</a></h5>
<p>This cluster provides a means for a device to be told of the valid set of possible proxies that can proxy subscriptions on its behalf as per <code class="docutils literal notranslate"><span class="pre">Section</span> <span class="pre">9.15.7,</span> <span class="pre">“Proxy</span> <span class="pre">Discovery</span> <span class="pre">&amp;</span> <span class="pre">Assignment</span> <span class="pre">Flow”</span></code>.</p>
<p>Cluster Identifiers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0044</span>   <span class="n">ValidProxies</span>
</pre></div>
</div>
<p>Commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00    Get Valid Proxies Request   Client ⇒ Server
0x01    GetValidProxiesResponse     Server ⇒ Client
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="chapter-10-interaction-model-encoding-specification">
<h2>Chapter 10. Interaction Model Encoding Specification<a class="headerlink" href="#chapter-10-interaction-model-encoding-specification" title="此标题的永久链接">¶</a></h2>
<section id="id23">
<h3>10.1. Overview<a class="headerlink" href="#id23" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This specification details the encoding of the <code class="docutils literal notranslate"><span class="pre">Interaction</span> <span class="pre">Model</span> <span class="pre">(IM)</span></code> in the Matter TLV format.</p></li>
<li><p>Specifically, it details the encoding of the application payload for Matter messages that map to the Interaction Model.</p></li>
</ul>
</section>
<section id="messages">
<h3>10.2. Messages<a class="headerlink" href="#messages" title="此标题的永久链接">¶</a></h3>
<section id="im-protocol-messages">
<h4>10.2.1. IM Protocol Messages<a class="headerlink" href="#im-protocol-messages" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Vendor ID = 0x0000 (Matter Common)
• Protocol ID = PROTOCOL_ID_INTERACTION_MODEL
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Protocol Opcode</p></th>
<th class="head"><p>Action</p></th>
<th class="head"><p>Message</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x01</p></td>
<td><p>Status Response</p></td>
<td><p>StatusResponseMessage</p></td>
</tr>
<tr class="row-odd"><td><p>0x02</p></td>
<td><p>Read Request</p></td>
<td><p>ReadRequestMessage</p></td>
</tr>
<tr class="row-even"><td><p>0x03</p></td>
<td><p>Subscribe Request</p></td>
<td><p>SubscribeRequestMessage</p></td>
</tr>
<tr class="row-odd"><td><p>0x04</p></td>
<td><p>Subscribe Response</p></td>
<td><p>SubscribeResponseMessage</p></td>
</tr>
<tr class="row-even"><td><p>0x05</p></td>
<td><p>Report Data</p></td>
<td><p>ReportDataMessage</p></td>
</tr>
<tr class="row-odd"><td><p>0x06</p></td>
<td><p>Write Request</p></td>
<td><p>WriteRequestMessage</p></td>
</tr>
<tr class="row-even"><td><p>0x07</p></td>
<td><p>Write Response</p></td>
<td><p>WriteResponseMessage</p></td>
</tr>
<tr class="row-odd"><td><p>0x08</p></td>
<td><p>Invoke Request</p></td>
<td><p>InvokeRequestMessage</p></td>
</tr>
<tr class="row-even"><td><p>0x09</p></td>
<td><p>Invoke Response</p></td>
<td><p>InvokeResponseMessage</p></td>
</tr>
<tr class="row-odd"><td><p>0x0A</p></td>
<td><p>Timed Request</p></td>
<td><p>TimedRequestMessage</p></td>
</tr>
</tbody>
</table>
</section>
<section id="common-action-information-encoding">
<h4>10.2.2. Common Action Information Encoding<a class="headerlink" href="#common-action-information-encoding" title="此标题的永久链接">¶</a></h4>
<p>Message Header Encoded Action Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Message Exchange ID
• Source Node ID
• Destination ID
• Protocol ID
• Protocol OpCode
</pre></div>
</div>
</section>
<section id="chunking">
<h4>10.2.3. Chunking<a class="headerlink" href="#chunking" title="此标题的永久链接">¶</a></h4>
<p>Chunking is the act of splitting an Action that contains <code class="docutils literal notranslate"><span class="pre">attribute/event</span></code> data, specifically <code class="docutils literal notranslate"><span class="pre">ReportData</span></code> and <code class="docutils literal notranslate"><span class="pre">WriteRequest</span></code> actions, into multiple messages at logical boundaries due to the size limitations imposed by IPv6 for UDP packets</p>
</section>
<section id="transaction-flows">
<h4>10.2.4. Transaction Flows<a class="headerlink" href="#transaction-flows" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id168">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/l5Cz0x.png" src="https://img.zhaoweiguo.com/uPic/2022/11/l5Cz0x.png" />
<figcaption>
<p><span class="caption-text">Figure 66. Read message flow</span><a class="headerlink" href="#id168" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id169">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/soFZ3S.png" src="https://img.zhaoweiguo.com/uPic/2022/11/soFZ3S.png" />
<figcaption>
<p><span class="caption-text">Figure 69. Write message flow</span><a class="headerlink" href="#id169" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id170">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/02GtO2.png" src="https://img.zhaoweiguo.com/uPic/2022/11/02GtO2.png" />
<figcaption>
<p><span class="caption-text">Figure 71. Subscription flow</span><a class="headerlink" href="#id170" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="id24">
<h3>10.3. Data Types<a class="headerlink" href="#id24" title="此标题的永久链接">¶</a></h3>
<p>The IM specification defines a number of schema data types that are usable in a given cluster schema definition.</p>
<p>Base Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Discrete
    ◦ enum
    ◦ data
    ◦ map
    ◦ boolean
• Analog
    ◦ uint
    ◦ int
    ◦ float32
    ◦ float64
• Composite
    ◦ String
    ◦ octstr
• Collection
    ◦ list
    ◦ struct
</pre></div>
</div>
</section>
<section id="sample-cluster">
<h3>10.4. Sample Cluster<a class="headerlink" href="#sample-cluster" title="此标题的永久链接">¶</a></h3>
<p>This section defines a sample cluster (with attributes, events, and commands) for illustrative purposes; it SHALL NOT be interpreted as a real cluster.</p>
</section>
<section id="information-blocks">
<h3>10.5. Information Blocks<a class="headerlink" href="#information-blocks" title="此标题的永久链接">¶</a></h3>
<section id="tag-rules">
<h4>10.5.1. Tag Rules<a class="headerlink" href="#tag-rules" title="此标题的永久链接">¶</a></h4>
<p>Unless otherwise noted, all context tags SHALL be emitted in the order as defined in the appropriate specification. This is done to reduce receiver side complexity in having to deal with arbitrary order tags.</p>
</section>
<section id="attributepathib">
<h4>10.5.2. AttributePathIB<a class="headerlink" href="#attributepathib" title="此标题的永久链接">¶</a></h4>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Select all attributes on a given cluster and endpoint:
    AttributePath = [[ Endpoint = 10, Cluster = Disco Ball ]]

• Select all attributes in all clusters on a given endpoint:
    Path = [[ Endpoint = 10 ]]

• Select all attributes in all clusters on the node:
    Path = [[ ]]
</pre></div>
</div>
</section>
<section id="dataversionfilterib">
<h4>10.5.3. DataVersionFilterIB<a class="headerlink" href="#dataversionfilterib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="attributedataib">
<h4>10.5.4. AttributeDataIB<a class="headerlink" href="#attributedataib" title="此标题的永久链接">¶</a></h4>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Update</span> <span class="n">a</span> <span class="n">top</span><span class="o">-</span><span class="n">level</span> <span class="n">attribute</span><span class="p">:</span>
<span class="n">AttributeDataIB</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Axis</span> <span class="p">]],</span>
  <span class="n">Data</span> <span class="o">=</span> <span class="mi">90</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="collection-types-list">
<h5>Collection Types (List)<a class="headerlink" href="#collection-types-list" title="此标题的永久链接">¶</a></h5>
<p>Modify a list item:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AttributeDataIB</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">ListIndex</span> <span class="o">=</span> <span class="mi">1</span><span class="p">]],</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">Duration</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
       <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Clockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
       <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
       <span class="n">Axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
       <span class="o">//</span> <span class="n">WobbleSpeed</span> <span class="n">omitted</span><span class="p">;</span> <span class="n">this</span> <span class="n">cluster</span> <span class="n">instance</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">Wobble</span>
       <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;1234&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Add an item to a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AttributeDataIB</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">ListIndex</span> <span class="o">=</span><span class="n">null</span><span class="p">]],</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">Duration</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
       <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Counterclockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
       <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
       <span class="n">Axis</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span>
       <span class="o">//</span> <span class="n">WobbleSpeed</span> <span class="n">omitted</span><span class="p">;</span> <span class="n">this</span> <span class="n">cluster</span> <span class="n">instance</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">Wobble</span>
       <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;9876&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Delete an item in a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AttributeDataIB</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">ListIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">]],</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="n">null</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Replace a list (Single IB):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AttributeDataIB</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Pattern</span><span class="p">]],</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">[[</span>
        <span class="p">{</span>
            <span class="n">Duration</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
            <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Clockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
            <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">Axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="o">//</span> <span class="n">WobbleSpeed</span> <span class="n">omitted</span><span class="p">;</span> <span class="n">this</span> <span class="n">cluster</span> <span class="n">instance</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">Wobble</span>
            <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;1234&quot;</span>
        <span class="p">}</span> <span class="p">{</span>
            <span class="n">Duration</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
            <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Counterclockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
            <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">Axis</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span>
            <span class="o">//</span> <span class="n">WobbleSpeed</span> <span class="n">omitted</span><span class="p">;</span> <span class="n">this</span> <span class="n">cluster</span> <span class="n">instance</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">Wobble</span>
            <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;9876&quot;</span>
        <span class="p">},</span>
    <span class="p">]]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Replace a list (Multiple IBs):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AttributeDataIB1</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
      <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Pattern</span> <span class="p">]],</span>
      <span class="n">Data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="p">}</span>

<span class="n">AttributeDataIB2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">ListIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">]],</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">Duration</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
        <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Clockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
        <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
        <span class="n">Axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;1234&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">AttributeDataIB3</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DataVersion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">FieldID</span> <span class="o">=</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">ListIndex</span> <span class="o">=</span> <span class="mi">1</span><span class="p">]],</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">Duration</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
        <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Counterclockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
        <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
        <span class="n">Axis</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span>
        <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;9876&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="attributereportib">
<h4>10.5.5. AttributeReportIB<a class="headerlink" href="#attributereportib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="eventfilterib">
<h4>10.5.6. EventFilterIB<a class="headerlink" href="#eventfilterib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="clusterpathib">
<h4>10.5.7. ClusterPathIB<a class="headerlink" href="#clusterpathib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="eventpathib">
<h4>10.5.8. EventPathIB<a class="headerlink" href="#eventpathib" title="此标题的永久链接">¶</a></h4>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Select a particular event type:
  Path = [[ Endpoint = 10, Cluster = Disco Ball, Event = Pattern Change ]]

• Select all events on a given cluster (used in Read/Subscribe requests):
  Path = [[ Endpoint = 10, Cluster = Disco Ball ]]

• Select all events on a given cluster with urgency (used in Read/Subscribe requests):
  Path = [[ Endpoint = 10, Cluster = Disco Ball, IsUrgent = true ]]
</pre></div>
</div>
</section>
<section id="eventdataib">
<h4>10.5.9. EventDataIB<a class="headerlink" href="#eventdataib" title="此标题的永久链接">¶</a></h4>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EventDataElement</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">EventID</span> <span class="o">=</span> <span class="n">Started</span> <span class="p">]],</span>
      <span class="n">EventNumber</span> <span class="o">=</span> <span class="mi">1001</span><span class="p">,</span>
      <span class="n">Priority</span> <span class="o">=</span> <span class="n">INFO</span><span class="p">,</span>
      <span class="n">EpochTimestamp</span> <span class="o">=</span> <span class="mi">102340234293</span><span class="p">,</span>
      <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
          <span class="o">//</span> <span class="n">Started</span> <span class="n">event</span> <span class="n">contains</span> <span class="n">no</span> <span class="n">data</span>
      <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="eventreportib">
<h4>10.5.10. EventReportIB<a class="headerlink" href="#eventreportib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="commandpathib">
<h4>10.5.11. CommandPathIB<a class="headerlink" href="#commandpathib" title="此标题的永久链接">¶</a></h4>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Select a particular command:
  Path = [[ Endpoint = 10, Cluster = Disco Ball, Command = Stop Request ]]

• Select a particular command (addressed to a group):
  Path = [[ Cluster = Disco Ball, Command = Stop Request ]]
</pre></div>
</div>
</section>
<section id="commanddataib">
<h4>10.5.12. CommandDataIB<a class="headerlink" href="#commanddataib" title="此标题的永久链接">¶</a></h4>
<p>Request + Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RequestCommandElement</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">CommandPath</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">Command</span> <span class="o">=</span> <span class="n">Stats</span> <span class="n">Request</span> <span class="p">]],</span>
      <span class="n">CommandData</span> <span class="o">=</span> <span class="p">{}</span> <span class="o">//</span> <span class="n">Empty</span> <span class="n">CommandData</span> <span class="n">MAY</span> <span class="n">be</span> <span class="n">encoded</span> <span class="k">as</span> <span class="n">an</span> <span class="n">empty</span> <span class="n">container</span>
<span class="p">}</span>

<span class="n">ResponseCommandElement</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">CommandPath</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">Command</span> <span class="o">=</span> <span class="n">Stats</span> <span class="n">Response</span> <span class="p">]],</span>
    <span class="n">CommandData</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">LastRun</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
        <span class="n">Patterns</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Empty request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RequestCommandElement</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">CommandPath</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">Command</span> <span class="o">=</span> <span class="n">Stop</span> <span class="n">Request</span> <span class="p">]]</span>
  <span class="o">//</span> <span class="n">Empty</span> <span class="n">CommandData</span> <span class="n">MAY</span> <span class="n">also</span> <span class="n">be</span> <span class="n">omitted</span> <span class="n">entirely</span>
<span class="p">}</span>
<span class="o">//</span> <span class="n">No</span> <span class="n">cluster</span> <span class="n">specific</span> <span class="n">response</span> <span class="ow">is</span> <span class="n">returned</span><span class="p">;</span> <span class="n">a</span> <span class="n">status</span> <span class="ow">is</span> <span class="n">passed</span> <span class="n">via</span> <span class="n">Invoke</span> <span class="n">Response</span> <span class="n">at</span>
<span class="n">the</span> <span class="n">Interaction</span> <span class="n">layer</span>
</pre></div>
</div>
</section>
<section id="invokeresponseib">
<h4>10.5.13. InvokeResponseIB<a class="headerlink" href="#invokeresponseib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="commandstatusib">
<h4>10.5.14. CommandStatusIB<a class="headerlink" href="#commandstatusib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="eventstatusib">
<h4>10.5.15. EventStatusIB<a class="headerlink" href="#eventstatusib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="attributestatusib">
<h4>10.5.16. AttributeStatusIB<a class="headerlink" href="#attributestatusib" title="此标题的永久链接">¶</a></h4>
</section>
<section id="statusib">
<h4>10.5.17. StatusIB<a class="headerlink" href="#statusib" title="此标题的永久链接">¶</a></h4>
</section>
</section>
<section id="message-definitions">
<h3>10.6. Message Definitions<a class="headerlink" href="#message-definitions" title="此标题的永久链接">¶</a></h3>
<p>This section contains message definitions that correspond to their equivalent actions in the Interaction Model Specification.</p>
<section id="reportdatamessage">
<h4>10.6.3. ReportDataMessage<a class="headerlink" href="#reportdatamessage" title="此标题的永久链接">¶</a></h4>
<p>Event list (highlighting compressions):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EventReports</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">Endpoint</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Cluster</span> <span class="o">=</span> <span class="n">Disco</span> <span class="n">Ball</span><span class="p">,</span> <span class="n">EventID</span> <span class="o">=</span> <span class="n">Started</span> <span class="p">]],</span>
    <span class="n">ImportanceLevel</span> <span class="o">=</span> <span class="n">INFO</span><span class="p">,</span>
    <span class="n">Number</span> <span class="o">=</span> <span class="mi">1001</span><span class="p">,</span>
    <span class="n">UTCTimestamp</span> <span class="o">=</span> <span class="mi">102340234293</span><span class="p">,</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">},</span>
<span class="p">},</span>
<span class="p">{</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span> <span class="n">EventID</span> <span class="o">=</span> <span class="n">PatternChange</span><span class="p">]],</span> <span class="o">//</span> <span class="n">same</span> <span class="n">endpoint</span> <span class="ow">and</span> <span class="n">cluster</span> <span class="n">but</span> <span class="n">different</span> <span class="n">event</span> <span class="nb">type</span>
    <span class="n">DeltaUTCTimestamp</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">PrevPattern</span> <span class="o">=</span> <span class="n">null</span><span class="p">,</span>
        <span class="n">CurPattern</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">Duration</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
            <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Clockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
            <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">Axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="o">//</span> <span class="n">WobbleSpeed</span> <span class="n">omitted</span><span class="p">;</span> <span class="n">this</span> <span class="n">cluster</span> <span class="n">instance</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">Wobble</span>
            <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;1234&quot;</span>
        <span class="p">},</span>
        <span class="n">NextPattern</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">Duration</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
            <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Counterclockwise</span><span class="p">,</span> <span class="o">//</span> <span class="n">On</span> <span class="n">the</span> <span class="n">wire</span> <span class="n">enum</span> <span class="n">value</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="ow">is</span> <span class="n">used</span>
            <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">Axis</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span>
            <span class="o">//</span> <span class="n">WobbleSpeed</span> <span class="n">omitted</span><span class="p">;</span> <span class="n">this</span> <span class="n">cluster</span> <span class="n">instance</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">Wobble</span>
            <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;9876&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">},</span>
<span class="p">{</span>
    <span class="n">Path</span> <span class="o">=</span> <span class="p">[[</span>  <span class="p">]],</span> <span class="o">//</span> <span class="n">same</span> <span class="n">path</span> <span class="k">as</span> <span class="n">the</span> <span class="n">previous</span> <span class="n">path</span>
    <span class="n">DeltaUTCTimestamp</span> <span class="o">=</span> <span class="mi">900000000</span><span class="p">,</span>
    <span class="n">Data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">PrevPattern</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">Duration</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
            <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Clockwise</span><span class="p">,</span>
            <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">Axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;1234&quot;</span>
        <span class="p">},</span>
        <span class="n">CurPattern</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">Duration</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
            <span class="n">Rotate</span> <span class="o">=</span> <span class="n">Counterclockwise</span><span class="p">,</span>
            <span class="n">Speed</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">Axis</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span>
            <span class="n">Passcode</span> <span class="o">=</span> <span class="s2">&quot;9876&quot;</span>
        <span class="p">},</span>
        <span class="n">NextPattern</span> <span class="o">=</span> <span class="n">null</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="chapter-11-service-and-device-management">
<h2>Chapter 11. Service and Device Management<a class="headerlink" href="#chapter-11-service-and-device-management" title="此标题的永久链接">¶</a></h2>
<section id="basic-information-cluster">
<h3>11.1. Basic Information Cluster<a class="headerlink" href="#basic-information-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This cluster provides attributes and events for determining basic information about Nodes</p></li>
</ul>
<p>Events:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x00</span> <span class="n">StartUp</span>            <span class="n">CRITICAL</span>
<span class="mh">0x01</span> <span class="n">ShutDown</span>           <span class="n">CRITICAL</span>
<span class="mh">0x02</span> <span class="n">Leave</span>              <span class="n">INFO</span>
<span class="mh">0x03</span> <span class="n">ReachableChanged</span>   <span class="n">INFO</span>
</pre></div>
</div>
</section>
<section id="group-key-management-cluster">
<h3>11.2. Group Key Management Cluster<a class="headerlink" href="#group-key-management-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Group</span> <span class="pre">Key</span> <span class="pre">Management</span> <span class="pre">cluster</span></code> manages group keys for the node.</p></li>
<li><p>The cluster is scoped to the node and is a singleton for the node.</p></li>
<li><p>This cluster maintains a list of groups supported by the node.</p></li>
<li><p>Each group list entry supports a single group, with a single group ID and single group key.</p></li>
<li><p>Duplicate groups are not allowed in the list.</p></li>
<li><p>Additions or removal of a group entry are performed via modifications of the list. Such modifications require Administer privilege.</p></li>
</ul>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000</span> <span class="n">GroupKeyMap</span>              <span class="nb">list</span><span class="p">[</span><span class="n">GroupKeyMapStruct</span><span class="p">]</span>
<span class="mh">0x0001</span> <span class="n">GroupTable</span>               <span class="nb">list</span><span class="p">[</span><span class="n">GroupInfoMapStruct</span><span class="p">]</span>
<span class="mh">0x0002</span> <span class="n">MaxGroupsPerFabric</span>       <span class="n">uint16</span>
<span class="mh">0x0003</span> <span class="n">MaxGroupKeysPerFabric</span>    <span class="n">uint16</span>
</pre></div>
</div>
<p>Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GroupKeyMapStruct</span><span class="p">:</span>
    <span class="mi">1</span> <span class="n">GroupId</span>                   <span class="n">group</span><span class="o">-</span><span class="nb">id</span>
    <span class="mi">2</span> <span class="n">GroupKeySetID</span>             <span class="n">uint16</span>

<span class="n">GroupKeySetStruct</span><span class="p">:</span>
    <span class="mi">0</span> <span class="n">GroupKeySetID</span>             <span class="n">uint16</span>
    <span class="mi">1</span> <span class="n">GroupKeySecurityPolicy</span>    <span class="n">enum8</span>
    <span class="mi">2</span> <span class="n">EpochKey0</span>                 <span class="n">octstr</span>
    <span class="mi">3</span> <span class="n">EpochStartTime0</span>           <span class="n">epoch</span><span class="o">-</span><span class="n">us</span>
    <span class="mi">4</span> <span class="n">EpochKey1</span>                 <span class="n">octstr</span>
    <span class="mi">5</span> <span class="n">EpochStartTime1</span>           <span class="n">epoch</span><span class="o">-</span><span class="n">us</span>
    <span class="mi">6</span> <span class="n">EpochKey2</span>                 <span class="n">octstr</span>
    <span class="mi">7</span> <span class="n">EpochStartTime2</span>           <span class="n">epoch</span><span class="o">-</span><span class="n">us</span>
    <span class="mi">8</span> <span class="n">GroupKeyMulticastPolicy</span>   <span class="n">enum8</span>
</pre></div>
</div>
<p>Commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 KeySetWrite                    Client ⇒ Server
0x01 KeySetRead                     Client ⇒ Server
0x02 KeySetReadResponse             Server ⇒ Client
0x03 KeySetRemove                   Client ⇒ Server
0x04 KeySetReadAllIndices           Client ⇒ Server
0x05 KeySetReadAllIndicesResponse   Server ⇒ Client
</pre></div>
</div>
</section>
<section id="localization-configuration-cluster">
<h3>11.3. Localization Configuration Cluster<a class="headerlink" href="#localization-configuration-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Nodes should be expected to be deployed to any and all regions of the world. These global regions may have differing common languages, units of measurements, and numerical formatting standards.</p></li>
</ul>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000</span> <span class="n">ActiveLocale</span>         <span class="n">string</span>
<span class="mh">0x0001</span> <span class="n">SupportedLocales</span>     <span class="nb">list</span><span class="p">[</span><span class="n">string</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="time-format-localization-cluster">
<h3>11.4. Time Format Localization Cluster<a class="headerlink" href="#time-format-localization-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>These global regions may have differing preferences for how dates and times are conveyed.</p></li>
</ul>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000</span> <span class="n">HourFormat</span>               <span class="n">HourFormat</span>
<span class="mh">0x0001</span> <span class="n">ActiveCalendarType</span>       <span class="n">CalendarType</span>
<span class="mh">0x0002</span> <span class="n">SupportedCalendarTypes</span>   <span class="nb">list</span><span class="p">[</span><span class="n">CalendarType</span><span class="p">]</span>
</pre></div>
</div>
<p>Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HourFormat</span><span class="p">:</span>
    <span class="mi">0</span>   <span class="mi">12</span><span class="n">hr</span>
    <span class="mi">1</span>   <span class="mi">24</span><span class="n">hr</span>
<span class="n">CalendarType</span><span class="p">:</span>
    <span class="mi">0</span>   <span class="n">Buddhist</span>
    <span class="mi">1</span>   <span class="n">Chinese</span>
    <span class="mi">2</span>   <span class="n">Coptic</span>
    <span class="mi">3</span>   <span class="n">Ethiopian</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="unit-localization-cluster">
<h3>11.5. Unit Localization Cluster<a class="headerlink" href="#unit-localization-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>These global regions may have differing preferences for the units in which values are conveyed in communication to a user.</p></li>
</ul>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000</span>    <span class="n">TemperatureUnit</span>   <span class="n">TempUnit</span>
</pre></div>
</div>
<p>Data Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TempUnit</span><span class="p">:</span>
    <span class="mi">0</span> <span class="n">Fahrenheit</span>
    <span class="mi">1</span> <span class="n">Celsius</span>
    <span class="mi">2</span> <span class="n">Kelvin</span>
</pre></div>
</div>
</section>
<section id="power-source-configuration-cluster">
<h3>11.6. Power Source Configuration Cluster<a class="headerlink" href="#power-source-configuration-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This cluster is used to describe the configuration and capabilities of a Device’s power system.</p></li>
</ul>
<p>Attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000</span>      <span class="n">Sources</span>   <span class="nb">list</span><span class="p">[</span><span class="n">endpoint</span><span class="o">-</span><span class="n">no</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="power-source-cluster">
<h3>11.7. Power Source Cluster<a class="headerlink" href="#power-source-cluster" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>This cluster is used to describe the configuration and capabilities of a physical power source that provides power to the Node.</p></li>
<li><p>In case the Node has multiple power sources, each is described by its own Power Source cluster.</p></li>
</ul>
<section id="features">
<h4>11.7.4. Features<a class="headerlink" href="#features" title="此标题的永久链接">¶</a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bit</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>WIRED</p></td>
<td><p>Wired</p></td>
<td><p>A wired power source</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>BAT</p></td>
<td><p>Battery</p></td>
<td><p>A battery power source</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>RECHG</p></td>
<td><p>Rechargeable</p></td>
<td><p>A rechargeable battery power source (requires Battery feature)</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>REPLC</p></td>
<td><p>Replaceable</p></td>
<td><p>A replaceable battery power source (requires Battery feature)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id25">
<h4>11.7.5. Data Types<a class="headerlink" href="#id25" title="此标题的永久链接">¶</a></h4>
<section id="wiredfault">
<h5>11.7.5.1. WiredFault<a class="headerlink" href="#wiredfault" title="此标题的永久链接">¶</a></h5>
<p>Table 89. WiredFault ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Unspecified</span>
<span class="mi">1</span>   <span class="n">OverVoltage</span>
<span class="mi">2</span>   <span class="n">UnderVoltage</span>
</pre></div>
</div>
</section>
<section id="batfault">
<h5>11.7.5.2. BatFault<a class="headerlink" href="#batfault" title="此标题的永久链接">¶</a></h5>
<p>Table 90. BatFault ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Unspecified</span>
<span class="mi">1</span>   <span class="n">OverTemp</span>
<span class="mi">2</span>   <span class="n">UnderTemp</span>
</pre></div>
</div>
</section>
<section id="batchargefault">
<h5>11.7.5.3. BatChargeFault<a class="headerlink" href="#batchargefault" title="此标题的永久链接">¶</a></h5>
<p>Table 91. BatChargeFault ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Unspecified</span>
<span class="mi">1</span>   <span class="n">AmbientTooHot</span>
<span class="mi">2</span>   <span class="n">AmbientTooCold</span>
<span class="mi">3</span>   <span class="n">BatteryTooHot</span>
<span class="mi">4</span>   <span class="n">BatteryTooCold</span>
<span class="mi">5</span>   <span class="n">BatteryAbsent</span>
<span class="mi">6</span>   <span class="n">BatteryOverVoltage</span>
<span class="mi">7</span>   <span class="n">BatteryUnderVoltage</span>
<span class="mi">8</span>   <span class="n">ChargerOverVoltage</span>
<span class="mi">9</span>   <span class="n">ChargerUnderVoltage</span>
<span class="mi">10</span>  <span class="n">SafetyTimeout</span>
</pre></div>
</div>
</section>
</section>
<section id="server">
<h4>11.7.6. Server<a class="headerlink" href="#server" title="此标题的永久链接">¶</a></h4>
<p>Table 92. PowerSourceStatus ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Unspecified</span>
<span class="mi">1</span>   <span class="n">Active</span>
<span class="mi">2</span>   <span class="n">Standby</span>
<span class="mi">3</span>   <span class="n">Unavailable</span>
</pre></div>
</div>
<p>Table 93. WiredCurrentType ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">AC</span>
<span class="mi">1</span>   <span class="n">DC</span>
</pre></div>
</div>
<p>Table 94. BatChargeLevel ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>    <span class="n">OK</span>
<span class="mi">1</span>    <span class="ne">Warning</span>
<span class="mi">2</span>    <span class="n">Critical</span>
</pre></div>
</div>
<p>Table 95. BatReplaceability ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Unspecified</span>
<span class="mi">1</span>   <span class="n">NotReplaceable</span>
<span class="mi">2</span>   <span class="n">UserReplaceable</span>
<span class="mi">3</span>   <span class="n">FactoryReplaceable</span>
</pre></div>
</div>
<section id="id26">
<h5>11.7.6.1. Attributes<a class="headerlink" href="#id26" title="此标题的永久链接">¶</a></h5>
<blockquote>
<div><p>0x0000      Status                        PowerSourceStatus
0x0001      Order                         uint8
0x0002      Description                   string</p>
<p>0x0003      WiredAssessedInputVoltage     uint32
0x0004      WiredAssessedInputFrequency   uint16
0x0005      WiredCurrentType              WiredCurrentType
0x0006      WiredAssessedCurrent          uint32
0x0007      WiredNominalVoltage           uint32
0x0008      WiredMaximumCurrent           uint32
0x0009      WiredPresent                  bool
0x000a      ActiveWiredFaults             list[WiredFault]</p>
<p>0x000b      BatVoltage                    uint32
0x000c      BatPercentRemaining           uint8
0x000d      BatTimeRemaining              uint32
0x000e      BatChargeLevel                BatChargeLevel
0x000f      BatReplacementNeeded          bool
0x0010      BatReplaceability             BatReplaceability
0x0011      BatPresent                    bool
0x0012      ActiveBatFaults               list[BatFault]</p>
<p>0x0013      BatReplacementDescription     string
0x0014      BatCommonDesignation          uint32
0x0015      BatANSIDesignation            string
0x0016      BatIECDe signation            string
0x0017      BatApprovedChemistry          uint32
0x0018      BatCapacity                   uint32
0x0019      BatQuantity                   uint8
0x001a      BatChargeState                BatChargeState
0x001b      BatTimeToFullCharge           uint32
0x001c      BatFunctionalWhileCharging    bool
0x001d      BatChargingCurrent            uint32
0x001e      ActiveBatChargeFaults         list[BatChargeFault]</p>
</div></blockquote>
</section>
<section id="id27">
<h5>11.7.6.2. Events<a class="headerlink" href="#id27" title="此标题的永久链接">¶</a></h5>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Id</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>WiredFaultChange</p></td>
<td><p>WiredFaultChangeType</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>BatFaultChange</p></td>
<td><p>BatFaultChangeType</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>BatChargeFaultChange</p></td>
<td><p>BatChargeFaultChangeType</p></td>
</tr>
</tbody>
</table>
<p>Table 99. <code class="docutils literal notranslate"><span class="pre">WiredFaultChangeType</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Current</span>     <span class="nb">list</span><span class="p">[</span><span class="n">WiredFault</span><span class="p">]</span>
<span class="mi">1</span>   <span class="n">Previous</span>    <span class="nb">list</span><span class="p">[</span><span class="n">WiredFault</span><span class="p">]</span>
</pre></div>
</div>
<p>Table 100. <code class="docutils literal notranslate"><span class="pre">BatFaultChangeType</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Current</span>     <span class="nb">list</span><span class="p">[</span><span class="n">BatFault</span><span class="p">]</span>
<span class="mi">1</span>   <span class="n">Previous</span>    <span class="nb">list</span><span class="p">[</span><span class="n">BatFault</span><span class="p">]</span>
</pre></div>
</div>
<p>Table 101. <code class="docutils literal notranslate"><span class="pre">BatChargeFaultChangeType</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Current</span>     <span class="nb">list</span><span class="p">[</span><span class="n">BatChargeFault</span><span class="p">]</span>
<span class="mi">1</span>   <span class="n">Previous</span>    <span class="nb">list</span><span class="p">[</span><span class="n">BatChargeFault</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="configuration-examples">
<h4>11.7.9. Configuration Examples<a class="headerlink" href="#configuration-examples" title="此标题的永久链接">¶</a></h4>
<p>The following examples illustrate use of the <code class="docutils literal notranslate"><span class="pre">Order</span></code> attribute in the <code class="docutils literal notranslate"><span class="pre">Power</span> <span class="pre">Source</span> <span class="pre">Cluster</span></code> and its correspondence to the <code class="docutils literal notranslate"><span class="pre">Sources</span></code> list attribute of the <code class="docutils literal notranslate"><span class="pre">Power</span> <span class="pre">Source</span> <span class="pre">Configuration</span> <span class="pre">Cluster</span></code>, which together describe the relationship between sources in a Node’s power system.</p>
</section>
</section>
<section id="network-commissioning-cluster">
<h3>11.8. Network Commissioning Cluster<a class="headerlink" href="#network-commissioning-cluster" title="此标题的永久链接">¶</a></h3>
<p>These network interfaces can include the following types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Wi-Fi (IEEE 802.11-2020)
• Ethernet (802.3)
• Thread (802.15.4)
</pre></div>
</div>
<p>Features:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>    <span class="n">WI</span>
<span class="mi">1</span>    <span class="n">TH</span>
<span class="mi">2</span>    <span class="n">ET</span>
</pre></div>
</div>
<section id="id28">
<h4>11.8.6. Data Types<a class="headerlink" href="#id28" title="此标题的永久链接">¶</a></h4>
<p>11.8.6.1. <code class="docutils literal notranslate"><span class="pre">WiFiSecurity</span></code> Bitmap:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unencrypted</span>
<span class="mi">1</span> <span class="n">WEP</span>
<span class="mi">2</span> <span class="n">WPA</span><span class="o">-</span><span class="n">PERSONAL</span>
<span class="mi">3</span> <span class="n">WPA2</span><span class="o">-</span><span class="n">PERSONAL</span>
<span class="mi">4</span> <span class="n">WPA3</span><span class="o">-</span><span class="n">PERSONAL</span>
</pre></div>
</div>
<p>11.8.6.2. <code class="docutils literal notranslate"><span class="pre">WiFiBand</span></code> Enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="mf">2.4</span><span class="n">GHz</span> <span class="o">-</span> <span class="mf">2.401</span><span class="n">GHz</span> <span class="n">to</span> <span class="mf">2.495</span><span class="n">GHz</span> <span class="p">(</span><span class="mf">802.11</span><span class="n">b</span><span class="o">/</span><span class="n">g</span><span class="o">/</span><span class="n">n</span><span class="o">/</span><span class="n">ax</span><span class="p">)</span>
<span class="mi">1</span>   <span class="mf">3.65</span><span class="n">GHz</span> <span class="o">-</span> <span class="mf">3.655</span><span class="n">GHz</span> <span class="n">to</span> <span class="mf">3.695</span><span class="n">GHz</span> <span class="p">(</span><span class="mf">802.11</span><span class="n">y</span><span class="p">)</span>
<span class="mi">2</span>   <span class="mi">5</span><span class="n">GHz</span> <span class="o">-</span> <span class="mf">5.150</span><span class="n">GHz</span> <span class="n">to</span> <span class="mf">5.895</span><span class="n">GHz</span> <span class="p">(</span><span class="mf">802.11</span><span class="n">a</span><span class="o">/</span><span class="n">n</span><span class="o">/</span><span class="n">ac</span><span class="o">/</span><span class="n">ax</span><span class="p">)</span>
<span class="mi">3</span>   <span class="mi">6</span><span class="n">GHz</span> <span class="o">-</span> <span class="mf">5.925</span><span class="n">GHz</span> <span class="n">to</span> <span class="mf">7.125</span><span class="n">GHz</span> <span class="p">(</span><span class="mf">802.11</span><span class="n">ax</span> <span class="o">/</span> <span class="n">WiFi</span> <span class="mi">6</span><span class="n">E</span><span class="p">)</span>
<span class="mi">4</span>   <span class="mi">60</span><span class="n">GHz</span> <span class="o">-</span> <span class="mf">57.24</span><span class="n">GHz</span> <span class="n">to</span> <span class="mf">70.20</span><span class="n">GHz</span> <span class="p">(</span><span class="mf">802.11</span><span class="n">ad</span><span class="o">/</span><span class="n">ay</span><span class="p">)</span>
</pre></div>
</div>
<p>11.8.6.3. <code class="docutils literal notranslate"><span class="pre">NetworkInfo</span></code> structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0   NetworkID    octstr
    • SSID for Wi-Fi
    • Extended PAN ID for Thread
    • Network interface instance name at operating system for Ethernet.
1   Connected    bool
</pre></div>
</div>
<p>11.8.6.4. Scan result structures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`WiFiInterfaceScanResult` structure:
    0 Security      `WiFiSecurity`
    1 SSID          octstr
    2 BSSID         octstr
    3 Channel       uint16
    4 WiFiBand      `WiFiBand`
    5 RSSI          int8

`ThreadInterfaceScanResult` structure:
    0 PanId             uint16
    1 ExtendedPanId     uint64
    2 NetworkName       string
    3 Channel           uint16
    4 Version           uint8
    5 ExtendedAddress   hwadr
    6 RSSI              int8
    7 LQI               uint8
</pre></div>
</div>
<p>11.8.6.5. Specific status codes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`NetworkCommissioningStatus` Enum:
0 Success               OK, no error
1 OutOfRange            Value Outside Range
2 BoundsExceeded        A collection would exceed its size limit
3 NetworkIDNotFound     The NetworkID is not among the collection of added networks
4 DuplicateNetworkID    The NetworkID is already among the collection of added networks
5 NetworkNotFound       Cannot find AP: SSID Not found
6 RegulatoryError       Cannot find AP: Mismatch on band/channels/regulatory domain / 2.4GHz vs 5GHz
7 AuthFailure           Cannot associate due to authentication failure
8 UnsupportedSecurity   Cannot associate due to unsupported security mode
9 OtherConnectionFailure    Other association failure
10 IPV6Failed               Failure to generate an IPv6 address
11 IPBindFailed             Failure to bind Wi-Fi &lt;-&gt; IP interfaces
12 UnknownError             Unknown error
</pre></div>
</div>
</section>
<section id="id29">
<h4>11.8.7. Attributes<a class="headerlink" href="#id29" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000   MaxNetworks               uint8
0x0001   Networks                  list[`NetworkInfo`]
0x0002   ScanMaxTimeSeconds        uint8
0x0003   ConnectMaxTimeSeconds     uint8
0x0004   InterfaceEnabled          bool
0x0005   LastNetworkingStatus      `NetworkCommissioningStatus`
0x0006   LastNetworkID             octstr
0x0007   LastConnectErrorValue     int32
</pre></div>
</div>
</section>
<section id="commands">
<h4>11.8.8. Commands<a class="headerlink" href="#commands" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00  ScanNetworks                Client ⇒ Server
0x01  ScanNetworksResponse        Server ⇒ Client
0x02  AddOrUpdateWiFiNetwork      Client ⇒ Server
0x03  AddOrUpdateThreadNetwork    Client ⇒ Server
0x04  RemoveNetwork               Client ⇒ Server
0x05  NetworkConfigResponse       Server ⇒ Client
0x06  ConnectNetwork              Client ⇒ Server
0x07  ConnectNetworkResponse      Server ⇒ Client
0x08  ReorderNetwork              Client ⇒ Server
</pre></div>
</div>
<section id="scannetworks-command">
<h5>11.8.8.2. ScanNetworks Command<a class="headerlink" href="#scannetworks-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">SSID</span>          <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">Breadcrumb</span>    <span class="n">uint64</span>
</pre></div>
</div>
</section>
<section id="scannetworksresponse-command">
<h5>11.8.8.3. ScanNetworksResponse Command<a class="headerlink" href="#scannetworksresponse-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0   NetworkingStatus    `NetworkCommissioningStatus`
1   DebugText           string
2   WiFiScanResults     list[`WiFiInterfaceScanResult`]
3   ThreadScanResults   list[`ThreadInterfaceScanResult`]
</pre></div>
</div>
</section>
<section id="addorupdatewifinetwork-command">
<h5>11.8.8.4. AddOrUpdateWiFiNetwork Command<a class="headerlink" href="#addorupdatewifinetwork-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">SSID</span>          <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">Credentials</span>   <span class="n">octstr</span>
<span class="mi">2</span> <span class="n">Breadcrumb</span>    <span class="n">uint64</span>
</pre></div>
</div>
<p>Valid Credentials length are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• 0 bytes: Unsecured (open) connection
• 5 bytes: WEP-64 passphrase
• 10 hexadecimal ASCII characters: WEP-64 40-bit hex raw PSK
• 13 bytes: WEP-128 passphrase
• 26 hexadecimal ASCII characters: WEP-128 104-bit hex raw PSK
• 8..63 bytes: WPA/WPA2/WPA3 passphrase
• 64 bytes: WPA/WPA2/WPA3 raw hex PSK
</pre></div>
</div>
</section>
<section id="addorupdatethreadnetwork-command">
<h5>11.8.8.5. AddOrUpdateThreadNetwork Command<a class="headerlink" href="#addorupdatethreadnetwork-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">OperationalDataset</span>    <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">Breadcrumb</span>            <span class="n">uint64</span>
</pre></div>
</div>
</section>
<section id="removenetwork-command">
<h5>11.8.8.8. RemoveNetwork Command<a class="headerlink" href="#removenetwork-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">NetworkID</span>     <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">Breadcrumb</span>    <span class="n">uint64</span>
</pre></div>
</div>
</section>
<section id="networkconfigresponse-command">
<h5>11.8.8.9. NetworkConfigResponse Command<a class="headerlink" href="#networkconfigresponse-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0   NetworkingStatus    `NetworkCommissioningStatus`
1   DebugText           string
2   NetworkIndex        uint8
</pre></div>
</div>
</section>
<section id="connectnetwork-command">
<h5>11.8.8.10. ConnectNetwork Command<a class="headerlink" href="#connectnetwork-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">NetworkID</span>     <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">Breadcrumb</span>    <span class="n">uint64</span>
</pre></div>
</div>
</section>
<section id="connectnetworkresponse-command">
<h5>11.8.8.11. ConnectNetworkResponse Command<a class="headerlink" href="#connectnetworkresponse-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0   NetworkingStatus    `NetworkCommissioningStatus`
1   DebugText           string
2   ErrorValue          int32
</pre></div>
</div>
</section>
<section id="reordernetwork-command">
<h5>11.8.8.12. ReorderNetwork Command<a class="headerlink" href="#reordernetwork-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">NetworkID</span>     <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">NetworkIndex</span>  <span class="n">uint8</span>
<span class="mi">2</span> <span class="n">Breadcrumb</span>    <span class="n">uint64</span>
</pre></div>
</div>
</section>
</section>
<section id="usage-of-networking-configurations">
<h4>11.8.9. Usage of networking configurations<a class="headerlink" href="#usage-of-networking-configurations" title="此标题的永久链接">¶</a></h4>
<p>This section describes how to ensure deterministic and well-behaved network connectivity, both when concurrent and non-concurrent commissioning flows (see Section 5.5, “Commissioning Flows”) are used.</p>
</section>
</section>
<section id="general-commissioning-cluster">
<h3>11.9. General Commissioning Cluster<a class="headerlink" href="#general-commissioning-cluster" title="此标题的永久链接">¶</a></h3>
<section id="id30">
<h4>11.9.5. Data Types<a class="headerlink" href="#id30" title="此标题的永久链接">¶</a></h4>
<p>11.9.5.1. <code class="docutils literal notranslate"><span class="pre">CommissioningError</span></code> Enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">OK</span>
<span class="mi">1</span> <span class="n">ValueOutsideRange</span>
<span class="mi">2</span> <span class="n">InvalidAuthentication</span>
<span class="mi">3</span> <span class="n">NoFailSafe</span>
<span class="mi">4</span> <span class="n">BusyWithOtherAdmin</span>
</pre></div>
</div>
<p>11.9.5.2. <code class="docutils literal notranslate"><span class="pre">BasicCommissioningInfo</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">FailSafeExpiryLengthSeconds</span>   <span class="n">uint16</span>
<span class="mi">1</span> <span class="n">MaxCumulativeFailsafeSeconds</span>  <span class="n">uint16</span>
</pre></div>
</div>
<p>11.9.5.3. <code class="docutils literal notranslate"><span class="pre">RegulatoryLocationType</span></code> Enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Indoor</span>
<span class="mi">1</span> <span class="n">Outdoor</span>
<span class="mi">2</span> <span class="n">IndoorOutdoor</span>
</pre></div>
</div>
</section>
<section id="server-attributes">
<h4>11.9.6. Server Attributes<a class="headerlink" href="#server-attributes" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 Breadcrumb                        uint64
1 BasicCommissioningInfo            `BasicCommissioningInfo`
2 RegulatoryConfig                  `RegulatoryLocationType`
3 LocationCapability                `RegulatoryLocationType`
4 SupportsConcurrentConnection      bool
</pre></div>
</div>
</section>
<section id="id31">
<h4>11.9.7. Commands<a class="headerlink" href="#id31" title="此标题的永久链接">¶</a></h4>
<p>11.9.7.1. <code class="docutils literal notranslate"><span class="pre">Common</span></code> fields in General Commissioning cluster responses:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 ArmFailSafe                    Client ⇒ Server
0x01 ArmFailSafeResponse            Server ⇒ Client
0x02 SetRegulatoryConfig            Client ⇒ Server
0x03 SetRegulatoryConfigResponse    Server ⇒ Client
0x04 CommissioningComplete          Client ⇒ Server
0x05 CommissioningCompleteResponse  Server ⇒ Client
</pre></div>
</div>
<p>11.9.7.2. <code class="docutils literal notranslate"><span class="pre">ArmFailSafe</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">ExpiryLengthSeconds</span>   <span class="n">uint16</span>
<span class="mi">1</span> <span class="n">Breadcrumb</span>            <span class="n">uint64</span>
</pre></div>
</div>
<p>11.9.7.3. <code class="docutils literal notranslate"><span class="pre">ArmFailSafeResponse</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ErrorCode     `CommissioningError`
1 DebugText     String
</pre></div>
</div>
<p>11.9.7.4. <code class="docutils literal notranslate"><span class="pre">SetRegulatoryConfig</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 NewRegulatoryConfig   ``RegulatoryLocationType``
1 CountryCode           string
2 Breadcrumb            uint64
</pre></div>
</div>
<p>11.9.7.5. <code class="docutils literal notranslate"><span class="pre">SetRegulatoryConfigResponse</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ErrorCode     `CommissioningError`
1 DebugText     String
</pre></div>
</div>
<p>11.9.7.6. <code class="docutils literal notranslate"><span class="pre">CommissioningComplete</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">command</span> <span class="n">has</span> <span class="n">no</span> <span class="n">data</span><span class="o">.</span>
</pre></div>
</div>
<p>11.9.7.7. <code class="docutils literal notranslate"><span class="pre">CommissioningCompleteResponse</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">ErrorCode</span>         <span class="n">CommissioningError</span>
<span class="mi">1</span> <span class="n">DebugTextString</span>   <span class="n">String</span>
</pre></div>
</div>
</section>
</section>
<section id="diagnostic-logs-cluster">
<h3>11.10. Diagnostic Logs Cluster<a class="headerlink" href="#diagnostic-logs-cluster" title="此标题的永久链接">¶</a></h3>
<p>This Cluster supports an interface to a Node. It provides commands for retrieving unstructured diagnostic logs from a Node that may be used to aid in diagnostics. It will often be the case that unstructured diagnostic logs will be Node-wide and not specific to any subset of Endpoints.</p>
<section id="id32">
<h4>11.10.6. Data Types<a class="headerlink" href="#id32" title="此标题的永久链接">¶</a></h4>
<p>Table 102. <code class="docutils literal notranslate"><span class="pre">Intent</span></code> ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">EndUserSupport</span>
<span class="mi">1</span> <span class="n">NetworkDiag</span>
<span class="mi">2</span> <span class="n">CrashLogs</span>
</pre></div>
</div>
<p>Table 103. <code class="docutils literal notranslate"><span class="pre">Status</span></code> ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Success</span>
<span class="mi">1</span> <span class="n">Exhausted</span>
<span class="mi">2</span> <span class="n">NoLogs</span>
<span class="mi">3</span> <span class="n">Busy</span>
<span class="mi">4</span> <span class="n">Denied</span>
</pre></div>
</div>
<p>Table 104. <code class="docutils literal notranslate"><span class="pre">TransferProtocol</span></code> ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">ResponsePayload</span>
<span class="mi">1</span> <span class="n">BDX</span>
</pre></div>
</div>
</section>
<section id="id33">
<h4>11.10.9. Commands<a class="headerlink" href="#id33" title="此标题的永久链接">¶</a></h4>
<p>Table 105. Diagnostic Logs Cluster supported Commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 `RetrieveLogsRequest`    Client ⇒ Server
0x01 `RetrieveLogsResponse`   Server ⇒ Client
</pre></div>
</div>
<section id="retrievelogsrequest">
<h5>11.10.9.1. RetrieveLogsRequest<a class="headerlink" href="#retrievelogsrequest" title="此标题的永久链接">¶</a></h5>
<p>Table 106. <code class="docutils literal notranslate"><span class="pre">RetrieveLogsRequest</span></code> data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 Intent                    `Intent`
1 RequestedProtocol         `TransferProtocol`
2 TransferFileDesignator    string
</pre></div>
</div>
</section>
<section id="retrievelogsresponse">
<h5>11.10.9.2. RetrieveLogsResponse<a class="headerlink" href="#retrievelogsresponse" title="此标题的永久链接">¶</a></h5>
<p>Table 107. <code class="docutils literal notranslate"><span class="pre">RetrieveLogsResponse</span></code> data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 Status            `Status`
1 LogContent        octstr
2 UTCTimeStamp      epoch-us
3 TimeSinceBoot     System Time Microseconds
</pre></div>
</div>
</section>
</section>
</section>
<section id="general-diagnostics-cluster">
<h3>11.11. General Diagnostics Cluster<a class="headerlink" href="#general-diagnostics-cluster" title="此标题的永久链接">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">General</span> <span class="pre">Diagnostics</span> <span class="pre">Cluster</span></code>, along with other diagnostics clusters, provide a means to acquire standardized diagnostics metrics that MAY be used by a Node to assist a user or Administrator in diagnosing potential problems. The <code class="docutils literal notranslate"><span class="pre">General</span> <span class="pre">Diagnostics</span> <span class="pre">Cluster</span></code> attempts to centralize all metrics that are broadly relevant to the majority of Nodes.</p>
<section id="id34">
<h4>11.11.6. Data Types<a class="headerlink" href="#id34" title="此标题的永久链接">¶</a></h4>
<p>11.11.6.1. <code class="docutils literal notranslate"><span class="pre">HardwareFault</span></code> enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unspecified</span>               <span class="n">unspecified</span> <span class="n">fault</span><span class="o">.</span>
<span class="mi">1</span> <span class="n">Radio</span>                     <span class="n">fault</span> <span class="k">with</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">of</span> <span class="n">its</span> <span class="n">radios</span><span class="o">.</span>
<span class="mi">2</span> <span class="n">Sensor</span>                    <span class="n">fault</span> <span class="k">with</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">of</span> <span class="n">its</span> <span class="n">sensors</span><span class="o">.</span>
<span class="mi">3</span> <span class="n">ResettableOverTemp</span>        <span class="n">over</span><span class="o">-</span><span class="n">temperature</span> <span class="n">fault</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">resettable</span><span class="o">.</span>
<span class="mi">4</span> <span class="n">NonResettableOverTemp</span>     <span class="n">over</span><span class="o">-</span><span class="n">temperature</span> <span class="n">fault</span> <span class="n">that</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">resettable</span><span class="o">.</span>
<span class="mi">5</span> <span class="n">PowerSource</span>               <span class="n">fault</span> <span class="k">with</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">of</span> <span class="n">its</span> <span class="n">power</span> <span class="n">sources</span><span class="o">.</span>
<span class="mi">6</span> <span class="n">VisualDisplayFault</span>        <span class="n">fault</span> <span class="k">with</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">of</span> <span class="n">its</span> <span class="n">visual</span> <span class="n">displays</span><span class="o">.</span>
<span class="mi">7</span> <span class="n">AudioOutputFault</span>          <span class="n">fault</span> <span class="k">with</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">of</span> <span class="n">its</span> <span class="n">audio</span> <span class="n">outputs</span><span class="o">.</span>
<span class="mi">8</span> <span class="n">UserInterfaceFault</span>        <span class="n">fault</span> <span class="k">with</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">of</span> <span class="n">its</span> <span class="n">user</span> <span class="n">interfaces</span><span class="o">.</span>
<span class="mi">9</span> <span class="n">NonVolatileMemoryError</span>    <span class="n">fault</span> <span class="k">with</span> <span class="n">its</span> <span class="n">non</span><span class="o">-</span><span class="n">volatile</span> <span class="n">memory</span><span class="o">.</span>
<span class="mi">10</span> <span class="n">TamperDetected</span>           <span class="n">disallowed</span> <span class="n">physical</span> <span class="n">tampering</span><span class="o">.</span>
</pre></div>
</div>
<p>11.11.6.2. <code class="docutils literal notranslate"><span class="pre">RadioFault</span></code> enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unspecified</span>
<span class="mi">1</span> <span class="n">WiFiFault</span>
<span class="mi">2</span> <span class="n">CellularFault</span>
<span class="mi">3</span> <span class="n">ThreadFault</span>
<span class="mi">4</span> <span class="n">NFCFault</span>
<span class="mi">5</span> <span class="n">BLEFault</span>
<span class="mi">6</span> <span class="n">EthernetFault</span>
</pre></div>
</div>
<p>11.11.6.3. <code class="docutils literal notranslate"><span class="pre">NetworkFault</span></code> enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unspecified</span>
<span class="mi">1</span> <span class="n">HardwareFailure</span>
<span class="mi">2</span> <span class="n">NetworkJammed</span>
<span class="mi">3</span> <span class="n">ConnectionFailed</span>
</pre></div>
</div>
<p>11.11.6.4. <code class="docutils literal notranslate"><span class="pre">InterfaceType</span></code> enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unspecified</span>
<span class="mi">1</span> <span class="n">WiFi</span>
<span class="mi">2</span> <span class="n">Ethernet</span>
<span class="mi">3</span> <span class="n">Cellular</span>
<span class="mi">4</span> <span class="n">Thread</span>
</pre></div>
</div>
<p>11.11.6.5. <code class="docutils literal notranslate"><span class="pre">NetworkInterface</span></code> struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 Name                              string
1 IsOperational                     bool
2 OffPremiseServicesReachableIPv4   bool
3 OffPremiseServicesReachableIPv6   bool
4 HardwareAddress                   `HardwareAddress`
5 IPv4Addresses                     list[ipv4ad r]
6 IPv6Addresses                     list[ipv6ad r]
7 Type                              `InterfaceType`
</pre></div>
</div>
</section>
<section id="id35">
<h4>11.11.7. Attributes<a class="headerlink" href="#id35" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000 NetworkInterfaces        list[`NetworkInterface`]
0x0001 RebootCount              uint16
0x0002 UpTime                   uint64
0x0003 TotalOperationalHours    uint32
0x0004                ``
0x0005 ActiveHardwareFaults     list[`HardwareFault`]
0x0006 ActiveRadioFaults        list[`RadioFault`]
0x0007 ActiveNetworkFaults      list[`NetworkFault`]
0x0008 TestEventTriggersEnabled bool
</pre></div>
</div>
<p>Table 108. <code class="docutils literal notranslate"><span class="pre">ENUM</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unspecified</span>
<span class="mi">1</span> <span class="n">PowerOnReboot</span>
<span class="mi">2</span> <span class="n">BrownOutReset</span>
<span class="mi">3</span> <span class="n">SoftwareWatchdogReset</span>
<span class="mi">4</span> <span class="n">HardwareWatchdogReset</span>
<span class="mi">5</span> <span class="n">SoftwareUpdateCompleted</span>
<span class="mi">6</span> <span class="n">SoftwareReset</span>
</pre></div>
</div>
</section>
<section id="id36">
<h4>11.11.8. Commands<a class="headerlink" href="#id36" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00    TestEventTrigger   client ⇒ server
</pre></div>
</div>
<p>11.11.8.1. TestEventTrigger Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">EnableKey</span>     <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">EventTrigger</span>  <span class="n">uint64</span>
</pre></div>
</div>
</section>
<section id="id37">
<h4>11.11.9. Events<a class="headerlink" href="#id37" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">HardwareFaultChange</span>       <span class="n">CRITICAL</span>
<span class="mi">1</span> <span class="n">RadioFaultChange</span>          <span class="n">CRITICAL</span>
<span class="mi">2</span> <span class="n">NetworkFaultChange</span>        <span class="n">CRITICAL</span>
<span class="mi">3</span>                 <span class="n">CRITICAL</span>
</pre></div>
</div>
<p>11.11.9.1. <code class="docutils literal notranslate"><span class="pre">HardwareFaultChange</span></code> Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 Current   list[`HardwareFault`]
1 Previous  list[`HardwareFault`]
</pre></div>
</div>
<p>11.11.9.2. <code class="docutils literal notranslate"><span class="pre">RadioFaultChange</span></code> Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 Current   list[`RadioFault`]
1 Previous  list[`RadioFault`]
</pre></div>
</div>
<p>11.11.9.3. <code class="docutils literal notranslate"><span class="pre">NetworkFaultChange</span></code> Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 Current   list[`NetworkFault`]
1 Previous  list[`NetworkFault`]
</pre></div>
</div>
<p>11.11.9.4. <code class="docutils literal notranslate"><span class="pre">Event</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0  `enum`
</pre></div>
</div>
</section>
</section>
<section id="software-diagnostics-cluster">
<h3>11.12. Software Diagnostics Cluster<a class="headerlink" href="#software-diagnostics-cluster" title="此标题的永久链接">¶</a></h3>
<p>The Software Diagnostics Cluster provides a means to acquire standardized diagnostics metrics that MAY be used by a Node to assist a user or Administrator in diagnosing potential problems. The Software Diagnostics Cluster attempts to centralize all metrics that are relevant to the software that may be running on a Node.</p>
<section id="id38">
<h4>11.12.6. Data Types<a class="headerlink" href="#id38" title="此标题的永久链接">¶</a></h4>
<p>11.12.6.1. <code class="docutils literal notranslate"><span class="pre">ThreadMetricsStruct</span></code> struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">ID</span>                <span class="n">uint64</span>
<span class="mi">1</span> <span class="n">Name</span>              <span class="n">string</span>
<span class="mi">2</span> <span class="n">StackFreeCurrent</span>  <span class="n">uint32</span>
<span class="mi">3</span> <span class="n">StackFreeMinimum</span>  <span class="n">uint32</span>
<span class="mi">4</span> <span class="n">StackSize</span>         <span class="n">uint32</span>
</pre></div>
</div>
</section>
<section id="id39">
<h4>11.12.7. Attributes<a class="headerlink" href="#id39" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000 ThreadMetrics            list[`ThreadMetricsStruct`]
0x0001 CurrentHeapFree          uint64
0x0002 CurrentHeapUsed          uint64
0x0003 CurrentHeapHighWatermark uint64
</pre></div>
</div>
</section>
<section id="id40">
<h4>11.12.8. Commands<a class="headerlink" href="#id40" title="此标题的永久链接">¶</a></h4>
<p>Table 109. Software Diagnostics Cluster supported Commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 ResetWatermarks    Client ⇒ Server
</pre></div>
</div>
<p>11.12.8.1. ResetWatermarks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">command</span> <span class="n">has</span> <span class="n">no</span> <span class="n">payload</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="id41">
<h4>11.12.9. Events<a class="headerlink" href="#id41" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">SoftwareFault</span>     <span class="n">INFO</span>
</pre></div>
</div>
<p>11.12.9.1. SoftwareFault Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">ID</span>                <span class="n">uint64</span>
<span class="mi">1</span> <span class="n">Name</span>              <span class="n">string</span>
<span class="mi">2</span> <span class="n">FaultRecording</span>    <span class="n">octstr</span>
</pre></div>
</div>
</section>
</section>
<section id="thread-network-diagnostics-cluster">
<h3>11.13. Thread Network Diagnostics Cluster<a class="headerlink" href="#thread-network-diagnostics-cluster" title="此标题的永久链接">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Thread</span> <span class="pre">Network</span> <span class="pre">Diagnostics</span> <span class="pre">Cluster</span></code> provides a means to acquire standardized diagnostics metrics that MAY be used by a Node to assist a user or Administrator in diagnosing potential problems. The <code class="docutils literal notranslate"><span class="pre">Thread</span> <span class="pre">Network</span> <span class="pre">Diagnostics</span> <span class="pre">Cluster</span></code> attempts to centralize all metrics that are relevant to a potential Thread radio running on a Node.</p>
<section id="id42">
<h4>11.13.6. Data Types<a class="headerlink" href="#id42" title="此标题的永久链接">¶</a></h4>
<p>11.11.6.3. <code class="docutils literal notranslate"><span class="pre">NetworkFault</span></code> enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unspecified</span>
<span class="mi">1</span> <span class="n">LinkDown</span>
<span class="mi">2</span> <span class="n">HardwareFailure</span>
<span class="mi">3</span> <span class="n">NetworkJammed</span>
</pre></div>
</div>
</section>
<section id="id43">
<h4>11.13.7. Attributes<a class="headerlink" href="#id43" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 Channel                uint16
0x01 RoutingRole            `RoutingRole`
0x02 NetworkName            String
0x03 PanId                  uint16
0x04 ExtendedPanId          uint64
0x05 MeshLocalPrefix        ipv6pre
0x06 OverrunCount           uint64
0x07 NeighborTable          list[`NeighborTable`]
0x08 RouteTable             list[`RouteTable`]
0x09 PartitionId            uint32
0x0a Weighting              uint8
0x0b DataVersion            uint8
0x0c StableDataVersion      uint8
0x0d LeaderRouterId         int8
0x0e DetachedR oleCount     uint16
0x0f ChildRoleCount         uint16
0x10 RouterRoleCount        uint16
0x11 LeaderRoleCount        uint16
0x12 AttachAttemptCount     uint16
0x13 PartitionIdChangeCount uint16
0x14 BetterPartitionAttachAttemptCount  uint16
0x15 ParentChangeCount      uint16
0x16 TxTotalCount           uint32
0x17 TxUnicastCount         uint32
0x18 TxBroadcastCount       uint32
0x19 TxAckRequestedCount    uint32
0x1a TxAckedCount           uint32
0x1b TxNoAckRequestedCount  uint32
0x1c TxDataCount            uint32
0x1d TxDataPollCount        uint32
0x1e TxBeaconCount          uint32
0x1f TxBeaconRequestCount   uint32
0x20 TxOtherCount           uint32
0x21 TxRetryCount           uint32
0x22 TxDirectMaxRetryExpiryCount       uint32
0x23 TxIndirectMaxRetryExpiryCount     uint32
0x24 TxErrCcaCount              uint32
0x25 TxErrAbortCount            uint32
0x26 TxErrBusyChannelCount      uint32
0x27 RxTotalCount               uint32
0x28 RxUnicastCount             uint32
0x29 RxBroadcastCount           uint32
0x2a RxDataCount                uint32
0x2b RxDataPollCount            uint32
0x2c RxBeaconCount              uint32
0x2d RxBeaconRequestCount       uint32
0x2e RxOtherCount               uint32
0x2f RxAddressFilteredCount     uint32
0x30 RxDestAddrFilteredCount    uint32
0x31 RxDuplicatedCount          uint32
0x32 RxErrNoFrameCount          uint32
0x33 RxErrUnknownNeighborCount  uint32
0x34 RxErrInvalidScrAddrCount   uint32
0x35 RxErrSecCount              uint32
0x36 RxErrFcsCount              uint32
0x37 RxErrOtherCount            uint32
0x38 ActiveTimestamp            uint64
0x39 PendingTimestamp           uint64
0x3a Delay                      uint32
0x3b SecurityPolicy             SecurityPolicy
0x3c ChannelPage0Mask           octstr
0x3d OperationalDatasetComponents       `OperationalDatasetComponents`
0x3e ActiveNetworkFaults                list[`NetworkFault`]
</pre></div>
</div>
<section id="routingrole-attribute">
<h5>11.13.7.2. RoutingRole Attribute<a class="headerlink" href="#routingrole-attribute" title="此标题的永久链接">¶</a></h5>
<p>Table 111. <code class="docutils literal notranslate"><span class="pre">RoutingRole</span></code> ENUM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unspecified</span>
<span class="mi">1</span> <span class="n">Unassigned</span>
<span class="mi">2</span> <span class="n">SleepyEndDevice</span>
<span class="mi">3</span> <span class="n">EndDevice</span>
<span class="mi">4</span> <span class="n">REED</span>
<span class="mi">5</span> <span class="n">Router</span>
<span class="mi">6</span> <span class="n">Leader</span>
</pre></div>
</div>
</section>
<section id="neighbortable-attribute">
<h5>11.13.7.8. NeighborTable Attribute<a class="headerlink" href="#neighbortable-attribute" title="此标题的永久链接">¶</a></h5>
<p>Table 112. <code class="docutils literal notranslate"><span class="pre">NeighborTable</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x00</span> <span class="n">ExtAddress</span>         <span class="n">uint64</span>
<span class="mh">0x01</span> <span class="n">Age</span>                <span class="n">uint32</span>
<span class="mh">0x02</span> <span class="n">Rloc16</span>             <span class="n">uint16</span>
<span class="mh">0x03</span> <span class="n">LinkFrameCounter</span>   <span class="n">uint32</span>
<span class="mh">0x04</span> <span class="n">MleFrameCounter</span>    <span class="n">uint32</span>
<span class="mh">0x05</span> <span class="n">LQI</span>                <span class="n">uint8</span>
<span class="mh">0x06</span> <span class="n">AverageRssi</span>        <span class="n">int8</span>
<span class="mh">0x07</span> <span class="n">LastRssi</span>           <span class="n">int8</span>
<span class="mh">0x08</span> <span class="n">FrameErrorRate</span>     <span class="n">uint8</span>
<span class="mh">0x09</span> <span class="n">MessageErrorRate</span>   <span class="n">uint8</span>
<span class="mh">0x0a</span> <span class="n">RxOnWhenIdle</span>       <span class="nb">bool</span>
<span class="mh">0x0b</span> <span class="n">FullThreadDevice</span>   <span class="nb">bool</span>
<span class="mh">0x0c</span> <span class="n">FullNetworkData</span>    <span class="nb">bool</span>
<span class="mh">0x0d</span> <span class="n">IsChild</span>            <span class="nb">bool</span>
</pre></div>
</div>
</section>
<section id="routetable-attribute">
<h5>11.13.7.9. RouteTable Attribute<a class="headerlink" href="#routetable-attribute" title="此标题的永久链接">¶</a></h5>
<p>Table 113. <code class="docutils literal notranslate"><span class="pre">RouteTable</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x00</span> <span class="n">ExtAddress</span>         <span class="n">uint64</span>
<span class="mh">0x01</span> <span class="n">Rloc16</span>             <span class="n">uint16</span>
<span class="mh">0x02</span> <span class="n">RouterId</span>           <span class="n">uint8</span>
<span class="mh">0x03</span> <span class="n">NextHop</span>            <span class="n">uint8</span>
<span class="mh">0x04</span> <span class="n">PathCost</span>           <span class="n">uint8</span>
<span class="mh">0x05</span> <span class="n">LQIIn</span>              <span class="n">uint8</span>
<span class="mh">0x06</span> <span class="n">LQIOut</span>             <span class="n">uint8</span>
<span class="mh">0x07</span> <span class="n">Age</span>                <span class="n">uint8</span>
<span class="mh">0x08</span> <span class="n">Allocated</span>          <span class="nb">bool</span>
<span class="mh">0x09</span> <span class="n">LinkEstablished</span>    <span class="nb">bool</span>
</pre></div>
</div>
</section>
<section id="securitypolicy-attribute">
<h5>11.13.7.60. SecurityPolicy Attribute<a class="headerlink" href="#securitypolicy-attribute" title="此标题的永久链接">¶</a></h5>
<p>Table 114. <code class="docutils literal notranslate"><span class="pre">SecurityPolicy</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">RotationTime</span>      <span class="n">uint16</span>
<span class="mi">1</span> <span class="n">Flags</span>             <span class="n">uint16</span>
</pre></div>
</div>
</section>
<section id="operationaldatasetcomponents-attribute">
<h5>11.13.7.62. OperationalDatasetComponents Attribute<a class="headerlink" href="#operationaldatasetcomponents-attribute" title="此标题的永久链接">¶</a></h5>
<p>Table 115. <code class="docutils literal notranslate"><span class="pre">OperationalDatasetComponents</span></code> Struct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x00</span> <span class="n">ActiveTimestampPresent</span>         <span class="nb">bool</span>
<span class="mh">0x01</span> <span class="n">PendingTimestampPresent</span>        <span class="nb">bool</span>
<span class="mh">0x02</span> <span class="n">MasterKeyPresent</span>               <span class="nb">bool</span>
<span class="mh">0x03</span> <span class="n">NetworkNamePresent</span>             <span class="nb">bool</span>
<span class="mh">0x04</span> <span class="n">ExtendedPanIdPresent</span>           <span class="nb">bool</span>
<span class="mh">0x05</span> <span class="n">MeshLocalPrefixPresent</span>         <span class="nb">bool</span>
<span class="mh">0x06</span> <span class="n">DelayPresent</span>                   <span class="nb">bool</span>
<span class="mh">0x07</span> <span class="n">PanIdPresent</span>                   <span class="nb">bool</span>
<span class="mh">0x08</span> <span class="n">ChannelPresent</span>                 <span class="nb">bool</span>
<span class="mh">0x09</span> <span class="n">PskcPresent</span>                    <span class="nb">bool</span>
<span class="mh">0x0a</span> <span class="n">SecurityPolicyPresent</span>          <span class="nb">bool</span>
<span class="mh">0x0b</span> <span class="n">ChannelMaskPresent</span>             <span class="nb">bool</span>
</pre></div>
</div>
</section>
</section>
<section id="id44">
<h4>11.13.8. Commands<a class="headerlink" href="#id44" title="此标题的永久链接">¶</a></h4>
<p>Table 116. Diagnostics Thread Cluster supported Commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ResetCounts       Client ⇒ Server
</pre></div>
</div>
</section>
<section id="id45">
<h4>11.13.9. Events<a class="headerlink" href="#id45" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">ConnectionStatus</span>      <span class="n">INFO</span>
<span class="mi">1</span> <span class="n">NetworkFaultChange</span>    <span class="n">INFO</span>
</pre></div>
</div>
<p>11.13.9.1. <code class="docutils literal notranslate"><span class="pre">NetworkFaultChange</span></code> Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Current</span>   <span class="nb">list</span><span class="p">[</span><span class="n">NetworkFault</span><span class="p">]</span>
<span class="mi">1</span> <span class="n">Previous</span>  <span class="nb">list</span><span class="p">[</span><span class="n">NetworkFault</span><span class="p">]</span>
</pre></div>
</div>
<p>11.13.9.2. <code class="docutils literal notranslate"><span class="pre">ConnectionStatus</span></code> Event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">ConnectionStatus</span>  <span class="n">ConnectionStatusEnum</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ConnectionStatusEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Connected</span>
<span class="mi">1</span> <span class="n">NotConnected</span>
</pre></div>
</div>
</section>
</section>
<section id="wi-fi-network-diagnostics-cluster">
<h3>11.14. Wi-Fi Network Diagnostics Cluster<a class="headerlink" href="#wi-fi-network-diagnostics-cluster" title="此标题的永久链接">¶</a></h3>
<p>The Wi-Fi Network Diagnostics Cluster provides a means to acquire standardized diagnostics metrics that MAY be used by a Node to assist a user or Administrator in diagnosing potential problems. The Wi-Fi Network Diagnostics Cluster attempts to centralize all metrics that are relevant to a potential Wi-Fi radio running on a Node.</p>
<section id="id46">
<h4>11.14.3. Data Types<a class="headerlink" href="#id46" title="此标题的永久链接">¶</a></h4>
<p>11.14.3.1. SecurityType enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="n">Unspecified</span>
<span class="mi">1</span>   <span class="kc">None</span>
<span class="mi">2</span>   <span class="n">WEP</span>
<span class="mi">3</span>   <span class="n">WPA</span>
<span class="mi">4</span>   <span class="n">WPA2</span>
<span class="mi">5</span>   <span class="n">WPA3</span>
</pre></div>
</div>
<p>11.14.3.2. WiFiVersion enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">a</span>
<span class="mi">1</span> <span class="n">b</span>
<span class="mi">2</span> <span class="n">g</span>
<span class="mi">3</span> <span class="n">n</span>
<span class="mi">4</span> <span class="n">ac</span>
<span class="mi">5</span> <span class="n">ax</span>
</pre></div>
</div>
</section>
<section id="id47">
<h4>11.14.4. Attributes<a class="headerlink" href="#id47" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000 BSSID                    octstr
0x0001 SecurityType             `SecurityType`
0x0002 WiFiVersion              `WiFiVersion`
0x0003 ChannelNumber            uint16
0x0004 RSSI                     int8
0x0005 BeaconLostCount          uint32
0x0006 BeaconRxCount            uint32
0x0007 PacketMulticastRxCount   uint32
0x0008 PacketMulticastTxCount   uint32
0x0009 PacketUnicastRxCount     uint32
0x000a PacketUnicastTxCount     uint32
0x000b CurrentMaxRate           uint64
0x000c OverrunCount             uint64
</pre></div>
</div>
</section>
<section id="id48">
<h4>11.14.5. Commands<a class="headerlink" href="#id48" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 ResetCounts     Client ⇒ Server
</pre></div>
</div>
</section>
<section id="id49">
<h4>11.14.6. Events<a class="headerlink" href="#id49" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Disconnection</span>         <span class="n">info</span>
<span class="mi">1</span> <span class="n">AssociationFailure</span>    <span class="n">info</span>
<span class="mi">2</span> <span class="n">ConnectionStatus</span>      <span class="n">info</span>
</pre></div>
</div>
</section>
</section>
<section id="ethernet-network-diagnostics-cluster">
<h3>11.15. Ethernet Network Diagnostics Cluster<a class="headerlink" href="#ethernet-network-diagnostics-cluster" title="此标题的永久链接">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Ethernet</span> <span class="pre">Network</span> <span class="pre">Diagnostics</span> <span class="pre">Cluster</span></code> provides a means to acquire standardized diagnostics metrics that MAY be used by a Node to assist a user or Administrator in diagnosing potential problems. The <code class="docutils literal notranslate"><span class="pre">Ethernet</span> <span class="pre">Network</span> <span class="pre">Diagnostics</span> <span class="pre">Cluster</span></code> attempts to centralize all metrics that are relevant to a potential Ethernet connection to a Node.</p>
<section id="id50">
<h4>11.15.3. Data Types<a class="headerlink" href="#id50" title="此标题的永久链接">¶</a></h4>
<p>11.15.3.1. <code class="docutils literal notranslate"><span class="pre">PHYRate</span></code> enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Rate10M</span>
<span class="mi">1</span> <span class="n">Rate100M</span>
<span class="mi">2</span> <span class="n">Rate1G</span>
<span class="mi">3</span> <span class="n">Rate2_5G</span>
<span class="mi">4</span> <span class="n">Rate5G</span>
<span class="mi">5</span> <span class="n">Rate10G</span>
<span class="mi">6</span> <span class="n">Rate40G</span>
<span class="mi">7</span> <span class="n">Rate100G</span>
<span class="mi">8</span> <span class="n">Rate200G</span>
<span class="mi">9</span> <span class="n">Rate400G</span>
</pre></div>
</div>
</section>
<section id="id51">
<h4>11.15.4. Attributes<a class="headerlink" href="#id51" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000 PHYRate          `PHYRate`
0x0001 FullDuplex       bool
0x0002 PacketRxCount    uint64
0x0003 PacketTxCount    uint64
0x0004 TxErrCount       uint64
0x0005 CollisionCount   uint64
0x0006 OverrunCount     uint64
0x0007 CarrierDetect    bool
0x0008 TimeSinceReset   uint64
</pre></div>
</div>
</section>
<section id="id52">
<h4>11.15.6. Commands<a class="headerlink" href="#id52" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 ResetCounts    Client ⇒ Server
</pre></div>
</div>
</section>
</section>
<section id="time-synchronization">
<h3>11.16. Time Synchronization<a class="headerlink" href="#time-synchronization" title="此标题的永久链接">¶</a></h3>
<p>This section describes a mechanism for Nodes to achieve and maintain time synchronization. The Time Cluster provides Attributes for reading a Node’s current time. It also allows Administrators to set current time, time zone and daylight savings time (DST) settings.</p>
<section id="id53">
<h4>11.16.6. Attributes<a class="headerlink" href="#id53" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000 UTCTime               epoch-us
0x0001 Granularity           `GranularityEnum`
0x0002 TimeSource            `TimeSourceEnum`
0x0003 TrustedTimeNodeId     node-id
0x0004 DefaultNtp            string
0x0005 TimeZone              list[`TimeZoneType`]
0x0006 DstOffset             list[`DstOffsetType`]
0x0007 LocalTime             epoch-us
0x0008 TimeZoneDatabase      bool
0x0009 NtpServerPort         uint16
</pre></div>
</div>
</section>
<section id="id54">
<h4>11.16.7. Commands<a class="headerlink" href="#id54" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 `SetUtcTime`     Client ⇒ Server
</pre></div>
</div>
<p>11.16.7.1. <code class="docutils literal notranslate"><span class="pre">SetUtcTime</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 UtcTime       epoch-us
1 Granularity   `GranularityEnum`
2 TimeSource    `TimeSourceEnum`
</pre></div>
</div>
</section>
<section id="id55">
<h4>11.16.8. Events<a class="headerlink" href="#id55" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">DstTableEmpty</span>
<span class="mi">1</span> <span class="n">DstStatus</span>
<span class="mi">2</span> <span class="n">TimeZoneStatus</span>
</pre></div>
</div>
</section>
<section id="id56">
<h4>11.16.9. Data Types<a class="headerlink" href="#id56" title="此标题的永久链接">¶</a></h4>
<p>11.16.9.1. <code class="docutils literal notranslate"><span class="pre">GranularityEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">NoTimeGranularity</span>
<span class="mi">1</span> <span class="n">MinutesGranularity</span>
<span class="mi">2</span> <span class="n">SecondsGranularity</span>
<span class="mi">3</span> <span class="n">MillisecondsGranularity</span>
<span class="mi">4</span> <span class="n">MicrosecondsGranularity</span>
</pre></div>
</div>
<p>11.16.9.2. <code class="docutils literal notranslate"><span class="pre">TimeSourceEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span> <span class="kc">None</span>
<span class="mi">01</span> <span class="n">Unknown</span>
<span class="mi">02</span> <span class="n">Admin</span>
<span class="mi">03</span> <span class="n">NodeTimeCluster</span>
<span class="mi">04</span> <span class="n">NonFabricSntp</span>
<span class="mi">05</span> <span class="n">NonFabricNtp</span>
<span class="mi">06</span> <span class="n">FabricSntp</span>
<span class="mi">07</span> <span class="n">FabricNtp</span>
<span class="mi">08</span> <span class="n">MixedNtp</span>
<span class="mi">09</span> <span class="n">NonFabricSntpNts</span>
<span class="mi">10</span> <span class="n">NonFabricNtpNts</span>
<span class="mi">11</span> <span class="n">FabricSntpNts</span>
<span class="mi">12</span> <span class="n">FabricNtpNts</span>
<span class="mi">13</span> <span class="n">MixedNtpNts</span>
<span class="mi">14</span> <span class="n">CloudSource</span>
<span class="mi">15</span> <span class="n">Ptp</span>
<span class="mi">16</span> <span class="n">Gnss</span>
</pre></div>
</div>
<p>11.16.9.3. <code class="docutils literal notranslate"><span class="pre">TimeZoneType</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Offset</span>    <span class="n">int32</span>
<span class="mi">1</span> <span class="n">ValidAt</span>   <span class="n">epoch</span><span class="o">-</span><span class="n">us</span>
<span class="mi">2</span> <span class="n">Name</span>      <span class="n">string</span>
</pre></div>
</div>
<p>11.16.9.4. <code class="docutils literal notranslate"><span class="pre">DstOffsetType</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Offset</span>            <span class="n">int32</span>
<span class="mi">1</span> <span class="n">ValidStarting</span>     <span class="n">epoch</span><span class="o">-</span><span class="n">us</span>
<span class="mi">2</span> <span class="n">ValidUntil</span>        <span class="n">epoch</span><span class="o">-</span><span class="n">us</span>
</pre></div>
</div>
</section>
</section>
<section id="node-operational-credentials-cluster">
<h3>11.17. Node Operational Credentials Cluster<a class="headerlink" href="#node-operational-credentials-cluster" title="此标题的永久链接">¶</a></h3>
<p>This cluster is used to add or remove Node Operational credentials on a Commissionee or Node, as well as manage the associated Fabrics.</p>
<section id="id57">
<h4>11.17.5. Data Types<a class="headerlink" href="#id57" title="此标题的永久链接">¶</a></h4>
<p>11.17.5.2. <code class="docutils literal notranslate"><span class="pre">NOCStruct</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="n">NOC</span>       <span class="n">octstr</span>
<span class="mi">2</span> <span class="n">ICAC</span>      <span class="n">octstr</span>
</pre></div>
</div>
<p>11.17.5.3. <code class="docutils literal notranslate"><span class="pre">FabricDescriptorStruct</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="n">RootPublicKey</span>     <span class="n">octstr</span>
<span class="mi">2</span> <span class="n">VendorID</span>          <span class="n">vendor</span><span class="o">-</span><span class="nb">id</span>
<span class="mi">3</span> <span class="n">FabricID</span>          <span class="n">fabric</span><span class="o">-</span><span class="nb">id</span>
<span class="mi">4</span> <span class="n">NodeID</span>            <span class="n">node</span><span class="o">-</span><span class="nb">id</span>
<span class="mi">5</span> <span class="n">Label</span>             <span class="n">string</span>
</pre></div>
</div>
<p>11.17.5.4. Attestation Elements  TLV:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">attestation</span><span class="o">-</span><span class="n">elements</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">certification_declaration</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>        <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">attestation_nonce</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>                <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mi">32</span> <span class="p">],</span>
    <span class="n">timestamp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>                        <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">firmware_information</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span>   <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>11.17.5.5. Attestation Information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">attestation_elements_message</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">certification_declaration</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">certification_declaration</span><span class="p">,</span>
    <span class="n">attestation_nonce</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>         <span class="o">=</span> <span class="n">attestation_nonce</span><span class="p">,</span>
    <span class="n">timestamp</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>                 <span class="o">=</span> <span class="n">timestamp</span><span class="p">,</span>
    <span class="n">firmware_information</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>      <span class="o">=</span> <span class="n">firmware_information</span><span class="p">,</span>

    <span class="o">...</span> <span class="n">optional</span> <span class="n">fields</span> <span class="n">per</span> <span class="n">attestation</span><span class="o">-</span><span class="n">elements</span> <span class="o">..</span>
<span class="p">}</span>
</pre></div>
</div>
<p>11.17.5.6. NOCSR Elements TLV:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nocsr</span><span class="o">-</span><span class="n">elements</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">csr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>                        <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">CSRNonce</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>                   <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mi">32</span> <span class="p">],</span>
    <span class="n">vendor_reserved1</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">vendor_reserved2</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">vendor_reserved3</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span>
<span class="p">}</span>
</pre></div>
</div>
<p>11.17.5.8. <code class="docutils literal notranslate"><span class="pre">CertificateChainType</span></code> Enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="n">DACCertificate</span>
<span class="mi">2</span> <span class="n">PAICertificate</span>
</pre></div>
</div>
<p>11.17.5.9. <code class="docutils literal notranslate"><span class="pre">NodeOperationalCertStatus</span></code> Enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span> <span class="n">Ok</span>
<span class="mi">01</span> <span class="n">InvalidPublicKey</span>
<span class="mi">02</span> <span class="n">InvalidNodeOpId</span>
<span class="mi">03</span> <span class="n">InvalidNOC</span>
<span class="mi">04</span> <span class="n">MissingCsr</span>
<span class="mi">05</span> <span class="n">TableFull</span>
<span class="mi">06</span> <span class="n">InvalidAdminSubject</span>
<span class="mi">07</span> <span class="n">Reserved</span> <span class="k">for</span> <span class="n">future</span> <span class="n">use</span>
<span class="mi">08</span> <span class="n">Reserved</span> <span class="k">for</span> <span class="n">future</span> <span class="n">use</span>
<span class="mi">09</span> <span class="n">FabricConflict</span>
<span class="mi">10</span> <span class="n">LabelConflict</span>
<span class="mi">11</span> <span class="n">InvalidFabricIndex</span>
</pre></div>
</div>
</section>
<section id="id58">
<h4>11.17.6. Attributes<a class="headerlink" href="#id58" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000 NOCs                     list[`NOCStruct`]
0x0001 Fabrics                  list[`FabricDescriptorStruct`]
0x0002 SupportedFabrics         uint8
0x0003 CommissionedFabrics      uint8
0x0004 TrustedRootCertificates  list[octstr]
0x0005 CurrentFabricIndex       uint8
</pre></div>
</div>
</section>
<section id="id59">
<h4>11.17.7. Commands<a class="headerlink" href="#id59" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 AttestationRequest         Client ⇒ Server
0x01 AttestationResponse        Server ⇒ Client
0x02 CertificateChainRequest    Client ⇒ Server
0x03 CertificateChainResponse   Server ⇒ Client
0x04 CSRRequest                 Client ⇒ Server
0x05 CSRResponse                Server ⇒ Client
0x06 AddNOC                     Client ⇒ Server
0x07 UpdateNOC                  Client ⇒ Server
0x08 NOCResponse                Server ⇒ Client
0x09 UpdateFabricLabel          Client ⇒ Server
0x0a RemoveFabric               Client ⇒ Server
0x0b AddTrustedRootCertificate  Client ⇒ Server
</pre></div>
</div>
</section>
</section>
<section id="administrator-commissioning-cluster">
<h3>11.18. Administrator Commissioning Cluster<a class="headerlink" href="#administrator-commissioning-cluster" title="此标题的永久链接">¶</a></h3>
<p>This cluster is used to trigger a Node to allow a new Administrator to commission it. It defines Attributes, Commands and Responses needed for this purpose.</p>
<section id="id60">
<h4>11.18.6. Data Types<a class="headerlink" href="#id60" title="此标题的永久链接">¶</a></h4>
<p>11.18.6.1. <code class="docutils literal notranslate"><span class="pre">CommissioningWindowStatus</span></code> enum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">WindowNotOpen</span>
<span class="mi">1</span> <span class="n">EnhancedWindowOpen</span>
<span class="mi">2</span> <span class="n">BasicWindowOpen</span>
</pre></div>
</div>
</section>
<section id="id61">
<h4>11.18.7. Attributes<a class="headerlink" href="#id61" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x0000 WindowStatus         `CommissioningWindowStatus`
0x0001 AdminFabricIndex     fabric-idx
0x0002 AdminVendorId        vendor-id
</pre></div>
</div>
</section>
<section id="id62">
<h4>11.18.8. Commands<a class="headerlink" href="#id62" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 OpenCommissioningWindow        Client ⇒ Server
0x01 OpenBasicCommissioningWindow   Client ⇒ Server
0x02 RevokeCommissioning            Client ⇒ Server
</pre></div>
</div>
<p>11.18.8.1. OpenCommissioningWindow (OCW) Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">CommissioningTimeout</span>  <span class="n">uint16</span>
<span class="mi">1</span> <span class="n">PAKEPasscodeVerifier</span>  <span class="n">octstr</span>
<span class="mi">2</span> <span class="n">Discriminator</span>         <span class="n">uint16</span>
<span class="mi">3</span> <span class="n">Iterations</span>            <span class="n">uint32</span>
<span class="mi">4</span> <span class="n">Salt</span>                  <span class="n">octstr</span>
</pre></div>
</div>
<p>11.18.8.2. OpenBasicCommissioningWindow (OBCW) Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">CommissioningTimeout</span>  <span class="n">uint16</span>
</pre></div>
</div>
<p>11.18.8.3. RevokeCommissioning Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">idempotent</span> <span class="n">command</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">Node</span> <span class="n">SHALL</span> <span class="p">(</span><span class="k">for</span> <span class="n">ECM</span><span class="p">)</span> <span class="n">delete</span> <span class="n">the</span> <span class="n">temporary</span> <span class="n">PAKEPasscodeVerifier</span> <span class="ow">and</span> <span class="n">associated</span> <span class="n">data</span><span class="p">,</span> <span class="ow">and</span> <span class="n">stop</span> <span class="n">publishing</span> <span class="n">the</span> <span class="n">DNS</span><span class="o">-</span><span class="n">SD</span> <span class="n">record</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Open</span> <span class="n">Commissioning</span> <span class="n">Window</span> <span class="ow">or</span> <span class="n">Open</span> <span class="n">Basic</span> <span class="n">Commissioning</span> <span class="n">Window</span> <span class="n">command</span>

<span class="n">If</span> <span class="n">no</span> <span class="n">commissioning</span> <span class="n">window</span> <span class="n">was</span> <span class="nb">open</span> <span class="n">at</span> <span class="n">time</span> <span class="n">of</span> <span class="n">receipt</span><span class="p">,</span> <span class="n">this</span> <span class="n">command</span> <span class="n">SHALL</span> <span class="n">fail</span> <span class="k">with</span> <span class="n">a</span> <span class="n">cluster</span> <span class="n">specific</span> <span class="n">status</span> <span class="n">code</span> <span class="n">of</span> <span class="n">WindowNotOpen</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="id63">
<h4>11.18.9. Status Codes<a class="headerlink" href="#id63" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span>   <span class="n">Busy</span>
<span class="mi">3</span>   <span class="n">PAKEParameterError</span>
<span class="mi">4</span>   <span class="n">WindowNotOpen</span>
</pre></div>
</div>
</section>
</section>
<section id="over-the-air-ota-software-update">
<h3>11.19. Over-the-Air (OTA) Software Update<a class="headerlink" href="#over-the-air-ota-software-update" title="此标题的永久链接">¶</a></h3>
<figure class="align-default" id="id171">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/DAD716F1-BB7B-4D44-B191-72B0E1CC98EA.png" src="https://img.zhaoweiguo.com/uPic/2022/11/DAD716F1-BB7B-4D44-B191-72B0E1CC98EA.png" />
<figcaption>
<p><span class="caption-text">Figure 74. Detailed OTA Software Update Workflow</span><a class="headerlink" href="#id171" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<section id="ota-software-update-provider-cluster-definition">
<h4>11.19.6 OTA Software Update Provider Cluster Definition<a class="headerlink" href="#ota-software-update-provider-cluster-definition" title="此标题的永久链接">¶</a></h4>
<section id="id64">
<h5>11.19.6.4. Data Types<a class="headerlink" href="#id64" title="此标题的永久链接">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">StatusEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">UpdateAvailable</span>
<span class="mi">1</span> <span class="n">Busy</span>
<span class="mi">2</span> <span class="n">NotAvailable</span>
<span class="mi">3</span> <span class="n">DownloadProtocolNotSupported</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ApplyUpdateActionEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Proceed</span>
<span class="mi">1</span> <span class="n">AwaitNextAction</span>
<span class="mi">2</span> <span class="n">Discontinue</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">DownloadProtocolEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">BDXSynchronous</span>
<span class="mi">1</span> <span class="n">BDXAsynchronous</span>
<span class="mi">2</span> <span class="n">HTTPS</span>
<span class="mi">3</span> <span class="n">VendorSpecific</span>
</pre></div>
</div>
</section>
<section id="id65">
<h5>11.19.6.6. Commands<a class="headerlink" href="#id65" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 QueryImage             Client ⇒ Server
0x01 QueryImageResponse     Server ⇒ Client
0x02 ApplyUpdateRequest     Client ⇒ Server
0x03 ApplyUpdateResponse    Server ⇒ Client
0x04 NotifyUpdateApplied    Client ⇒ Server
</pre></div>
</div>
<p>11.19.6.7. <code class="docutils literal notranslate"><span class="pre">QueryImage</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 VendorID              vendor-id
1 ProductID             uint16
2 SoftwareVersion       uint32
3 ProtocolsSupported    list[`DownloadProtocolEnum`]
4 HardwareVersion       uint16
5 Location              string
6 RequestorCanConsent   bool
7 MetadataForProvider   octstr
</pre></div>
</div>
<p>11.19.6.8. <code class="docutils literal notranslate"><span class="pre">QueryImageResponse</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Status</span>                    <span class="n">StatusEnum</span>
<span class="mi">1</span> <span class="n">DelayedActionTime</span>         <span class="n">uint32</span>
<span class="mi">2</span> <span class="n">ImageURI</span>                  <span class="n">string</span>
<span class="mi">3</span> <span class="n">SoftwareVersion</span>           <span class="n">uint32</span>
<span class="mi">4</span> <span class="n">SoftwareVersionString</span>     <span class="n">string</span>
<span class="mi">5</span> <span class="n">UpdateToken</span>               <span class="n">octstr</span>
<span class="mi">6</span> <span class="n">UserConsentNeeded</span>         <span class="nb">bool</span>
<span class="mi">7</span> <span class="n">MetadataForRequestor</span>      <span class="n">octstr</span>
</pre></div>
</div>
<p>11.19.6.10. <code class="docutils literal notranslate"><span class="pre">ApplyUpdateRequest</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">UpdateToken</span>     <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">NewVersion</span>      <span class="n">uint32</span>
</pre></div>
</div>
<p>11.19.6.11. <code class="docutils literal notranslate"><span class="pre">ApplyUpdateResponse</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Action</span>                <span class="n">ApplyUpdateActionEnum</span>
<span class="mi">1</span> <span class="n">DelayedActionTime</span>     <span class="n">uint32</span>
</pre></div>
</div>
<p>11.19.6.12. <code class="docutils literal notranslate"><span class="pre">NotifyUpdateApplied</span></code> Command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">UpdateToken</span>       <span class="n">octstr</span>
<span class="mi">1</span> <span class="n">SoftwareVersion</span>   <span class="n">uint32</span>
</pre></div>
</div>
</section>
</section>
<section id="ota-software-update-requestor-cluster-definition">
<h4>11.19.7. OTA Software Update Requestor Cluster Definition<a class="headerlink" href="#ota-software-update-requestor-cluster-definition" title="此标题的永久链接">¶</a></h4>
<section id="id66">
<h5>11.19.7.4. Data Types<a class="headerlink" href="#id66" title="此标题的永久链接">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">AnnouncementReasonEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">SimpleAnnouncement</span>
<span class="mi">1</span> <span class="n">UpdateAvailable</span>
<span class="mi">2</span> <span class="n">UrgentUpdateAvailable</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">UpdateStateEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unknown</span>
<span class="mi">1</span> <span class="n">Idle</span>
<span class="mi">2</span> <span class="n">Querying</span>
<span class="mi">3</span> <span class="n">DelayedOnQuery</span>
<span class="mi">4</span> <span class="n">Downloading</span>
<span class="mi">5</span> <span class="n">Applying</span>
<span class="mi">6</span> <span class="n">DelayedOnApply</span>
<span class="mi">7</span> <span class="n">RollingBack</span>
<span class="mi">8</span> <span class="n">DelayedOnUserConsent</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ChangeReasonEnum</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">Unknown</span>
<span class="mi">1</span> <span class="n">Success</span>
<span class="mi">2</span> <span class="n">Failure</span>
<span class="mi">3</span> <span class="n">TimeOut</span>
<span class="mi">4</span> <span class="n">DelayByProvider</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ProviderLocationStruct</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="n">ProviderNodeID</span>    <span class="n">node</span><span class="o">-</span><span class="nb">id</span>
<span class="mi">2</span> <span class="n">Endpoint</span>          <span class="n">endpoint</span><span class="o">-</span><span class="n">no</span>
</pre></div>
</div>
</section>
<section id="id67">
<h5>11.19.7.5. Server Attributes<a class="headerlink" href="#id67" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 DefaultOTAProviders       list[`ProviderLocationStruct`]
1 UpdatePossible            bool
2 UpdateState               `UpdateStateEnum`
3 UpdateStateProgress       uint8
</pre></div>
</div>
</section>
<section id="id68">
<h5>11.19.7.6. Commands<a class="headerlink" href="#id68" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0x00 AnnounceOTAProvider        Client ⇒ Server
</pre></div>
</div>
</section>
<section id="announceotaprovider-command">
<h5>11.19.7.7. AnnounceOTAProvider Command<a class="headerlink" href="#announceotaprovider-command" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ProviderNodeID        node-id
1 VendorID              vendor-id
2 AnnouncementReason    `AnnouncementReasonEnum`
3 MetadataForNode       octstr
4 Endpoint              endpoint-no
</pre></div>
</div>
</section>
<section id="id69">
<h5>11.19.7.8. Events<a class="headerlink" href="#id69" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 `StateTransition`       INFO
1 `VersionApplied`        CRITICAL
2 `DownloadError`         INFO
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">StateTransition</span></code> event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">PreviousState</span>            <span class="n">UpdateStateEnum</span>
<span class="mi">1</span> <span class="n">NewState</span>                 <span class="n">UpdateStateEnum</span>
<span class="mi">2</span> <span class="n">Reason</span>                   <span class="n">ChangeReasonEnum</span>
<span class="mi">3</span> <span class="n">TargetSoftwareVersion</span>    <span class="n">uint32</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">VersionApplied</span></code> event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">SoftwareVersion</span>   <span class="n">uint32</span>
<span class="mi">1</span> <span class="n">ProductID</span>         <span class="n">uint16</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">DownloadError</span></code> event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">SoftwareVersion</span>   <span class="n">uint32</span>
<span class="mi">1</span> <span class="n">BytesDownloaded</span>   <span class="n">uint64</span>
<span class="mi">2</span> <span class="n">ProgressPercent</span>   <span class="n">uint8</span>
<span class="mi">3</span> <span class="n">PlatformCode</span>      <span class="n">int64</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="over-the-air-ota-software-update-file-format">
<h3>11.20. Over-the-Air (OTA) Software Update File Format<a class="headerlink" href="#over-the-air-ota-software-update-file-format" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The majority of devices will undergo an over-the-air (OTA) software update at some point during their operational lifecycle.</p></li>
<li><p>It cannot be assumed that the Node responsible for serving OTA updates (OTA Provider) has any specific knowledge about the internals of OTA Requestor Nodes that are receiving OTA updates.</p></li>
<li><p>This section provides a standardized header that SHALL be included in all OTA Software Images, in order to provide the necessary information for OTA Providers to validate images available for a given OTA Requestor.</p></li>
</ul>
<p>Table 119. OTA Software Image File Layout:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>FileIdentifier  uint32
TotalSize       uint64
HeaderSize      uint32
Header          `TLV Encoding Format`
Payload         N/A
</pre></div>
</div>
<p>The Header is a TLV structure, encoded with anonymous outer tag, with the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ota</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="n">header</span><span class="o">-</span><span class="n">struct</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">VendorID</span>                        <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">ProductID</span>                       <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">SoftwareVersion</span>                 <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">SoftwareVersionString</span>           <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">1..64</span> <span class="p">],</span>
    <span class="n">PayloadSize</span>                     <span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">64</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">MinApplicableSoftwareVersion</span>    <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">MaxApplicableSoftwareVersion</span>    <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">ReleaseNotesURL</span>                 <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">1..256</span> <span class="p">],</span>
    <span class="n">ImageDigestType</span>                 <span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">8</span><span class="n">bits</span> <span class="p">],</span>
    <span class="n">ImageDigest</span>                     <span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">0..64</span> <span class="p">]</span>

<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="bulk-data-exchange-protocol-bdx">
<h3>11.21. Bulk Data Exchange Protocol (BDX)<a class="headerlink" href="#bulk-data-exchange-protocol-bdx" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Nodes need the ability to transfer “files” between nodes. For example, uploading sensor data or diagnostics data to another node or downloading software update images from a software update server both require such a protocol.</p></li>
<li><p>This document defines a Bulk Data Exchange (BDX) protocol, where files are modeled as collections of bytes with some attached metadata.</p></li>
</ul>
<section id="protocol-opcodes-and-status-report-values">
<h4>11.21.3. Protocol Opcodes and Status Report Values<a class="headerlink" href="#protocol-opcodes-and-status-report-values" title="此标题的永久链接">¶</a></h4>
<section id="bdx-protocol-messages">
<h5>11.21.3.1. BDX Protocol Messages<a class="headerlink" href="#bdx-protocol-messages" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Vendor ID = 0x0000 (Matter Common)
• Protocol ID = PROTOCOL_ID_BDX
</pre></div>
</div>
<p>Table 120. BDX Protocol Opcodes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Protocol</span> <span class="n">Opcode</span>     <span class="n">Message</span>
<span class="mh">0x01</span>                <span class="n">SendInit</span>
<span class="mh">0x02</span>                <span class="n">SendAccept</span>
<span class="mh">0x03</span>                <span class="n">Reserved</span> <span class="k">for</span> <span class="n">future</span> <span class="n">use</span>
<span class="mh">0x04</span>                <span class="n">ReceiveInit</span>
<span class="mh">0x05</span>                <span class="n">ReceiveAccept</span>
<span class="mh">0x06</span><span class="o">...</span> <span class="mh">0x0F</span>        <span class="n">Reserved</span> <span class="k">for</span> <span class="n">future</span> <span class="n">use</span>
<span class="mh">0x10</span>                <span class="n">BlockQuery</span>
<span class="mh">0x11</span>                <span class="n">Block</span>
<span class="mh">0x12</span>                <span class="n">BlockEOF</span>
<span class="mh">0x13</span>                <span class="n">BlockAck</span>
<span class="mh">0x14</span>                <span class="n">BlockAckEOF</span>
<span class="mh">0x15</span>                <span class="n">BlockQueryWithSkip</span>
</pre></div>
</div>
</section>
<section id="bdx-status-codes">
<h5>11.21.3.2. BDX Status Codes<a class="headerlink" href="#bdx-status-codes" title="此标题的永久链接">¶</a></h5>
<p>Table 121. BDX Status reports:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Status</span> <span class="n">code</span>     <span class="n">Error</span>
<span class="mh">0x0012</span>          <span class="n">LENGTH_TOO_LARGE</span>
<span class="mh">0x0013</span>          <span class="n">LENGTH_TOO_SHORT</span>
<span class="mh">0x0014</span>          <span class="n">LENGTH_MISMATCH</span>
<span class="mh">0x0015</span>          <span class="n">LENGTH_REQUIRED</span>
<span class="mh">0x0016</span>          <span class="n">BAD_MESSAGE_CONTENTS</span>
<span class="mh">0x0017</span>          <span class="n">BAD_BLOCK_COUNTER</span>
<span class="mh">0x0018</span>          <span class="n">UNEXPECTED_MESSAGE</span>
<span class="mh">0x0019</span>          <span class="n">RESPONDER_BUSY</span>
<span class="mh">0x001F</span>          <span class="n">TRANSFER_FAILED_UNKNOWN_ERROR</span>
<span class="mh">0x0050</span>          <span class="n">TRANSFER_METHOD_NOT_SUPPORTED</span>
<span class="mh">0x0051</span>          <span class="n">FILE_DESIGNATOR_UNKNOWN</span>
<span class="mh">0x0052</span>          <span class="n">START_OFFSET_NOT_SUPPORTED</span>
<span class="mh">0x0053</span>          <span class="n">VERSION_NOT_SUPPORTED</span>
<span class="mh">0x005F</span>          <span class="n">UNKNOWN</span>
</pre></div>
</div>
</section>
</section>
<section id="transfer-management-messages">
<h4>11.21.5. Transfer Management Messages<a class="headerlink" href="#transfer-management-messages" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id172">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/2lHtfR.png" src="https://img.zhaoweiguo.com/uPic/2022/11/2lHtfR.png" />
<figcaption>
<p><span class="caption-text">Table 122. SendInit/ReceiveInit message fields</span><a class="headerlink" href="#id172" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id173">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/YfEwuI.png" src="https://img.zhaoweiguo.com/uPic/2022/11/YfEwuI.png" />
<figcaption>
<p><span class="caption-text">Table 123. SendInit/ReceiveInit Proposed Transfer Control (PTC) field structure, Table 124. SendInit/ReceiveInit Range Control (RC) field structure</span><a class="headerlink" href="#id173" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id174">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/QvFLW0.png" src="https://img.zhaoweiguo.com/uPic/2022/11/QvFLW0.png" />
<figcaption>
<p><span class="caption-text">Table 125. SendAccept message fields</span><a class="headerlink" href="#id174" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id175">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/oGJuuv.png" src="https://img.zhaoweiguo.com/uPic/2022/11/oGJuuv.png" />
<figcaption>
<p><span class="caption-text">Table 126. ReceiveAccept message fields</span><a class="headerlink" href="#id175" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id176">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/dS8tDw.png" src="https://img.zhaoweiguo.com/uPic/2022/11/dS8tDw.png" />
<figcaption>
<p><span class="caption-text">Table 127. SendAccept/ReceiveAccept Transfer Control (TC) field structure, Table 128. ReceiveAccept Range Control (RC) field structure</span><a class="headerlink" href="#id176" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="data-transfer-messages">
<h4>11.21.6. Data Transfer Messages<a class="headerlink" href="#data-transfer-messages" title="此标题的永久链接">¶</a></h4>
<section id="block-ordering-rules">
<h5>11.21.6.1. Block Ordering Rules<a class="headerlink" href="#block-ordering-rules" title="此标题的永久链接">¶</a></h5>
</section>
<section id="blockquery-message">
<h5>11.21.6.2. BlockQuery Message<a class="headerlink" href="#blockquery-message" title="此标题的永久链接">¶</a></h5>
</section>
<section id="blockquerywithskip-message">
<h5>11.21.6.3. BlockQueryWithSkip Message<a class="headerlink" href="#blockquerywithskip-message" title="此标题的永久链接">¶</a></h5>
</section>
<section id="block-message">
<h5>11.21.6.4. Block Message<a class="headerlink" href="#block-message" title="此标题的永久链接">¶</a></h5>
</section>
<section id="blockeof-message">
<h5>11.21.6.5. BlockEOF Message<a class="headerlink" href="#blockeof-message" title="此标题的永久链接">¶</a></h5>
</section>
<section id="blockack">
<h5>11.21.6.6. BlockAck<a class="headerlink" href="#blockack" title="此标题的永久链接">¶</a></h5>
</section>
<section id="blockackeof">
<h5>11.21.6.7. BlockAckEOF<a class="headerlink" href="#blockackeof" title="此标题的永久链接">¶</a></h5>
</section>
</section>
<section id="synchronous-transfers-message-flows">
<h4>11.21.7. Synchronous Transfers Message Flows<a class="headerlink" href="#synchronous-transfers-message-flows" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id177">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/1B8B7AE4-03DE-4E33-A612-7A5E529AD431.png" src="https://img.zhaoweiguo.com/uPic/2022/11/1B8B7AE4-03DE-4E33-A612-7A5E529AD431.png" />
<figcaption>
<p><span class="caption-text">Figure 75. Version negotiation: both participants support V1 of the protocol</span><a class="headerlink" href="#id177" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id178">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/6D39211E-8717-4CD8-B45D-D6C5BEF85B5B.png" src="https://img.zhaoweiguo.com/uPic/2022/11/6D39211E-8717-4CD8-B45D-D6C5BEF85B5B.png" />
<figcaption>
<p><span class="caption-text">Figure 76. Version negotiation: Initiator supports V2 of the protocol, while Responder supports V1</span><a class="headerlink" href="#id178" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id179">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/43BE8F6F-DB71-41F4-A204-D7E9A2B39E7B.png" src="https://img.zhaoweiguo.com/uPic/2022/11/43BE8F6F-DB71-41F4-A204-D7E9A2B39E7B.png" />
<figcaption>
<p><span class="caption-text">Figure 77. Synchronous file sending from sleepy device acting as driving Sender</span><a class="headerlink" href="#id179" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id180">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/B0F44837-6D8C-45ED-92B4-48068E9BFA39.png" src="https://img.zhaoweiguo.com/uPic/2022/11/B0F44837-6D8C-45ED-92B4-48068E9BFA39.png" />
<figcaption>
<p><span class="caption-text">Figure 78. Synchronous file sending to sleepy device acting as driving Receiver</span><a class="headerlink" href="#id180" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>…</p>
</section>
</section>
<section id="distributed-compliance-ledger">
<h3>11.22. Distributed Compliance Ledger<a class="headerlink" href="#distributed-compliance-ledger" title="此标题的永久链接">¶</a></h3>
<section id="scope-purpose">
<h4>11.22.1. Scope &amp; Purpose<a class="headerlink" href="#scope-purpose" title="此标题的永久链接">¶</a></h4>
<ul>
<li><p>The CSA’s <code class="docutils literal notranslate"><span class="pre">DCL</span> <span class="pre">(Distributed</span> <span class="pre">Compliance</span> <span class="pre">Ledger)</span></code> is a distributed store of information used for tracking certification status and Vendor maintained information such as, but not limited to, <code class="docutils literal notranslate"><span class="pre">product</span> <span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">product</span> <span class="pre">description</span></code>, and <code class="docutils literal notranslate"><span class="pre">firmware</span> <span class="pre">URL</span></code>.</p></li>
<li><p>This information is cryptographically secured by digital signatures and is made available via CSA approved synchronized servers or nodes that are geographically distributed.</p></li>
<li><p><a class="reference external" href="https://github.com/zigbee-alliance/distributed-compliance-ledger">Distributed Compliance Ledger</a> is an open-source project designed to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Act as a data store for device models&#39; information and their compliance status.
• Act as a secure distribution point of device meta data as made available by vendors.
• Act as a secure distribution point of Product Attestation Authorities certificates.
</pre></div>
</div>
</li>
</ul>
<p>The DCL is owned and hosted by CSA members in a way that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Write access to Ledger is restricted
• Read access from DCL is public
</pre></div>
</div>
</section>
<section id="schemas">
<h4>11.22.2. Schemas<a class="headerlink" href="#schemas" title="此标题的永久链接">¶</a></h4>
<p>Ledger data is available in following schemas:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Vendor Schema
• PAA Schema
• DeviceModel Schema
• DeviceSoftwareVersionModel Schema
• Compliance / Compliance test result Schema
</pre></div>
</div>
</section>
<section id="vendor-schema">
<h4>11.22.3. Vendor Schema<a class="headerlink" href="#vendor-schema" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Name</span>                    <span class="n">Type</span>
<span class="o">-----</span>                   <span class="o">------</span>
<span class="n">VendorID</span>                <span class="n">vendor</span><span class="o">-</span><span class="nb">id</span>
<span class="n">VendorName</span>              <span class="n">string</span>
<span class="n">CompanyLegalName</span>        <span class="n">string</span>
<span class="n">CompanyPreferredName</span>    <span class="n">string</span>
<span class="n">VendorLandingPageUrl</span>    <span class="n">string</span>
</pre></div>
</div>
</section>
<section id="paa-schema">
<h4>11.22.4. PAA Schema<a class="headerlink" href="#paa-schema" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PAACert</span>             <span class="n">string</span>
<span class="n">PAASubject</span>          <span class="n">string</span>
<span class="n">PAASubjectKeyID</span>     <span class="n">string</span>
</pre></div>
</div>
</section>
<section id="devicemodel-schema">
<h4>11.22.5. DeviceModel Schema<a class="headerlink" href="#devicemodel-schema" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VendorID</span>                    <span class="n">vendor</span><span class="o">-</span><span class="nb">id</span>
<span class="n">ProductID</span>                   <span class="n">uint16</span>
<span class="n">DeviceTypeID</span>                <span class="n">devtype</span><span class="o">-</span><span class="nb">id</span>
<span class="n">ProductName</span>                 <span class="n">string</span>
<span class="n">ProductLabel</span>                <span class="n">string</span>
<span class="n">PartNumber</span>                  <span class="n">string</span>

<span class="n">CommissioningCustomFlow</span>                     <span class="n">uint8</span>
<span class="n">CommissioningCustomFlowUrl</span>                  <span class="n">string</span>
<span class="n">CommissioningModeInitialStepsHint</span>           <span class="n">map32</span>
<span class="n">CommissioningModeInitialStepsInstruction</span>    <span class="n">string</span>
<span class="n">CommissioningModeSecondaryStepsHint</span>         <span class="n">map32</span>
<span class="n">CommissioningModeSecondaryStepsInstruction</span>  <span class="n">string</span>

<span class="n">UserManualUrl</span>   <span class="n">string</span>
<span class="n">SupportUrl</span>      <span class="n">string</span>
<span class="n">ProductURL</span>      <span class="n">string</span>
<span class="n">LsfUrl</span>          <span class="n">string</span>
<span class="n">LsfRevision</span>     <span class="n">uint16</span>
</pre></div>
</div>
</section>
<section id="devicesoftwareversionmodel-schema">
<h4>11.22.6. DeviceSoftwareVersionModel Schema<a class="headerlink" href="#devicesoftwareversionmodel-schema" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VendorID</span>                        <span class="n">vendor</span><span class="o">-</span><span class="nb">id</span>
<span class="n">ProductID</span>                       <span class="n">uint16</span>
<span class="n">SoftwareVersion</span>                 <span class="n">uint32</span>
<span class="n">SoftwareVersionString</span>           <span class="n">string</span>
<span class="n">CDVersionNumber</span>                 <span class="n">uint16</span>
<span class="n">FirmwareInformation</span>             <span class="n">string</span>
<span class="n">SoftwareVersionValid</span>            <span class="n">boolean</span>

<span class="n">OtaUrl</span>                          <span class="n">string</span>
<span class="n">OtaFileSize</span>                     <span class="n">uint64</span>
<span class="n">OtaChecksum</span>                     <span class="n">string</span>
<span class="n">OtaChecksumType</span>                 <span class="n">uint16</span>

<span class="n">MinApplicableSoftwareVersion</span>    <span class="n">uint32</span>
<span class="n">MaxApplicableSoftwareVersion</span>    <span class="n">uint32</span>
<span class="n">ReleaseNotesUrl</span>                 <span class="n">string</span>
</pre></div>
</div>
</section>
<section id="devicesoftwarecompliance-compliance-test-result-schema">
<h4>11.22.7. DeviceSoftwareCompliance / Compliance test result Schema<a class="headerlink" href="#devicesoftwarecompliance-compliance-test-result-schema" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>VendorID                        vendor-id
ProductID                       uint16
SoftwareVersion                 uint32
SoftwareVersionString           string
CDVersionNumber                 uint16
SoftwareVersionCertificationStatus      `SoftwareVersionCertificationStatusEnum`
CDCertificateID                 string
</pre></div>
</div>
<p>11.22.7.2. SoftwareVersionCertificationStatusEnum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="n">dev</span><span class="o">-</span><span class="n">test</span>
<span class="mi">1</span> <span class="n">provisional</span>
<span class="mi">2</span> <span class="n">certified</span>
<span class="mi">3</span> <span class="n">revoked</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="chapter-12-multiple-fabrics">
<h2>Chapter 12. Multiple Fabrics<a class="headerlink" href="#chapter-12-multiple-fabrics" title="此标题的永久链接">¶</a></h2>
<section id="multiple-fabrics">
<h3>12.1. Multiple Fabrics<a class="headerlink" href="#multiple-fabrics" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The Multiple Fabric feature allows a Node to be commissioned to multiple separately-administered Fabrics.</p></li>
<li><p>With this feature a current Administrator can (with user consent) allow the Commissioner for another fabric to commission that Node within its Fabric.</p></li>
<li><p>The new Commissioner MUST have their own Node Operational Certificate (NOC) issued by its Trusted Root Certificate Authority (TRCA).</p></li>
<li><p>Once commissioning is completed and the Node is properly configured, Administrators on the newly joined Fabric have access to the Node and can perform all administrative tasks.</p></li>
</ul>
</section>
</section>
<section id="chapter-13-security-requirements">
<h2>Chapter 13. Security Requirements<a class="headerlink" href="#chapter-13-security-requirements" title="此标题的永久链接">¶</a></h2>
<ul class="simple">
<li><p>Each Matter security and privacy requirement references the underlying <code class="docutils literal notranslate"><span class="pre">countermeasure</span> <span class="pre">(CM)</span></code> and <code class="docutils literal notranslate"><span class="pre">threat</span> <span class="pre">(T)</span></code> in the Threat Model that motivated the need for the requirement.</p></li>
</ul>
<section id="device-vs-node">
<h3>13.2. Device vs. Node<a class="headerlink" href="#device-vs-node" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>For some requirements, we need to differentiate between a Node (the entity which supports the Matter protocol stack) and a Device (a piece of equipment containing one or more Nodes).</p></li>
</ul>
</section>
<section id="factory-reset">
<h3>13.4. Factory Reset<a class="headerlink" href="#factory-reset" title="此标题的永久链接">¶</a></h3>
</section>
<section id="threats-and-countermeasures">
<h3>13.7. Threats and Countermeasures<a class="headerlink" href="#threats-and-countermeasures" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Threats: Tx</p></li>
<li><p>Countermeasures: CMx</p></li>
</ul>
<p>This section lists identified threats to Matter and countermeasures to mitigate those threats. This section is meant to be informational and not as normative requirements.</p>
</section>
</section>
<section id="appendix-a-tag-length-value-tlv-encoding-format">
<h2>Appendix A: Tag-length-value (TLV) Encoding Format<a class="headerlink" href="#appendix-a-tag-length-value-tlv-encoding-format" title="此标题的永久链接">¶</a></h2>
<section id="a-1-scope-purpose">
<h3>A.1. Scope &amp; Purpose<a class="headerlink" href="#a-1-scope-purpose" title="此标题的永久链接">¶</a></h3>
<ul>
<li><p>The Matter TLV (Tag-Length-Value) format is a generalized encoding method for simple structured data, used throughout this specification.</p></li>
<li><p>Values in the Matter TLV format are encoded as TLV elements. Each TLV element has a type.</p></li>
<li><p>Element types fall into two categories:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span> <span class="n">types</span>
<span class="n">container</span> <span class="n">types</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="a-2-tags">
<h3>A.2. Tags<a class="headerlink" href="#a-2-tags" title="此标题的永久链接">¶</a></h3>
<ul>
<li><p>A TLV element includes an optional numeric tag that identifies its purpose. A TLV element without a tag is called an <code class="docutils literal notranslate"><span class="pre">anonymous</span> <span class="pre">element</span></code>.</p></li>
<li><p>For elements with tags, two categories of tags are defined:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">profile</span><span class="o">-</span><span class="n">specific</span>
<span class="n">context</span><span class="o">-</span><span class="n">specific</span>
</pre></div>
</div>
</li>
</ul>
<p>A.2.1. <code class="docutils literal notranslate"><span class="pre">Profile-Specific</span></code> Tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Profile-specific tags identify elements globally.
A profile-specific tag is a 64-bit number composed of the following fields:
    • 16-bit Vendor ID
    • 16-bit profile number
    • 32-bit tag number
</pre></div>
</div>
<p>A.2.2. <code class="docutils literal notranslate"><span class="pre">Context-Specific</span></code> Tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Context</span><span class="o">-</span><span class="n">specific</span> <span class="n">tags</span> <span class="n">identify</span> <span class="n">elements</span> <span class="n">within</span> <span class="n">the</span> <span class="n">context</span> <span class="n">of</span> <span class="n">a</span> <span class="n">containing</span> <span class="n">structure</span> <span class="n">element</span><span class="o">.</span>
<span class="n">A</span> <span class="n">context</span><span class="o">-</span><span class="n">specific</span> <span class="n">tag</span> <span class="n">consists</span> <span class="n">of</span> <span class="n">a</span> <span class="n">single</span> <span class="mi">8</span><span class="o">-</span><span class="n">bit</span> <span class="n">tag</span> <span class="n">number</span><span class="o">.</span>
</pre></div>
</div>
<p>A.2.3. <code class="docutils literal notranslate"><span class="pre">Anonymous</span></code> Tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">special</span> <span class="s2">&quot;anonymous tag&quot;</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">denote</span> <span class="n">TLV</span> <span class="n">elements</span> <span class="n">that</span> <span class="n">lack</span> <span class="n">a</span> <span class="n">tag</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<p>A.2.4. Canonical Ordering of Tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ordering rules SHALL be used:
    • `Anonymous` tags SHALL be ordered before all other tags.
    • `Context-specific` tags SHALL be ordered before `profile-specific` tags.
</pre></div>
</div>
<section id="a-3-lengths">
<h4>A.3. Lengths<a class="headerlink" href="#a-3-lengths" title="此标题的永久链接">¶</a></h4>
<p>Depending on its type, a TLV element may contain a length field that gives the length, in octets, of the element’s value field.</p>
</section>
<section id="a-4-primitive-types">
<h4>A.4. Primitive Types<a class="headerlink" href="#a-4-primitive-types" title="此标题的永久链接">¶</a></h4>
<p>The Matter TLV format supports the following primitive types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Signed integers
• Unsigned integers
• UTF-8 Strings
• Octet Strings
• Single or double-precision floating point numbers
• Booleans
• Nulls
</pre></div>
</div>
<ul class="simple">
<li><p>Of the primitive types, integers, floating point numbers, booleans and nulls have a predetermined length specified by their type.</p></li>
<li><p>Octet strings and UTF-8 strings include a length field that gives their lengths in octets.</p></li>
</ul>
</section>
<section id="a-5-container-types">
<h4>A.5. Container Types<a class="headerlink" href="#a-5-container-types" title="此标题的永久链接">¶</a></h4>
<p>The Matter TLV format supports the following container types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>• Structures
• Arrays
• Lists
</pre></div>
</div>
</section>
<section id="a-6-element-encoding">
<h4>A.6. Element Encoding<a class="headerlink" href="#a-6-element-encoding" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>A TLV element is encoded a single <code class="docutils literal notranslate"><span class="pre">control</span> <span class="pre">octet</span></code>, followed by a sequence of <code class="docutils literal notranslate"><span class="pre">tag</span></code>, <code class="docutils literal notranslate"><span class="pre">length</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> octets.</p></li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Control</p></th>
<th class="head"><p>Octet Tag</p></th>
<th class="head"><p>Length</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1 octet</p></td>
<td><p>0 to 8 octets</p></td>
<td><p>0 to 8 octets</p></td>
<td><p>Variable</p></td>
</tr>
</tbody>
</table>
</section>
<section id="a-7-control-octet-encoding">
<h4>A.7. Control Octet Encoding<a class="headerlink" href="#a-7-control-octet-encoding" title="此标题的永久链接">¶</a></h4>
<section id="a-7-1-element-type-field">
<h5>A.7.1. Element Type Field<a class="headerlink" href="#a-7-1-element-type-field" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id181">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/4cGhYb.png" src="https://img.zhaoweiguo.com/uPic/2022/11/4cGhYb.png" />
<figcaption>
<p><span class="caption-text">The element type field encodes the element’s type as well as how the corresponding length and value fields are encoded.</span><a class="headerlink" href="#id181" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Control</span> <span class="n">Octet</span>                       <span class="n">Description</span>
<span class="n">Tag</span> <span class="n">Control</span>     <span class="n">Element</span> <span class="n">Type</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">Signed</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">Signed</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">Signed</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">4</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">Signed</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">8</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">Unsigned</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">Unsigned</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">Unsigned</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">4</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">Unsigned</span> <span class="n">Integer</span><span class="p">,</span> <span class="mi">8</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">BooleanFalse</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">BooleanTrue</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">Floating</span> <span class="n">Point</span> <span class="n">Number</span><span class="p">,</span> <span class="mi">4</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">Floating</span> <span class="n">Point</span> <span class="n">Number</span><span class="p">,</span> <span class="mi">8</span><span class="o">-</span><span class="n">octet</span> <span class="n">value</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="n">String</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="n">String</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="n">String</span><span class="p">,</span> <span class="mi">4</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="n">String</span><span class="p">,</span> <span class="mi">8</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">Octet</span> <span class="n">String</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">Octet</span> <span class="n">String</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">Octet</span> <span class="n">String</span><span class="p">,</span> <span class="mi">4</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">Octet</span> <span class="n">String</span><span class="p">,</span> <span class="mi">8</span><span class="o">-</span><span class="n">octet</span> <span class="n">length</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">Null</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">Structure</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">Array</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">List</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">EndofContainer</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">Reserved</span> <span class="p">(</span><span class="n">where</span> <span class="n">xxx</span> <span class="n">are</span> <span class="ow">not</span> <span class="mi">000</span><span class="p">)</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">Reserved</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">Reserved</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">Reserved</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">Reserved</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">Reserved</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">Reserved</span>
<span class="n">x</span> <span class="n">x</span> <span class="n">x</span>           <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">Reserved</span>
</pre></div>
</div>
</section>
<section id="a-7-2-tag-control-field">
<h5>A.7.2. Tag Control Field<a class="headerlink" href="#a-7-2-tag-control-field" title="此标题的永久链接">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Control</span> <span class="n">Octet</span>                   <span class="n">Description</span>
<span class="n">Tag</span> <span class="n">Control</span>     <span class="n">Element</span> <span class="n">Type</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Anonymous</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">0</span> <span class="n">octets</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Context</span><span class="o">-</span><span class="n">specific</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">1</span> <span class="n">octet</span>
<span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Common</span> <span class="n">Profile</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">2</span> <span class="n">octets</span>
<span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Common</span> <span class="n">Profile</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">4</span> <span class="n">octets</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Implicit</span> <span class="n">Profile</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">2</span> <span class="n">octets</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Implicit</span> <span class="n">Profile</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">4</span> <span class="n">octets</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Fully</span><span class="o">-</span><span class="n">qualified</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">6</span> <span class="n">octets</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>           <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span> <span class="n">x</span>       <span class="n">Fully</span><span class="o">-</span><span class="n">qualified</span> <span class="n">Tag</span> <span class="n">Form</span><span class="p">,</span> <span class="mi">8</span> <span class="n">octets</span>
</pre></div>
</div>
</section>
</section>
<section id="a-8-tag-encoding">
<h4>A.8. Tag Encoding<a class="headerlink" href="#a-8-tag-encoding" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>Tags are encoded in 0, 1, 2, 4, 6 or 8 octet widths as specified by the tag control field.</p></li>
<li><p>Tags consist of up to three numeric fields: a <code class="docutils literal notranslate"><span class="pre">Vendor</span> <span class="pre">ID</span></code> field, a <code class="docutils literal notranslate"><span class="pre">profile</span> <span class="pre">number</span></code> field, and a <code class="docutils literal notranslate"><span class="pre">tag</span> <span class="pre">number</span></code> field.</p></li>
</ul>
<p>The tag fields are ordered as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Vendor</span> <span class="n">ID</span>         <span class="n">Profile</span> <span class="n">Number</span>      <span class="n">Tag</span> <span class="n">Number</span>
<span class="mi">0</span> <span class="ow">or</span> <span class="mi">2</span> <span class="n">octets</span>     <span class="mi">0</span> <span class="ow">or</span> <span class="mi">2</span> <span class="n">octets</span>       <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="ow">or</span> <span class="mi">4</span> <span class="n">octets</span>
</pre></div>
</div>
<section id="a-8-1-fully-qualified-tag-form">
<h5>A.8.1. Fully-Qualified Tag Form<a class="headerlink" href="#a-8-1-fully-qualified-tag-form" title="此标题的永久链接">¶</a></h5>
<figure class="align-default" id="id182">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/ynfTLb.png" src="https://img.zhaoweiguo.com/uPic/2022/11/ynfTLb.png" />
<figcaption>
<p><span class="caption-text">Two variants of this form are supported, one with a 16-bit tag number and one with a 32-bit tag number.</span><a class="headerlink" href="#id182" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">E0</span><span class="p">:</span> <span class="mi">111</span> <span class="mi">00000</span>
<span class="n">C0</span><span class="p">:</span> <span class="mi">110</span> <span class="mi">00000</span>
</pre></div>
</div>
</section>
<section id="a-8-2-implicit-profile-tag-form">
<h5>A.8.2. Implicit Profile Tag Form<a class="headerlink" href="#a-8-2-implicit-profile-tag-form" title="此标题的永久链接">¶</a></h5>
<figure class="align-default">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/ZiYO7v.png" src="https://img.zhaoweiguo.com/uPic/2022/11/ZiYO7v.png" />
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">80</span><span class="p">:</span> <span class="mi">100</span> <span class="mi">00000</span>
<span class="n">A0</span><span class="p">:</span> <span class="mi">101</span> <span class="mi">00000</span>
</pre></div>
</div>
</section>
<section id="a-8-3-common-profile-tag-form">
<h5>A.8.3. Common Profile Tag Form<a class="headerlink" href="#a-8-3-common-profile-tag-form" title="此标题的永久链接">¶</a></h5>
<figure class="align-default">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/RxA6vy.png" src="https://img.zhaoweiguo.com/uPic/2022/11/RxA6vy.png" />
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">60</span><span class="p">:</span> <span class="mi">011</span> <span class="mi">00000</span>
<span class="mi">40</span><span class="p">:</span> <span class="mi">010</span> <span class="mi">00000</span>
</pre></div>
</div>
</section>
<section id="a-8-4-context-specific-tag-form">
<h5>A.8.4. Context-Specific Tag Form<a class="headerlink" href="#a-8-4-context-specific-tag-form" title="此标题的永久链接">¶</a></h5>
<figure class="align-default">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/vnL4pU.png" src="https://img.zhaoweiguo.com/uPic/2022/11/vnL4pU.png" />
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">20</span><span class="p">:</span> <span class="mi">001</span> <span class="mi">00000</span>
</pre></div>
</div>
</section>
<section id="a-8-5-anonymous-tag-form">
<h5>A.8.5. Anonymous Tag Form<a class="headerlink" href="#a-8-5-anonymous-tag-form" title="此标题的永久链接">¶</a></h5>
<figure class="align-default">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/NJNAt9.png" src="https://img.zhaoweiguo.com/uPic/2022/11/NJNAt9.png" />
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="p">:</span> <span class="mi">000</span> <span class="mi">00000</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="a-9-length-encoding">
<h3>A.9. Length Encoding<a class="headerlink" href="#a-9-length-encoding" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Length fields are encoded in 0, 1, 2, 4 or 8 octet widths, as specified by the element type field.</p></li>
<li><p>The choice of width for the length field is up to the discretion of the sender, implying that a sender can choose to send more length octets than strictly necessary to encode the value.</p></li>
</ul>
</section>
<section id="a-10-end-of-container-encoding">
<h3>A.10. End of Container Encoding<a class="headerlink" href="#a-10-end-of-container-encoding" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>The end of a container type is marked with a special element called the end-of-container element.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">18</span><span class="p">:</span> <span class="mi">000</span> <span class="mi">11000</span>
</pre></div>
</div>
</section>
<section id="a-11-value-encodings">
<h3>A.11. Value Encodings<a class="headerlink" href="#a-11-value-encodings" title="此标题的永久链接">¶</a></h3>
<section id="a-11-1-integers">
<h4>A.11.1. Integers<a class="headerlink" href="#a-11-1-integers" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id183">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/c2gNeA.png" src="https://img.zhaoweiguo.com/uPic/2022/11/c2gNeA.png" />
<figcaption>
<p><span class="caption-text">An integer element is encoded as follows</span><a class="headerlink" href="#id183" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="a-11-2-utf-8-and-octet-strings">
<h4>A.11.2. UTF-8 and Octet Strings<a class="headerlink" href="#a-11-2-utf-8-and-octet-strings" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id184">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/K8x2om.png" src="https://img.zhaoweiguo.com/uPic/2022/11/K8x2om.png" />
<figcaption>
<p><span class="caption-text">UTF-8 and octet strings are encoded as follows</span><a class="headerlink" href="#id184" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="a-11-3-booleans">
<h4>A.11.3. Booleans<a class="headerlink" href="#a-11-3-booleans" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id185">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/IV8Tci.png" src="https://img.zhaoweiguo.com/uPic/2022/11/IV8Tci.png" />
<figcaption>
<p><span class="caption-text">Boolean elements are encoded as follows</span><a class="headerlink" href="#id185" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="a-11-4-arrays-structures-and-lists">
<h4>A.11.4. Arrays, Structures and Lists<a class="headerlink" href="#a-11-4-arrays-structures-and-lists" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id186">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/ALCYpy.png" src="https://img.zhaoweiguo.com/uPic/2022/11/ALCYpy.png" />
<figcaption>
<p><span class="caption-text">Array, structure and list elements are encoded as follows</span><a class="headerlink" href="#id186" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="a-11-5-floating-point-numbers">
<h4>A.11.5. Floating Point Numbers<a class="headerlink" href="#a-11-5-floating-point-numbers" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id187">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/P1ZCwy.png" src="https://img.zhaoweiguo.com/uPic/2022/11/P1ZCwy.png" />
<figcaption>
<p><span class="caption-text">A floating point number is encoded as follows</span><a class="headerlink" href="#id187" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="a-11-6-nulls">
<h4>A.11.6. Nulls<a class="headerlink" href="#a-11-6-nulls" title="此标题的永久链接">¶</a></h4>
<figure class="align-default" id="id188">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/orFAR8.png" src="https://img.zhaoweiguo.com/uPic/2022/11/orFAR8.png" />
<figcaption>
<p><span class="caption-text">A Null value is encoded as follows</span><a class="headerlink" href="#id188" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="a-12-tlv-encoding-examples">
<h3>A.12. TLV Encoding Examples<a class="headerlink" href="#a-12-tlv-encoding-examples" title="此标题的永久链接">¶</a></h3>
<figure class="align-default" id="id189">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/eaWm81.png" src="https://img.zhaoweiguo.com/uPic/2022/11/eaWm81.png" />
<figcaption>
<p><span class="caption-text">Table 137. Sample encoding of primitive types</span><a class="headerlink" href="#id189" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id190">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/Rb1JKY.png" src="https://img.zhaoweiguo.com/uPic/2022/11/Rb1JKY.png" />
<figcaption>
<p><span class="caption-text">Table 138. Sample encoding of containers</span><a class="headerlink" href="#id190" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id191">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/u4afwE.png" src="https://img.zhaoweiguo.com/uPic/2022/11/u4afwE.png" />
<figcaption>
<p><span class="caption-text">Table 139. Sample encoding of different tag types</span><a class="headerlink" href="#id191" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="appendix-b-tag-length-value-tlv-schema-definitions">
<h2>Appendix B: Tag-length-value (TLV) Schema Definitions<a class="headerlink" href="#appendix-b-tag-length-value-tlv-schema-definitions" title="此标题的永久链接">¶</a></h2>
<section id="b-1-introduction">
<h3>B.1. Introduction<a class="headerlink" href="#b-1-introduction" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>A TLV Schema provides a simple textual description of the structure of data encoded in the Matter TLV format.</p></li>
</ul>
<p>B.1.1. Basic Structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span> <span class="n">Sensor</span> <span class="n">sample</span> <span class="n">structure</span> <span class="o">*/</span>
<span class="n">sensor</span><span class="o">-</span><span class="n">sample</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
<span class="p">{</span>
  <span class="n">timestamp</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
  <span class="n">value</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">FLOAT64</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>B.1.4. Namespaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">namespace</span> <span class="n">a</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">=&gt;</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="n">other</span><span class="o">-</span><span class="n">x</span> <span class="o">=&gt;</span> <span class="n">b</span><span class="o">.</span><span class="n">x</span>
<span class="p">}</span>
<span class="n">namespace</span> <span class="n">b</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">=&gt;</span> <span class="n">SIGNED</span> <span class="n">INTEGER</span>
<span class="p">}</span>
</pre></div>
</div>
<p>B.1.6. Tagging:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">certificate</span> <span class="p">[</span><span class="n">my</span><span class="o">-</span><span class="n">protocol</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
<span class="p">{</span>
    <span class="n">serial</span><span class="o">-</span><span class="n">num</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="b-2-definitions">
<h3>B.2. Definitions<a class="headerlink" href="#b-2-definitions" title="此标题的永久链接">¶</a></h3>
<section id="b-2-1-type-definition-type-def">
<h4>B.2.1. Type Definition (type-def)<a class="headerlink" href="#b-2-1-type-definition-type-def" title="此标题的永久链接">¶</a></h4>
<p>Type Definition Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  type-name [ qualifier ] =&gt; type-or-ref

  type-or-ref:
      `type`
      `type-ref`

  `type`:
    ANY
    ARRAY
    ARRAY OF
    BOOLEAN
    CHOICE OF
    FLOAT32
    FLOAT64
    LIST
    LIST OF
    NULL
    OCTET STRING
    SIGNED INTEGER
    STRING
    STRUCTURE
    UNSIGNED INTEGER

`type-ref`:
    type-name
    scoped-type-name

qualifier:
    tag
</pre></div>
</div>
</section>
<section id="b-2-2-field-group-definition-field-group-def">
<h4>B.2.2. FIELD GROUP Definition (field-group-def)<a class="headerlink" href="#b-2-2-field-group-definition-field-group-def" title="此标题的永久链接">¶</a></h4>
<p>FIELD GROUP Definition Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>field-group-name =&gt; FIELD GROUP { `field-group-members` }

`field-group-members`:
    `field-group-member`
    field-group-members, field-group-member

`field-group-member`:
    identifier [ `id-qualifier` ] : type-or-ref   // field definition
    includes field-group-name                   // field group include

`id-qualifier`:
    tag                                         // SHALL be present
    optional
</pre></div>
</div>
<p>FIELD GROUP Definition Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`common-sensor-sample-fields` =&gt; FIELD GROUP
{
  timestamp [1]          : UNSIGNED INTEGER [ range 32-bits ],
}

temperature-sensor-sample =&gt; STRUCTURE [tag-order]
{
  includes `common-sensor-sample-fields`,
  value [2]              : FLOAT64,
}

humidity-sensor-sample =&gt; STRUCTURE [tag-order]
{
  includes `common-sensor-sample-fields`,
  value [2]              : UNSIGNED INTEGER [ range 64-bits ],
}
</pre></div>
</div>
</section>
<section id="b-2-3-namespace-definition-namespace-def">
<h4>B.2.3. Namespace Definition (namespace-def)<a class="headerlink" href="#b-2-3-namespace-definition-namespace-def" title="此标题的永久链接">¶</a></h4>
<p>Namespace Definition Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>namespace `ns-name` { `ns-scoped-defs` }

`ns-name`:
    name
    scoped-name

`ns-scoped-defs`:
    `ns-scoped-def`
    ns-scoped-defs, ns-scoped-def

`ns-scoped-def`:
    `type-def`
    `field-group-def`
    `protocol-def`
    `namespace-def`
</pre></div>
</div>
<p>Namespace Definition Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">namespace</span> <span class="n">abc</span>
<span class="p">{</span>
  <span class="nb">property</span> <span class="o">=&gt;</span> <span class="n">FLOAT32</span> <span class="p">[</span> <span class="nb">range</span> <span class="mf">0..50</span> <span class="p">],</span>
  <span class="n">point</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
  <span class="p">{</span>
      <span class="n">day</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span><span class="p">,</span>
      <span class="n">prop</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="nb">property</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">namespace</span> <span class="n">matter</span><span class="o">.</span><span class="n">protocols</span><span class="o">.</span><span class="n">aaa</span>
<span class="p">{</span>
  <span class="n">config</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
  <span class="p">{</span>
      <span class="n">points</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">ARRAY</span> <span class="n">OF</span> <span class="n">abc</span><span class="o">.</span><span class="n">point</span><span class="p">,</span>
      <span class="o">...</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="b-2-4-protocol-definition-protocol-def">
<h4>B.2.4. PROTOCOL Definition (protocol-def)<a class="headerlink" href="#b-2-4-protocol-definition-protocol-def" title="此标题的永久链接">¶</a></h4>
<p>PROTOCOL Definition Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span> <span class="p">{</span> <span class="n">protocol</span><span class="o">-</span><span class="n">scoped</span><span class="o">-</span><span class="n">defs</span> <span class="p">}</span>

<span class="n">qualifier</span><span class="p">:</span>
    <span class="nb">id</span>

<span class="n">protocol</span><span class="o">-</span><span class="n">scoped</span><span class="o">-</span><span class="n">defs</span><span class="p">:</span>
  <span class="n">protocol</span><span class="o">-</span><span class="n">scoped</span><span class="o">-</span><span class="k">def</span>
<span class="w">  </span><span class="nf">protocol</span><span class="o">-</span><span class="n">scoped</span><span class="o">-</span><span class="n">defs</span><span class="p">,</span> <span class="n">protocol</span><span class="o">-</span><span class="n">scoped</span><span class="o">-</span><span class="k">def</span>

<span class="nf">protocol</span><span class="o">-</span><span class="n">scoped</span><span class="o">-</span><span class="n">def</span><span class="p">:</span>
  <span class="nb">type</span><span class="o">-</span><span class="k">def</span>
<span class="w">  </span><span class="nf">field</span><span class="o">-</span><span class="n">group</span><span class="o">-</span><span class="k">def</span>
<span class="w">  </span><span class="nf">namespace</span><span class="o">-</span><span class="k">def</span>
</pre></div>
</div>
<p>PROTOCOL Definition Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">namespace</span> <span class="n">some</span><span class="o">.</span><span class="n">names</span> <span class="p">{</span>
    <span class="n">my</span><span class="o">-</span><span class="n">protocol</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="n">VENDOR</span><span class="p">:</span><span class="mh">0x0008</span> <span class="p">]</span>
    <span class="p">{</span>
        <span class="n">laser</span><span class="o">-</span><span class="n">transducer</span><span class="o">-</span><span class="n">metadata</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
        <span class="p">{</span>
            <span class="n">serial</span><span class="o">-</span><span class="n">num</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
            <span class="o">...</span>
        <span class="p">},</span>
        <span class="n">optics</span><span class="o">-</span><span class="n">array</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">ARRAY</span> <span class="n">OF</span> <span class="n">optical</span><span class="o">-</span><span class="n">specification</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="b-2-5-vendor-definition-vendor-def">
<h4>B.2.5. VENDOR Definition (vendor-def)<a class="headerlink" href="#b-2-5-vendor-definition-vendor-def" title="此标题的永久链接">¶</a></h4>
<p>VENDOR Definition Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>name =&gt; VENDOR [ `qualifier` ]

`qualifier`:
    id
</pre></div>
</div>
</section>
</section>
<section id="b-3-types">
<h3>B.3. Types<a class="headerlink" href="#b-3-types" title="此标题的永久链接">¶</a></h3>
<section id="b-3-1-array-array-of">
<h4>B.3.1. ARRAY / ARRAY OF<a class="headerlink" href="#b-3-1-array-array-of" title="此标题的永久链接">¶</a></h4>
<p>ARRAY Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ARRAY</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span> <span class="n">OF</span> <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span>          <span class="o">//</span> <span class="n">uniform</span> <span class="n">array</span>
<span class="n">ARRAY</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span> <span class="p">{</span> <span class="nb">type</span><span class="o">-</span><span class="n">pattern</span> <span class="p">}</span>        <span class="o">//</span> <span class="n">pattern</span> <span class="n">array</span>
<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="n">length</span>
    <span class="n">nullable</span>

<span class="nb">type</span><span class="o">-</span><span class="n">pattern</span><span class="p">:</span>
   <span class="nb">type</span><span class="o">-</span><span class="n">pattern</span><span class="o">-</span><span class="n">item</span>
   <span class="nb">type</span><span class="o">-</span><span class="n">pattern</span><span class="p">,</span> <span class="nb">type</span><span class="o">-</span><span class="n">pattern</span><span class="o">-</span><span class="n">item</span>

<span class="nb">type</span><span class="o">-</span><span class="n">pattern</span><span class="o">-</span><span class="n">item</span><span class="p">:</span>
    <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span> <span class="n">quantifier</span>                  <span class="o">//</span> <span class="n">unnamed</span> <span class="n">item</span>
    <span class="n">identifier</span> <span class="p">:</span> <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span> <span class="n">quantifier</span>     <span class="o">//</span> <span class="n">named</span> <span class="n">item</span>

<span class="n">quantifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="o">*</span>
    <span class="o">+</span>
    <span class="p">{</span> <span class="n">count</span> <span class="p">}</span>
    <span class="p">{</span> <span class="nb">min</span><span class="o">..</span><span class="n">max</span> <span class="p">}</span>
    <span class="p">{</span> <span class="nb">min</span><span class="o">..</span> <span class="p">}</span>
</pre></div>
</div>
<p>ARRAY Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">supported</span><span class="o">-</span><span class="n">country</span><span class="o">-</span><span class="n">codes</span> <span class="o">=&gt;</span> <span class="n">ARRAY</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">0..10</span> <span class="p">]</span> <span class="n">OF</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mi">2</span> <span class="p">]</span>

<span class="n">weather</span><span class="o">-</span><span class="nb">tuple</span> <span class="o">=&gt;</span> <span class="n">ARRAY</span>
<span class="p">{</span>
  <span class="n">timestamp</span>             <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
  <span class="n">temperature</span>           <span class="p">:</span> <span class="n">FLOAT64</span><span class="p">,</span>
  <span class="n">relative</span><span class="o">-</span><span class="n">humidity</span>     <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mf">0..100</span> <span class="p">],</span>
  <span class="n">precipitation</span>         <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mf">0..100</span> <span class="p">],</span>
<span class="p">}</span>

<span class="n">named</span><span class="o">-</span><span class="n">vector</span> <span class="o">=&gt;</span> <span class="n">ARRAY</span>
<span class="p">{</span>
    <span class="n">name</span>      <span class="p">:</span> <span class="n">STRING</span><span class="p">,</span>
                <span class="n">FLOAT64</span> <span class="o">*</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="b-3-2-boolean">
<h4>B.3.2. BOOLEAN<a class="headerlink" href="#b-3-2-boolean" title="此标题的永久链接">¶</a></h4>
<p>BOOLEAN Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BOOLEAN</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span>

<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="n">nullable</span>
</pre></div>
</div>
<p>BOOLEAN Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pathlight</span><span class="o">-</span><span class="n">enabled</span> <span class="o">=&gt;</span> <span class="n">BOOLEAN</span>
</pre></div>
</div>
</section>
<section id="b-3-3-float32-float64">
<h4>B.3.3. FLOAT32 / FLOAT64<a class="headerlink" href="#b-3-3-float32-float64" title="此标题的永久链接">¶</a></h4>
<p>FLOAT Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FLOAT32</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span>
<span class="n">FLOAT64</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span>

<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
  <span class="nb">range</span>
  <span class="n">nullable</span>
</pre></div>
</div>
<p>FLOAT Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="o">-</span><span class="n">value</span> <span class="o">=&gt;</span> <span class="n">FLOAT32</span> <span class="p">[</span> <span class="nb">range</span> <span class="mf">0..50</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-3-4-signed-integer-unsigned-integer">
<h4>B.3.4. SIGNED INTEGER / UNSIGNED INTEGER<a class="headerlink" href="#b-3-4-signed-integer-unsigned-integer" title="此标题的永久链接">¶</a></h4>
<p>Integer Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span> <span class="p">{</span> <span class="n">enum</span> <span class="p">}</span>
<span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span> <span class="p">{</span> <span class="n">enum</span> <span class="p">}</span>

<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="nb">range</span>
    <span class="n">nullable</span>

<span class="n">enum</span><span class="p">:</span>
    <span class="n">identifier</span> <span class="o">=</span> <span class="nb">int</span><span class="o">-</span><span class="n">value</span>
</pre></div>
</div>
<p>Integer Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sensor</span><span class="o">-</span><span class="n">value</span> <span class="o">=&gt;</span> <span class="n">SIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="o">-</span><span class="mf">100..100</span> <span class="p">]</span>

<span class="n">counter</span> <span class="o">=&gt;</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-3-5-list-list-of">
<h4>B.3.5. LIST / LIST OF<a class="headerlink" href="#b-3-5-list-list-of" title="此标题的永久链接">¶</a></h4>
<p>LIST Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIST</span> <span class="p">[</span> <span class="nb">list</span><span class="o">-</span><span class="n">qualifier</span> <span class="p">]</span> <span class="n">OF</span> <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span>
<span class="n">LIST</span> <span class="p">[</span> <span class="nb">list</span><span class="o">-</span><span class="n">qualifier</span> <span class="p">]</span> <span class="p">{</span> <span class="nb">type</span><span class="o">-</span><span class="n">pattern</span> <span class="p">}</span>

<span class="nb">list</span><span class="o">-</span><span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
  <span class="n">length</span>
  <span class="n">nullable</span>

<span class="nb">type</span><span class="o">-</span><span class="n">pattern</span><span class="p">:</span>
  <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span> <span class="n">quantifier</span>                                <span class="o">//</span> <span class="n">unnamed</span> <span class="n">item</span>
  <span class="n">identifier</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span> <span class="p">:</span> <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span> <span class="n">quantifier</span>     <span class="o">//</span> <span class="n">named</span> <span class="n">item</span>

<span class="n">quantifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="o">*</span>
    <span class="o">+</span>
    <span class="p">{</span> <span class="n">count</span> <span class="p">}</span>
    <span class="p">{</span> <span class="nb">min</span><span class="o">..</span><span class="n">max</span> <span class="p">}</span>
    <span class="p">{</span> <span class="nb">min</span><span class="o">..</span> <span class="p">}</span>

<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="n">tag</span>
</pre></div>
</div>
</section>
<section id="b-3-6-octet-string">
<h4>B.3.6. OCTET STRING<a class="headerlink" href="#b-3-6-octet-string" title="此标题的永久链接">¶</a></h4>
<p>OCTET STRING Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span>

<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
  <span class="n">length</span>
  <span class="n">nullable</span>
</pre></div>
</div>
<p>OCTET STRING Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">OCTET</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mi">8</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-3-7-null">
<h4>B.3.7. NULL<a class="headerlink" href="#b-3-7-null" title="此标题的永久链接">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NULL</span>
</pre></div>
</div>
<p>NULL Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">serial</span><span class="o">-</span><span class="n">num</span> <span class="o">=&gt;</span> <span class="n">CHOICE</span> <span class="n">OF</span> <span class="p">{</span> <span class="n">STRING</span><span class="p">,</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span><span class="p">,</span> <span class="n">NULL</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="b-3-8-string">
<h4>B.3.8. STRING<a class="headerlink" href="#b-3-8-string" title="此标题的永久链接">¶</a></h4>
<p>STRING Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">STRING</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span>

<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
  <span class="n">length</span>
  <span class="n">nullable</span>
</pre></div>
</div>
<p>STRING Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="o">-</span><span class="n">field</span> <span class="o">=&gt;</span> <span class="n">STRING</span> <span class="p">[</span> <span class="n">length</span> <span class="mf">0..32</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-3-9-structure">
<h4>B.3.9. STRUCTURE<a class="headerlink" href="#b-3-9-structure" title="此标题的永久链接">¶</a></h4>
<p>STRUCTURE Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">structure</span><span class="o">-</span><span class="n">qualifier</span> <span class="p">]</span> <span class="p">{</span> <span class="n">structure</span><span class="o">-</span><span class="n">fields</span> <span class="p">}</span>

<span class="n">structure</span><span class="o">-</span><span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="n">extensible</span>
    <span class="n">order</span>
    <span class="n">nullable</span>

<span class="n">structure</span><span class="o">-</span><span class="n">fields</span><span class="p">:</span>
    <span class="n">structure</span><span class="o">-</span><span class="n">field</span>
    <span class="n">structure</span><span class="o">-</span><span class="n">fields</span><span class="p">,</span> <span class="n">structure</span><span class="o">-</span><span class="n">field</span>

<span class="n">structure</span><span class="o">-</span><span class="n">field</span><span class="p">:</span>
    <span class="n">identifier</span> <span class="p">[</span> <span class="nb">id</span><span class="o">-</span><span class="n">qualifier</span> <span class="p">]</span> <span class="p">:</span> <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span>
    <span class="n">includes</span> <span class="n">field</span><span class="o">-</span><span class="n">group</span><span class="o">-</span><span class="n">name</span>

<span class="nb">id</span><span class="o">-</span><span class="n">qualifier</span><span class="p">:</span>
    <span class="n">tag</span>
    <span class="n">optional</span>
</pre></div>
</div>
<p>STRUCTURE with CHOICE OF Field Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">-</span><span class="n">information</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">extensible</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">user</span><span class="o">-</span><span class="nb">id</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">CHOICE</span> <span class="n">OF</span>
    <span class="p">{</span>
      <span class="n">UNSIGNED</span> <span class="n">INTEGER</span><span class="p">,</span>
      <span class="n">STRING</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>STRUCTURE with CHOICE OF Field with Default Tag Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">-</span><span class="n">information</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">extensible</span> <span class="p">]</span>
<span class="p">{</span>
    <span class="n">user</span><span class="o">-</span><span class="nb">id</span> <span class="p">:</span> <span class="n">CHOICE</span> <span class="n">OF</span>
    <span class="p">{</span>
      <span class="nb">id</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span><span class="p">,</span>
      <span class="n">name</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">STRING</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="b-4-pseudo-types">
<h3>B.4. Pseudo-Types<a class="headerlink" href="#b-4-pseudo-types" title="此标题的永久链接">¶</a></h3>
<section id="b-4-1-any">
<h4>B.4.1. ANY<a class="headerlink" href="#b-4-1-any" title="此标题的永久链接">¶</a></h4>
<p>ANY Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ANY</span>
</pre></div>
</div>
<p>ANY Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">-</span><span class="n">defined</span><span class="o">-</span><span class="n">metadata</span> <span class="o">=&gt;</span> <span class="n">ANY</span>
</pre></div>
</div>
</section>
<section id="b-4-2-choice-of">
<h4>B.4.2. CHOICE OF<a class="headerlink" href="#b-4-2-choice-of" title="此标题的永久链接">¶</a></h4>
<p>CHOICE OF Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CHOICE</span> <span class="p">[</span> <span class="n">qualifier</span> <span class="p">]</span> <span class="n">OF</span> <span class="p">{</span> <span class="n">alternates</span> <span class="p">}</span>

<span class="n">qualifier</span> <span class="p">(</span><span class="n">optional</span><span class="p">):</span>
    <span class="n">nullable</span>

<span class="n">alternates</span><span class="p">:</span>
    <span class="n">alternate</span>
    <span class="n">alternates</span><span class="p">,</span> <span class="n">alternate</span>

<span class="n">alternate</span><span class="p">:</span>
    <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span>
    <span class="n">identifier</span> <span class="p">[</span> <span class="nb">id</span><span class="o">-</span><span class="n">qualifier</span> <span class="p">]</span> <span class="p">:</span> <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span>

<span class="nb">id</span><span class="o">-</span><span class="n">qualifier</span><span class="p">:</span>
    <span class="n">tag</span>
</pre></div>
</div>
<p>CHOICE OF <code class="docutils literal notranslate"><span class="pre">Invalid</span></code> Alternates Merge Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CHOICE</span> <span class="n">OF</span> <span class="p">{</span>
    <span class="n">CHOICE</span> <span class="n">OF</span> <span class="p">{</span>
        <span class="n">foo</span><span class="p">:</span> <span class="n">STRING</span><span class="p">,</span>
        <span class="n">bar</span><span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span>
    <span class="p">},</span>

    <span class="n">CHOICE</span> <span class="n">OF</span> <span class="p">{</span>
        <span class="n">foo</span><span class="p">:</span> <span class="n">BOOLEAN</span><span class="p">,</span>
        <span class="n">bar</span><span class="p">:</span> <span class="n">FLOAT64</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>CHOICE OF <code class="docutils literal notranslate"><span class="pre">Valid</span></code> Alternates Merge Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CHOICE</span> <span class="n">OF</span> <span class="p">{</span>
    <span class="n">alt1</span><span class="p">:</span> <span class="n">CHOICE</span> <span class="n">OF</span> <span class="p">{</span>
        <span class="n">foo</span><span class="p">:</span> <span class="n">STRING</span><span class="p">,</span>
        <span class="n">bar</span><span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span>
    <span class="p">},</span>

    <span class="n">alt2</span><span class="p">:</span> <span class="n">CHOICE</span> <span class="n">OF</span> <span class="p">{</span>
        <span class="n">foo</span><span class="p">:</span> <span class="n">BOOLEAN</span><span class="p">,</span>
        <span class="n">bar</span><span class="p">:</span> <span class="n">FLOAT64</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="b-5-qualifiers">
<h3>B.5. Qualifiers<a class="headerlink" href="#b-5-qualifiers" title="此标题的永久链接">¶</a></h3>
<ul class="simple">
<li><p>Qualifiers are annotations that provide additional information regarding the use or interpretation of a schema construct.</p></li>
</ul>
<section id="b-5-1-any-order-schema-order-tag-order">
<h4>B.5.1. any-order / schema-order / tag-order<a class="headerlink" href="#b-5-1-any-order-schema-order-tag-order" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The any-order, schema-order and tag-order qualifiers MAY be used to specify a particular order for the encoding of fields within a STRUCTURE.</p></li>
</ul>
<p>Order Qualifiers Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">STRUCTURE</span> <span class="p">[</span> <span class="nb">any</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">schema</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
<span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">order</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-5-2-extensible">
<h4>B.5.2. extensible<a class="headerlink" href="#b-5-2-extensible" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The extensible qualifier is only allowed on STRUCTURE types, and declares that the structure MAY be extended by the inclusion of fields not listed in its definition.</p></li>
<li><p>When a structure is extended in this way, any new fields that are included SHALL use tags that are distinct from any of those associated with defined or included fields.</p></li>
</ul>
<p>extensible Qualifier Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">extensible</span> <span class="p">]</span>
</pre></div>
</div>
<p>extensible Qualifier Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">-</span><span class="n">information</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span> <span class="p">[</span> <span class="n">extensible</span> <span class="p">]</span>
<span class="p">{</span>
  <span class="n">user</span><span class="o">-</span><span class="nb">id</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>           <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span><span class="p">,</span>
  <span class="n">first</span><span class="o">-</span><span class="n">name</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>        <span class="p">:</span> <span class="n">STRING</span><span class="p">,</span>
  <span class="n">last</span><span class="o">-</span><span class="n">name</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>         <span class="p">:</span> <span class="n">STRING</span><span class="p">,</span>
  <span class="n">email</span><span class="o">-</span><span class="n">address</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>     <span class="p">:</span> <span class="n">STRING</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="b-5-3-id">
<h4>B.5.3. id<a class="headerlink" href="#b-5-3-id" title="此标题的永久链接">¶</a></h4>
<p>id Qualifier Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vendor</span><span class="o">-</span><span class="n">name</span> <span class="o">=&gt;</span> <span class="n">VENDOR</span> <span class="p">[</span> <span class="nb">id</span> <span class="n">uint</span><span class="o">-</span><span class="n">value</span> <span class="p">]</span>
<span class="n">protocol</span><span class="o">-</span><span class="n">name</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="nb">id</span> <span class="n">uint</span><span class="o">-</span><span class="n">value</span> <span class="p">]</span>
<span class="n">protocol</span><span class="o">-</span><span class="n">name</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="nb">id</span> <span class="n">uint</span><span class="o">-</span><span class="n">value</span><span class="p">:</span><span class="n">uint</span><span class="o">-</span><span class="n">value</span> <span class="p">]</span>
<span class="n">protocol</span><span class="o">-</span><span class="n">name</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="nb">id</span> <span class="n">vendor</span><span class="o">-</span><span class="n">name</span><span class="p">:</span><span class="n">uint</span><span class="o">-</span><span class="n">value</span> <span class="p">]</span>
</pre></div>
</div>
<p>id Qualifier Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MATTER</span><span class="o">-</span><span class="n">VENDOR</span><span class="o">-</span><span class="n">AB</span> <span class="o">=&gt;</span> <span class="n">VENDOR</span> <span class="p">[</span> <span class="mh">0x00AB</span> <span class="p">]</span>

<span class="o">//</span> <span class="n">Equivalent</span> <span class="n">definitions</span> <span class="n">of</span> <span class="n">the</span> <span class="n">protocol</span> <span class="n">introduced</span> <span class="n">by</span> <span class="n">MATTER</span><span class="o">-</span><span class="n">VENDOR</span><span class="o">-</span><span class="n">AB</span>
<span class="n">vendor</span><span class="o">-</span><span class="n">ab</span><span class="o">-</span><span class="n">prot8</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="mh">0x00AB0008</span> <span class="p">]</span>
<span class="n">vendor</span><span class="o">-</span><span class="n">ab</span><span class="o">-</span><span class="n">prot8</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="mh">0x00AB</span><span class="p">:</span><span class="mh">0x0008</span> <span class="p">]</span>
<span class="n">vendor</span><span class="o">-</span><span class="n">ab</span><span class="o">-</span><span class="n">prot8</span> <span class="o">=&gt;</span> <span class="n">PROTOCOL</span> <span class="p">[</span> <span class="n">MATTER</span><span class="o">-</span><span class="n">VENDOR</span><span class="o">-</span><span class="n">AB</span><span class="p">:</span><span class="mi">8</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-5-4-length">
<h4>B.5.4. length<a class="headerlink" href="#b-5-4-length" title="此标题的永久链接">¶</a></h4>
<p>length Qualifier Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span> <span class="p">[</span> <span class="n">length</span> <span class="n">count</span> <span class="p">]</span>           <span class="o">//</span> <span class="n">exactly</span> <span class="n">count</span>
<span class="nb">type</span> <span class="p">[</span> <span class="n">length</span> <span class="nb">min</span><span class="o">..</span><span class="n">max</span> <span class="p">]</span>        <span class="o">//</span> <span class="n">between</span> <span class="nb">min</span> <span class="ow">and</span> <span class="nb">max</span> <span class="p">(</span><span class="n">inclusive</span><span class="p">)</span>
<span class="nb">type</span> <span class="p">[</span> <span class="n">length</span> <span class="nb">min</span><span class="o">..</span> <span class="p">]</span>           <span class="o">//</span> <span class="n">at</span> <span class="n">least</span> <span class="nb">min</span>
</pre></div>
</div>
</section>
<section id="b-5-5-nullable">
<h4>B.5.5. nullable<a class="headerlink" href="#b-5-5-nullable" title="此标题的永久链接">¶</a></h4>
<p>nullable Qualifier Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span> <span class="p">[</span> <span class="n">nullable</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-5-6-optional">
<h4>B.5.6. optional<a class="headerlink" href="#b-5-6-optional" title="此标题的永久链接">¶</a></h4>
<p>optional Qualifier Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">field</span><span class="o">-</span><span class="n">name</span> <span class="p">[</span> <span class="n">optional</span> <span class="p">]</span> <span class="p">:</span> <span class="nb">type</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">ref</span><span class="p">,</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="b-5-7-range">
<h4>B.5.7. range<a class="headerlink" href="#b-5-7-range" title="此标题的永久链接">¶</a></h4>
<p>range Qualifier Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">integer</span><span class="o">-</span><span class="nb">type</span> <span class="p">[</span> <span class="nb">range</span> <span class="nb">min</span><span class="o">..</span><span class="n">max</span> <span class="p">]</span>
<span class="n">integer</span><span class="o">-</span><span class="nb">type</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">8</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
<span class="n">integer</span><span class="o">-</span><span class="nb">type</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
<span class="n">integer</span><span class="o">-</span><span class="nb">type</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
<span class="n">integer</span><span class="o">-</span><span class="nb">type</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">64</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-5-8-tag">
<h4>B.5.8. tag<a class="headerlink" href="#b-5-8-tag" title="此标题的永久链接">¶</a></h4>
<ul class="simple">
<li><p>The tag qualifier is allowed on type names, field names within a STRUCTURE (STRUCTURE Fields) or FIELD GROUP, item names within a LIST (LIST Item Tags), alternate names within a CHOICE OF (CHOICE OF Fields).</p></li>
</ul>
<p>tag Qualifier Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">identifier</span> <span class="p">[</span> <span class="n">tag</span><span class="o">-</span><span class="n">num</span> <span class="p">]</span>
<span class="n">identifier</span> <span class="p">[</span> <span class="n">protocol</span><span class="o">-</span><span class="nb">id</span><span class="p">:</span><span class="n">tag</span><span class="o">-</span><span class="n">num</span> <span class="p">]</span>
<span class="n">identifier</span> <span class="p">[</span> <span class="n">protocol</span><span class="o">-</span><span class="n">name</span><span class="p">:</span><span class="n">tag</span><span class="o">-</span><span class="n">num</span> <span class="p">]</span>
<span class="n">identifier</span> <span class="p">[</span> <span class="o">*</span><span class="p">:</span><span class="n">tag</span><span class="o">-</span><span class="n">num</span> <span class="p">]</span>
<span class="n">identifier</span> <span class="p">[</span> <span class="n">anonymous</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="b-5-9-documentation-and-comments">
<h4>B.5.9. Documentation and Comments<a class="headerlink" href="#b-5-9-documentation-and-comments" title="此标题的永久链接">¶</a></h4>
<p>Documentation and Comments Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span> <span class="n">Sensor</span> <span class="n">sample</span> <span class="n">structure</span> <span class="o">*/</span>
<span class="n">sensor</span><span class="o">-</span><span class="n">sample</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
<span class="p">{</span>
  <span class="n">timestamp</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span><span class="p">,</span>
  <span class="n">value</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">FLOAT64</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="appendix-c-tag-length-value-tlv-payload-text-representation-format">
<h2>Appendix C: Tag-length-value (TLV) Payload Text Representation Format<a class="headerlink" href="#appendix-c-tag-length-value-tlv-payload-text-representation-format" title="此标题的永久链接">¶</a></h2>
<section id="c-1-introduction">
<h3>C.1. Introduction<a class="headerlink" href="#c-1-introduction" title="此标题的永久链接">¶</a></h3>
<p>This section describes a means by which to depict TLV payloads in a more user-friendly, textual representation.</p>
</section>
<section id="c-3-examples">
<h3>C.3. Examples<a class="headerlink" href="#c-3-examples" title="此标题的永久链接">¶</a></h3>
<p>C.3.1. TLV Schema:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="o">-</span><span class="n">sample</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
<span class="p">{</span>
  <span class="n">timestamp</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>   <span class="p">:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">32</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
  <span class="n">temperature</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">FLOAT64</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">accel</span><span class="o">-</span><span class="n">sample</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
<span class="p">{</span>
  <span class="n">x</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">SIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
  <span class="n">y</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">SIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
  <span class="n">z</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="n">SIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">16</span><span class="o">-</span><span class="n">bits</span> <span class="p">]</span>
<span class="p">}</span>

<span class="n">temp</span><span class="o">-</span><span class="n">features</span><span class="o">-</span><span class="n">enum</span> <span class="o">=&gt;</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mf">0.</span><span class="o">.</span><span class="mf">.3</span> <span class="p">]</span>
<span class="p">{</span>
  <span class="n">HAS_TEMP_COMPENSATION</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">SUPPORTS_THRESHOLD_TRIGGERS</span> <span class="o">=</span> <span class="mi">2</span>
<span class="p">}</span>

<span class="n">accel</span><span class="o">-</span><span class="n">features</span><span class="o">-</span><span class="n">enum</span> <span class="o">=&gt;</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mf">0.</span><span class="o">.</span><span class="mf">.3</span> <span class="p">]</span>
<span class="p">{</span>
  <span class="n">SUPPORTS_HIGH_SAMPLING</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">SUPPORTS_THRESHOLD_TRIGGERS</span> <span class="o">=</span> <span class="mi">2</span>
<span class="p">}</span>

<span class="n">sensor</span><span class="o">-</span><span class="n">state</span> <span class="o">=&gt;</span> <span class="n">STRUCTURE</span>
<span class="p">{</span>
  <span class="n">temperature</span><span class="o">-</span><span class="n">samples</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">ARRAY</span> <span class="n">OF</span> <span class="n">temperature</span><span class="o">-</span><span class="n">sample</span><span class="p">,</span>
  <span class="n">accel</span><span class="o">-</span><span class="n">samples</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="n">ARRAY</span> <span class="n">OF</span> <span class="n">accel</span><span class="o">-</span><span class="n">sample</span><span class="p">,</span>
  <span class="n">manufacturer</span><span class="o">-</span><span class="n">name</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">STRING</span><span class="p">,</span>
  <span class="o">//</span> <span class="n">List</span> <span class="n">of</span> <span class="n">lists</span><span class="o">.</span> <span class="n">If</span> <span class="n">present</span><span class="p">,</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">of</span> <span class="n">the</span> <span class="n">feature</span> <span class="n">lists</span> <span class="n">will</span> <span class="n">be</span> <span class="n">present</span><span class="o">.</span>
  <span class="n">feature</span><span class="o">-</span><span class="nb">map</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="n">optional</span><span class="p">]</span> <span class="p">:</span> <span class="n">LIST</span> <span class="p">{</span>
        <span class="n">temp</span><span class="o">-</span><span class="n">features</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">ARRAY</span> <span class="n">OF</span> <span class="n">temp</span><span class="o">-</span><span class="n">features</span><span class="o">-</span><span class="n">enum</span><span class="p">,</span>
        <span class="n">accel</span><span class="o">-</span><span class="n">features</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">ARRAY</span> <span class="n">OF</span> <span class="n">accel</span><span class="o">-</span><span class="n">features</span><span class="o">-</span><span class="n">enum</span>
  <span class="p">},</span>
  <span class="n">supports</span><span class="o">-</span><span class="n">idle</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="p">:</span> <span class="n">BOOLEAN</span><span class="p">,</span>
  <span class="n">num</span><span class="o">-</span><span class="n">power</span><span class="o">-</span><span class="n">modes</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">UNSIGNED</span> <span class="n">INTEGER</span> <span class="p">[</span> <span class="nb">range</span> <span class="mi">8</span><span class="o">-</span><span class="n">bits</span> <span class="p">],</span>
  <span class="n">supported</span><span class="o">-</span><span class="n">extensions</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="p">:</span> <span class="n">LIST</span> <span class="n">OF</span> <span class="n">STRING</span>
<span class="p">}</span>
</pre></div>
</div>
<p>C.3.2. TLV Payloads:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">temperature</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">example</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">timestamp</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2023423</span><span class="n">U</span><span class="p">,</span>
    <span class="n">temperature</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">72.0</span>
<span class="p">}</span>

<span class="n">accelerometer</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">example</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">x</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">y</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">z</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="p">}</span>

<span class="n">sensor</span><span class="o">-</span><span class="n">state</span><span class="o">-</span><span class="n">example</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="n">temperature</span><span class="o">-</span><span class="n">samples</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span>
    <span class="p">[</span>
        <span class="p">{</span>
            <span class="n">timestamp</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2023423</span><span class="n">U</span><span class="p">,</span>
            <span class="n">temperature</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">72.0</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="n">temperature</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">69.2</span>
        <span class="p">},</span>
    <span class="p">],</span>

    <span class="n">accel</span><span class="o">-</span><span class="n">samples</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span>
    <span class="p">[</span>
        <span class="p">{</span>
            <span class="n">x</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
            <span class="n">y</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
            <span class="n">z</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="n">x</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">y</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
            <span class="n">z</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">],</span>

    <span class="n">manufacturer</span><span class="o">-</span><span class="n">name</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;SmartSensors Ltd&quot;</span><span class="p">,</span>

    <span class="n">feature</span><span class="o">-</span><span class="nb">map</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span>
    <span class="p">[[</span>
        <span class="n">temp</span><span class="o">-</span><span class="n">features</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span>
        <span class="p">[</span>
            <span class="n">HAS_TEMP_COMPENSATION</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">SUPPORTS_THRESHOLD_TRIGGERS</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="n">accel</span><span class="o">-</span><span class="n">features</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span>
        <span class="p">[</span>
            <span class="n">SUPPORTS_THRESHOLD_TRIGGERS</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">]],</span>

    <span class="n">supports</span><span class="o">-</span><span class="n">idle</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="n">false</span><span class="p">,</span>

    <span class="n">num</span><span class="o">-</span><span class="n">power</span><span class="o">-</span><span class="n">modes</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span><span class="n">U</span><span class="p">,</span>

    <span class="n">supported</span><span class="o">-</span><span class="n">extensions</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">=</span>
    <span class="p">[[</span>
        <span class="n">SMARTSENSORS</span><span class="p">::</span><span class="n">SensingProtocol</span><span class="p">:</span><span class="n">Extension</span> <span class="p">(</span><span class="mh">0x00ef</span><span class="p">::</span><span class="mh">0x00aa</span><span class="p">:</span><span class="mh">0x01</span><span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;SUPPORTS_SMART_AVERAGING&quot;</span>
    <span class="p">]]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="appendix-d-status-report-messages">
<h2>Appendix D: Status Report Messages<a class="headerlink" href="#appendix-d-status-report-messages" title="此标题的永久链接">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">StatusReport</span></code> is a core message that encapsulates the result of an operation which a responder sends as a reply for requests sent from an initiator, using a common message of the Secure Channel Protocol (Protocol ID = <code class="docutils literal notranslate"><span class="pre">PROTOCOL_ID_SECURE_CHANNEL</span></code>).</p>
<section id="d-3-message-format">
<h3>D.3. Message Format<a class="headerlink" href="#d-3-message-format" title="此标题的永久链接">¶</a></h3>
<figure class="align-default">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/j0DkES.png" src="https://img.zhaoweiguo.com/uPic/2022/11/j0DkES.png" />
</figure>
<figure class="align-default" id="id192">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/3rPwac.png" src="https://img.zhaoweiguo.com/uPic/2022/11/3rPwac.png" />
<figcaption>
<p><span class="caption-text">general status codes are defined</span><a class="headerlink" href="#id192" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
<p>Example: No ProtocolData present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusReport</span><span class="p">(</span>
    <span class="n">GeneralCode</span><span class="p">:</span> <span class="n">FAILURE</span><span class="p">,</span>
    <span class="n">ProtocolId</span><span class="p">:</span> <span class="n">BDX</span><span class="p">,</span>
    <span class="n">ProtocolCode</span><span class="p">:</span> <span class="n">START_OFFSET_NOT_SUPPORTED</span>
<span class="p">)</span>
<span class="o">=&gt;</span> <span class="n">Encodes</span> <span class="k">as</span><span class="p">:</span>
    <span class="mi">01</span> <span class="mi">00</span> <span class="mi">02</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">52</span> <span class="mi">00</span>

<span class="n">StatusReport</span><span class="p">(</span>
    <span class="n">GeneralCode</span><span class="p">:</span> <span class="n">SUCCESS</span><span class="p">,</span>
    <span class="n">ProtocolId</span><span class="p">:</span> <span class="p">{</span><span class="n">VendorID</span><span class="o">=</span><span class="mh">0xFFF1</span><span class="p">,</span> <span class="n">ProtocolId</span><span class="o">=</span><span class="mh">0xAABB</span><span class="p">},</span>
    <span class="n">ProtocolCode</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">)</span>
<span class="o">=&gt;</span> <span class="n">Encodes</span> <span class="k">as</span><span class="p">:</span>
    <span class="mi">00</span> <span class="mi">00</span> <span class="n">BB</span> <span class="n">AA</span> <span class="n">F1</span> <span class="n">FF</span> <span class="mi">00</span> <span class="mi">00</span>
</pre></div>
</div>
<p>Example: Additional ProtocolData present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusReport</span><span class="p">(</span>
    <span class="n">GeneralCode</span><span class="p">:</span> <span class="n">FAILURE</span><span class="p">,</span>
    <span class="n">ProtocolId</span><span class="p">:</span> <span class="p">{</span><span class="n">VendorID</span><span class="o">=</span><span class="mh">0xFFF1</span><span class="p">,</span> <span class="n">ProtocolId</span><span class="o">=</span><span class="mh">0xAABB</span><span class="p">},</span>
    <span class="n">ProtocolCode</span><span class="p">:</span> <span class="mi">9921</span><span class="p">,</span>
    <span class="n">ProtocolData</span><span class="p">:</span> <span class="p">[</span><span class="mh">0x55</span><span class="p">,</span> <span class="mh">0x66</span><span class="p">,</span> <span class="mh">0xEE</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">]</span>
<span class="p">)</span>
<span class="o">=&gt;</span> <span class="n">Encodes</span> <span class="k">as</span><span class="p">:</span> <span class="mi">01</span> <span class="mi">00</span> <span class="n">BB</span> <span class="n">AA</span> <span class="n">F1</span> <span class="n">FF</span> <span class="n">C1</span> <span class="mi">26</span> <span class="mi">55</span> <span class="mi">66</span> <span class="n">EE</span> <span class="n">FF</span>
</pre></div>
</div>
</section>
</section>
<section id="appendix-e-matter-specific-asn-1-object-identifiers-oids">
<h2>Appendix E: Matter-Specific ASN.1 Object Identifiers (OIDs)<a class="headerlink" href="#appendix-e-matter-specific-asn-1-object-identifiers-oids" title="此标题的永久链接">¶</a></h2>
<p>Matter defines custom ASN.1 OID values, which are listed in the table below under the 1.3.6.1.4.1.37244 private arc. These OID values are assigned by the Connectivity Standards Alliance for use with Matter.</p>
<figure class="align-default" id="id193">
<img alt="https://img.zhaoweiguo.com/uPic/2022/11/7c5FJt.png" src="https://img.zhaoweiguo.com/uPic/2022/11/7c5FJt.png" />
<figcaption>
<p><span class="caption-text">Table 140. ASN.1 Matter-Specific Object Identifiers</span><a class="headerlink" href="#id193" title="此图像的永久链接">¶</a></p>
</figcaption>
</figure>
</section>
<section id="appendix-f-cryptographic-test-vectors-for-some-procedures">
<h2>Appendix F: Cryptographic test vectors for some procedures<a class="headerlink" href="#appendix-f-cryptographic-test-vectors-for-some-procedures" title="此标题的永久链接">¶</a></h2>
<p>This subsection contains worked examples of encoding a Certification Declaration, which is conveyed by the Attestation Information payload during the Device Attestation Procedure.</p>
</section>
<section id="appendix-g-minimal-resource-requirements">
<h2>Appendix G: Minimal Resource Requirements<a class="headerlink" href="#appendix-g-minimal-resource-requirements" title="此标题的永久链接">¶</a></h2>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="/index.html">主页</a></p></td>
<td><p><a class="reference internal" href="../genindex.html"><span class="std std-ref">索引</span></a></p></td>
<td><p><a class="reference internal" href="../py-modindex.html"><span class="std std-ref">模块索引</span></a></p></td>
<td><p><a class="reference internal" href="../search.html"><span class="std std-ref">搜索页面</span></a></p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Matter%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90.html" class="btn btn-neutral float-right" title="Matter协议分析" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../matter.html" class="btn btn-neutral" title="Matter 协议" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  <div id="gitalk-container"></div>
  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2025, 新溪-gordon.

    </p>
  </div>
  <div>备案号 <a href="http://www.beian.miit.gov.cn">京ICP备16018553号</a></div><div>Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a></div>. 


</footer>

<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?042289284b8eb33866001347a3e0b129";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>     
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'V2025.09',
            LANGUAGE:'zh-CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
      <script type="text/javascript" src="../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../_static/copybutton.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });


      // var gitalk = new Gitalk({
      //         clientID: '565177626b5d46427009',
      //         clientSecret: 'b2a36e67e1d2a73e43667f46d571c2624f8e1026',
      //         repo: 'knowledge',
      //         owner: 'zhaoweiguo',
      //         admin: ['zhaoweiguo'],
      //         id: location.pathname,      // Ensure uniqueness and length less than 50
      //         distractionFreeMode: false  // Facebook-like distraction free mode
      //       })
      // gitalk.render('gitalk-container')

  </script>


<script type="text/javascript" src="../_static/js/table-of-contents-sidebar.js"></script>
<!-- <script type="text/javascript" src="https://table-of-contents-sidebar.github.io/table-of-contents-sidebar-lib/table-of-contents-sidebar.js"></script> -->
<script type="text/javascript">
    window.onload = function(e){
        TableOfContents.init({
            basePath: "https://table-of-contents-sidebar.github.io/table-of-contents-sidebar-lib/",
            querySelector: "body" // or other css querySelector
        });
    }
</script> 

</body>
</html>