# 2506.22815_Memory as a Service (MaaS): Rethinking Contextual Memory as Service-Oriented Modules for Collaborative Agents

* 首页: <https://arxiv.org/abs/2506.22815>
* PDF: <https://arxiv.org/pdf/2506.22815>



## Abstract



本立场文件旨在重新思考基于大语言模型（LLM）的智能体系统中**记忆（memory）**的角色与设计。作者观察到，虽然当前的记忆实践已开始突破单次交互的限制，但在设计概念上仍停留在“**绑定记忆**（bound memory）”的范畴——即记忆被视为与特定上下文或实体相关的局部状态，从而形成“记忆孤岛”，阻碍了跨实体协作。

为了解决这一架构瓶颈，本文提出了一种**及时的设计理念**——“**记忆即服务**（Memory as a Service, MaaS）”。MaaS 的核心思想是将记忆从传统上作为交互副产品的角色中解耦，封装为一种**模块化、可独立调用、动态组合、精细管理的服务**。MaaS 利用了记忆的双重性——其本质上是私有的，但也具有成为公共服务的潜力，从而在实体之间实现**可控、按需的互操作性**。

本文进一步提出了一个由**实体结构**与**服务类型**构成的**二维设计空间**，展示了 MaaS 如何与当前的记忆实践相契合，并自然地拓展到跨实体协作的场景中。

最后，作者概述了一个开放的研究议程，涵盖了**治理、安全与伦理生态系统**等方向，并呼吁更广泛的研究社区共同探索这一面向服务的记忆架构，以支持跨越实体边界的协作型智能体的演进。


## 1 Introduction

本节介绍了大语言模型（LLM）在快速发展背景下，LLM代理（agent）正从“工具”转向“协同伙伴”的趋势。为实现持续、深入的合作关系，**强大的记忆能力是关键支撑**。然而，当前主流的设计（如聊天助手中的跨会话记忆、Model Context Protocol（MCP））普遍存在一个基础假设：**记忆是一个绑定于单一实体的本地状态**。这一假设导致了大量“记忆孤岛”，阻碍了个体、代理和群体之间的协作。即使是最新的跨实体共享研究（如Collaborative Memory）也仅限于特定的协作环境，每次进入新的场景时仍需通过临时交流重新调整上下文。

本节重点指出，**当前架构困境的核心在于对上下文记忆的处理方式**。与参数化记忆（仅能通过预训练或后训练进行修改的知识）不同，**上下文记忆是一种动态、可操作的外部信息，直接与实体的经历相关**。在当前的“记忆孤岛”模式下，这类记忆无法高效地流通或共享，成为协作智能发展的障碍。

为解决这一问题，文章提出借鉴“数据即服务”（Data-as-a-Service，DaaS）模式，并提出**“记忆即服务”**（Memory-as-a-Service，MaaS）这一新的设计理念。MaaS将上下文记忆从其本地状态中解耦，封装为一个可独立调用、动态组合并精细管理的服务模块。**关键在于，MaaS利用了记忆的双重属性：尽管本质上是私有的，但在有权限控制的框架下，也可以满足跨实体的公共需求**。

本论文旨在完成以下三个目标：

1. **形式化MaaS视角**，并阐述其指导原则。
2. 构建一个**二维设计空间**，即**实体结构**（包括个体、跨个体和群体层级）和**服务类型**（注入型 vs. 交换型），以展示MaaS如何统一现有个体实践，并自然扩展到跨实体和群体层级的协作。
3. **提出一个开放的研究议程**，涵盖治理机制、安全原语和伦理生态系统。

综上所述，这些贡献呼吁学术界和工业界重新思考记忆——**不应将其视为孤立的产物，而应作为面向服务的基础，以支持未来协作智能的发展**。


## 2 Related Works

本节回顾了与“内存即服务”（Memory-as-a-Service, MaaS）范式相关的研究，重点分析了当前智能代理系统在**内存设计上的两个结构性限制**：**个体内存的隔离性**和**跨实体内存共享的临时性**。通过梳理既有研究，本节展示了当前研究正朝着**服务导向的内存模块**发展的趋势。

---

### 2.1 个体内部内存的持久性

早期的智能代理系统仅具备**单会话内存**，缺乏长期记忆能力。为了解决这一问题，现有的聊天助手（如OpenAI、Google、Anthropic等）引入了**集中式内存管理**，使得关键上下文能够在多个交互中被复用。但这种内存本质上仍然依附于**特定用户和封闭平台**，**不具备跨实体共享能力**。

随后，研究开始**将内存从代理中解耦**，实现**独立存储与管理**。例如：
- **MemGraph** 将内存结构化为可以检索的知识图谱；
- **MemoryBank** 通过**艾宾浩斯遗忘曲线**选择性地保留长期记忆；
- **MemGPT、A-MEM、Mem0** 等系统提出了**独立于会话或任务的“内存层”**概念；
- **Agent Workflow Memory** 等研究则专注于特定领域内的流程记忆复用。

更近期的研究强调了**单用户生态系统中的互操作性**。例如：
- **Model Context Protocol (MCP)** 及其衍生系统（如 OpenMemory、MemOS）支持**多个代理访问统一的长期内存**，形成较为完善的**持久性个体内部内存体系**。

尽管如此，现有系统仍存在**严格的实体边界限制**。当多个用户或代理需要协作时，系统在**安全、持久和上下文感知的内存共享**方面存在不足。部分研究（如 **Factored Agents、Second Me**）展示了**模块化内存解耦**和**数字孪生**的潜力，暗示了**将内存从本地约束中解放后其作为服务的潜力**。

---

### 2.2 跨实体内存共享

在**多实体协作系统**的设计中，内存共享也经历了从初步探索到更复杂机制的演变。

早期如 **AutoGen** 通过**多轮对话语义对齐**实现代理间的简单上下文协调，为后续研究奠定了基础。

随后，**Gao & Zhang（2024）** 提出了更直接的方法：将多个代理的**提示-回答对**存储在**共享内存池中**，使得代理可以直接读取和贡献到**公共内存空间**，从而提升协作效率。**Agent2Agent** 等协议进一步规范了代理间的**通信与内存共享机制**，用于特定任务的协作。

最近的 **Collaborative Memory** 研究在**多用户和多代理的模拟环境中**探索了协作式内存共享的可行性，揭示了其在**技术可实现性和行为复杂性**方面的问题。

然而，尽管共享内存机制有所进步，其**生命周期和访问权限仍局限于特定协作环境**，无法跨环境复用，也缺乏**细粒度的权限控制**。

---

### 总结

随着代理系统越来越多地嵌入现实世界中的人-代理网络，其内存系统必须具备：
- **持久性**
- **全球连续性**
- **跨实体交互能力**
- **细粒度访问控制**

这与**人类在特定情境下选择性分享记忆**的机制类似。为了解决现有瓶颈，论文提出将**上下文相关内存从其绑定状态中解耦**，重新设计为**服务导向的模块**。这不仅能为代理提供内部支持，更可作为**共享、模块化的基础设施**，支持**复杂且长期的跨实体协作**。


## 3 MaaS: A Service-Oriented Memory Perspective



本章节“3 MaaS: A Service-Oriented Memory Perspective”主要探讨了将记忆资源以“服务（Service）”形式构建的新型框架——MaaS（Memory as a Service）。该框架旨在解决当前记忆系统在协作智能体系统中的局限性，尤其是记忆的“本地状态”限制问题。以下是本章内容的总结：


本节从服务导向的视角出发，将记忆视为协作智能体系统中的服务资源。首先简要回顾了当前研究中提出的两类记忆：

1. **参数化记忆（Parametric Memory）**  
   - 嵌入在模型权重中，通常是静态的背景知识，不能通过交互动态更新。
   - 更像是一种长期知识存储，不随任务变化而改变。

2. **情境记忆（Contextual Memory）**  
   - 是外部信息（结构化或非结构化），直接与某一实体的经验相关联。
   - 当前的限制是其作为“本地状态”存在，缺乏灵活性和协作能力。

**核心目的**：探索一种路径，使情境记忆能够从“本地状态”中解脱出来，支持更灵活、动态的协作使用。

---

### 3.1 Core Principles: From Local State to Callable Service

本节提出MaaS的三大核心原则，旨在将记忆重构为独立管理的服务资源。

#### 1. 独立可寻址性（Independent Addressability）
- 每个记忆模块应具备可访问的地址端点，允许授权实体通过标准协议加载和调用它。
- **重点**：记忆不再是绑定在特定实体或上下文中的“本地状态”，而是可被远程调用的服务资源。

#### 2. 情境可组合性（Contextual Composability）
- 记忆模块应具有类似于微服务或乐高积木的特性，可根据服务情境动态组合，以支持更复杂、更灵活的协作任务。
- **重点**：支持模块化和灵活组合，是实现智能体协作的关键。

#### 3. 意图感知的可治理性（Intent-Aware Governability）
- 记忆服务的授权不仅要考虑“谁”可以访问，还要考虑“为什么”访问。
- **重点**：通过上下文学习与权限系统，实现动态、基于意图的访问控制，防止不当泄露。

---

### 3.2 The MaaS Architecture: Granting Public Service Capabilities to Private Memory

本节提出MaaS的架构设计，旨在平衡记忆的私密性与协作需求。

#### 1. 记忆的私密性（The Private Nature of Memory）
- MaaS承认并严格保护记忆的私密性。
- 每个记忆模块被视为一种主权资产，其所有权、控制和治理是不可分割的。
- **重点**：通过细粒度的上下文感知权限控制系统，确保记忆资产的私有属性不受侵害。

#### 2. 记忆的公共服务维度（The Public Service Dimension of Memory）
- 为满足多实体协作的需求，MaaS提出构建标准化的公共服务基础设施。
- 该基础设施的目标不是公开记忆内容，而是打破“记忆孤岛”，提供统一的通信协议和发现机制，使授权后的记忆模块可以在实体间流通共享。
- **重点**：类比城市道路系统，实现私有记忆在分布式智能体间的安全高效传输。

---

### 高层实现架构（High-Level Implementation）

为实现上述双重架构，MaaS提出三个核心组件：

1. **记忆容器（Memory Container）**  
   - 封装记忆数据及其访问策略元数据，将治理逻辑嵌入资产本身。
   - 确保记忆资产的私有性与自主性。

2. **记忆路由层（Memory Routing Layer）**  
   - 作为公共服务维度的智能层，根据语义或目标分析路由服务请求。
   - 类似于LLM工具选择机制，动态匹配最合适的记忆模块。

3. **细粒度权限控制机制（Fine-Grained Permission Control Mechanism）**  
   - 不仅验证请求者的容器级访问权限，还根据上下文、身份和权限动态决定模块内部内容的访问权限。

**总结**：MaaS架构并不在公共性和私密性之间做取舍，而是通过公共服务通道，赋能私有记忆资产的可控流通与共享。这一设计为构建一个既高效又可信的协作智能生态系统奠定了基础。


## 4 MaaS Design Space and Application Scenarios

以下是对论文章节 **“4 MaaS Design Space and Application Scenarios”** 的总结，尽量保留原文结构，并突出重点内容：

本节通过构建一个 **设计空间**（design space）来系统性地阐述 MaaS（Memory-as-a-Service）的含义。该设计空间由两个维度构成：**实体结构（Entity Structure）** 与 **服务类型（Service Type）**。  
- **实体结构** 根据协作范围分为三个层次：**内部实体（intra-entity）**、**跨实体（inter-entity）** 和 **群体级（group-level）**。  
- **服务类型** 则根据 **记忆流动的方向** 分为两类：**注入式服务（injective service）** 和 **交换式服务（exchange-based service）**：  
  - **注入式服务** 是指一个实体向另一个实体**单向提供**封装的记忆模块，通常受到**权限控制**。  
  - **交换式服务** 则是**多方向的动态协商机制**，多个实体之间可以**相互访问和协商记忆**。

本节分析始终围绕 MaaS 的核心双重性：**通过标准化公共通道打破“记忆孤岛”**，同时通过**动态权限机制保护私有数据**。为说明 MaaS 是对现有工作的自然推广与演进，分析从 **内部实体**（intra-entity）开始，逐步展示其在更复杂协作场景中的架构支持能力。

---

### 4.1 内部实体（Intra-Entity）

在 **单一用户拥有的多个代理**（agents）之间，MaaS 的主要目标是提供一个**统一且可治理的记忆服务层**。当前许多 AI 记忆系统（如对话助手的长期记忆机制）属于这一层级的早期探索，而 MaaS 提供了更**结构化和可扩展的架构视角**。

- **注入式服务** 的典型例子是用户为所有代理提供共享的“公共记忆池”，以实现跨会话和跨应用的记忆传递和一致性用户体验。
- **交换式服务** 则用于多个基于不同记忆模块的“人格代理”（persona-based agents）之间。MaaS 提供**共享协商通道**，同时确保每个记忆模块的**封装与保护**，从而支持更深度的自我反思。例如，用户可以与代表不同“自我”的代理进行对话，以获得多维度的自我理解。

尽管当前实现了跨场景的记忆共享，但**私有记忆的精细权限控制**仍属薄弱环节，需进一步发展。

---

### 4.2 跨实体（Inter-Entity）

MaaS 的真正潜力在**跨个体协作场景**中体现，其核心设计在于**安全高效地管理跨实体记忆流动**。

- **注入式服务** 的关键是：一个实体授权其记忆模块供另一实体使用。为实现此，基础设施需要提供**服务发现与订阅机制**。传输的并非原始数据，而是具有**限时、范围和可撤销性**的调用凭证。例如，专业分析师可将自身分析方法封装成模块并授权他人使用；甚至在“遗产记忆”场景中，已故者可授权其记忆构建“数字人格”，供亲友以新方式重温共同记忆。MaaS 要求**将权限策略嵌入“记忆容器”本身**，实现动态、可撤销的访问控制。

- **交换式服务** 则更复杂，涉及多方之间的记忆协商与共识达成。MaaS 需提供**临时的、中立的“可信执行环境”**，通过**“记忆路由层”**（Memory Routing Layer）代理多个代理之间的交互，而非直接访问他人记忆。**验证机制需动态且灵活**，仅授权部分记忆访问，以实现服务交付。

---

### 4.3 群体级（Group-Level）

在组织或社区层面，MaaS 的目标是成为**构建与演化集体知识库的关键基础设施**，并在个体成员之间实现有效互动。

- 对于**从群体实体向个体分发规范记忆**（如企业发布 IT 支持模块），MaaS 的核心设计是**将公共知识与私有经验分离**。公共模块通过“记忆路由层”进行统一管理和分发，而用户与公共模块互动时产生的新经验则被存储在**私有记忆容器**中。为此，MaaS 需支持**高效的订阅-更新机制**，确保所有成员能及时接收权威记忆的更新。

- 对于**个体向群体提供记忆**的场景（无论是注入式还是交换式服务），社区成员共同构建**动态演化的集体记忆**。MaaS 的设计重点是嵌入**社区治理协议**到“记忆路由层”，使其从数据通道转变为**治理规则的执行者**，负责**审核、合并和追踪贡献**。关键要求是**清晰区分并隔离公共与私有知识**，确保集体记忆的迭代仅使用授权贡献，同时保护用户隐私。

---

### 总结

通过构建以“实体结构”和“服务类型”为维度的设计空间，本节系统地展示了 MaaS 不是一个孤立概念，而是一个**统一的范式**，能够**包容现有实践**，并**自然地扩展到复杂协作场景**。MaaS 证明了通过**服务导向的记忆管理**，可以在**尊重记忆私密性**的前提下，**释放其协作价值**。然而，要将这一宏伟架构愿景转化为**安全、可信、繁荣的生态系统**，仍需社区共同解决一系列深刻的技术与治理挑战。


## 5 Open Research Agenda

MaaS（Memory as a Service）范式不仅为当前协作智能体的瓶颈问题提供了新的解释视角，也开辟了未来研究的广阔新领域。本节不局限于零散地提出问题，而是从MaaS的核心设计原则出发，系统性地提出三个逐步递进的研究方向：**记忆的公共与私有维度的双重处理**，以及由此产生的**“涌现生态系统”**。

---

### 5.1 公共维度带来的挑战：治理与协议（Challenges Arising from Public-Side: Governance and Protocols）

MaaS的核心理念是为原本私有的记忆建立**公共服务通道**。然而，任何公共流通都必须以“流通规则”为基础，这直接引出了**治理机制与协议设计**的深入研究需求。

- **首个重点研究方向**是设计一种**具备足够表达能力的权限语言与控制系统**。该系统需具备**动态性与多维性**，能够根据请求者身份、服务上下文、意图、时间限制等多因素进行**细粒度、实时授权**。
- **第二个核心挑战**是构建**开放、标准化的互操作协议**，以确保不同来源的智能体之间可以理解并协作。这不仅涉及数据格式的统一，还必须包括服务发现、注册、信任协商和交换语义等内容。类比于互联网中的**HTTP/HTML标准**，MaaS需要类似的**基础标准**来支撑其生态发展。
- 虽然现有的**MCP和Agent2Agent协议**已初具雏形，但它们主要关注**AI智能体之间的交互**。而就**记忆的公共维度**而言，**跨实体（尤其是人类之间）的记忆共享协议**是实现MaaS的关键。

---

### 5.2 私有维度带来的挑战：安全与信任（Challenges Arising from Privacy-Side: Security and Trust）

MaaS的基石在于**保护每个记忆模块作为私有资产的主权**。在开放的服务网络中，保护这些资产并建立信任，构成了**第二核心挑战**。

- **首要问题**是确保资产的**完整性与来源可追溯性**。开放网络面临如“记忆污染”或“虚假记忆注入”等攻击，更深层次的问题是，外部记忆可能携带**隐性偏见或错误**。因此，研究如何建立**验证机制**，确保记忆的来源可信、内容完整、可审计，是关键技术路径之一。
- **第二个挑战**是实现**隐私保护下的协作**。在服务交换过程中，多方常需在**不完全暴露私有记忆**的前提下进行协同计算以达成共识。这就催生了新的**隐私计算应用场景**。例如，将**个性化联邦学习**（Personalized Federated Learning）等概念迁移到记忆场景中，探索如何在“可用不可见”的原则下实现高效协作，是平衡隐私与价值的关键方向。

---

### 5.3 交互涌现带来的挑战：生态系统与伦理（Challenges from Interaction Emergence: Ecosystem and Ethics）

当MaaS系统广泛部署后，**大量智能体之间的交互**将不可避免地催生新的**社会经济结构**，并引发**深刻的伦理挑战**。

- **从生态系统建设角度看**，当高质量记忆模块被视为**有价值的数字资产**，自然会形成一个“**记忆市场**”，这已被其他研究预见到。这将引发一系列基础经济学问题，例如：记忆作为一种主观经验的无形资产，该如何**定价与估值**？其**知识产权该如何界定与保护**？研究基于**可编程合约**的订阅模式、按调用付费或贡献分红等经济模型，是构建健康生态的基础。
- **从伦理角度看**，MaaS的能力将触及最复杂的伦理领域。例如，“**数字遗产（digital legacy）**”引发的问题：已故人士是否有权定义其数字形象的行为边界？另外，“**群体记忆共建**”可能导致**集体偏见被固化和放大**。因此，设计能够**检测、标记并缓解偏见**的算法与治理机制，以及制定适用于**新型人机交互**（如与数字遗产的互动）的**伦理规范与法律框架**，将是至关重要的挑战。这需要**计算机科学、社会学、法律与伦理学**等多学科的共同参与。

---

### 总结

本节围绕MaaS的开放研究议程，系统性地提出了三个研究方向：

1. **公共维度下的治理与协议**：确保记忆共享的规则与互操作性；
2. **私有维度下的安全与信任**：保障记忆资产的完整性与隐私保护；
3. **交互涌现下的生态系统与伦理**：应对社会经济和伦理挑战。

这些方向不仅是MaaS实现的必要条件，也标志着其从技术范式向**复杂社会技术系统**演进的关键路径。


## 6 Conclusion: A Timely Perspective



随着人工智能在协作网络中的广泛应用，其记忆设计正在从孤立的本地状态向更加动态和互联的形式演变。本文分析了当前主流范式——将记忆视为“绑定状态”——在支持大规模协作智能方面的局限性。为了解决这一问题，本文提出了“记忆即服务”（Memory as a Service，简称 MaaS）的设计视角。MaaS 并非一个全新的发明，而是对现有探索的系统化与理论提升。其核心主张是将记忆重构为模块化服务，这些服务可以被独立调用、组合和管理。

本文详细阐述了 MaaS 的核心原则，即通过“双架构设计”，赋予原本私有的记忆“按需、可控的公共服务能力”。通过构建一个二维设计空间，本文展示了该框架如何容纳并扩展现有的记忆实践，以支持从单一实体内部到群体层面的多层次协作场景。此外，本文还提出了一个涵盖治理、安全和伦理的研究议程，明确了实现 MaaS 所需解决的关键科学与工程问题。

最后，本文指出，从“绑定记忆”向“记忆即服务”的范式转变，代表了协作智能未来发展的重要方向。本文提出的 MaaS 框架为这一演进提供了概念基础和分析工具。尽管该框架仍处于初步概念阶段，但其所揭示的研究问题对构建更加开放、高效和可信的协作智能生态系统具有重要意义，值得学术界与工业界深入探索。
