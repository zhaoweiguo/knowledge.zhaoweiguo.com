MQTT协议
============


* MQTT是一个轻量的发布订阅模式消息传输协议，专门针对低带宽和不稳定网络环境的物联网应用设计。
* MQTT官网: http://mqtt.org
* MQTT V3.1.1协议规范: http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html

特点::

    1. 开放消息协议,简单易实现
    2. 发布订阅模式,一对多消息发布
    3. 基于TCP/IP网络连接
    4. 1字节固定报头,2字节心跳报文,报文结构紧凑
    5. 消息QoS支持,可靠传输保证

MQTT协议广泛应用于物联网、移动互联网、智能硬件、车联网、电力能源等领域::

    1. 物联网M2M通信,物联网大数据采集
    2. Android消息推送,WEB消息推送
    3. 移动即时消息,例如Facebook Messenger
    4. 智能硬件、智能家具、智能电器
    5. 车联网通信,电动车站桩采集
    6. 智慧城市、远程医疗、远程教育
    7. 电力、石油与能源等行业市场

主题(Topic)通过’/’分割层级，支持’+’, ‘#’通配符::

  '+': 表示通配一个层级，例如a/+，匹配a/x, a/y
  '#': 表示通配多个层级，例如a/#，匹配a/x, a/b/c/d


MQTT与XMPP协议对比::

    MQTT协议设计简单轻量、路由灵活，将在移动互联网物联网消息领域，全面取代PC时代的XMPP协议:

    1. MQTT协议一个字节固定报头，两个字节心跳报文，报文体积小编解码容易。XMPP协议基于繁重的XML，报文体积大且交互繁琐
    2. MQTT协议基于主题(Topic)发布订阅模式消息路由，相比XMPP基于JID的点对点消息路由更为灵活
    3. MQTT协议未定义报文内容格式，可以承载JSON、二进制等不同类型报文。XMPP协议采用XML承载报文，二进制必须Base64编码等处理
    4. MQTT协议支持消息收发确认和QoS保证，XMPP主协议并未定义类似机制。MQTT协议有更好的消息可靠性保证














