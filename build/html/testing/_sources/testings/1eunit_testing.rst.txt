单元测试
#############

.. note:: 写单元测试的时候，测试对象是函数定义的功能，而非具体的实现逻辑。单元测试用例如何写，关键看你如何定义函数。



单元测试(Unit testing)::

    根据规范测试程序单元的行为（本身）。
    当程序稍后由于某种原因被修改时，单元测试具有作为回归测试的重要功能，因为它们检查程序是否仍按照规范行事


单元测试的意义::

    1. 减少程序修改的风险
      每次程序修改都有可能引入新bug,运行单元测试可以很容易的知道代码是否还正常工作
    2. 有助于指导和帮助开发过程
      专注于通过测试，而不过度/过早优化中迷失方向
    3. 有助于将接口和实现分离
      便于抽象出更清晰的设计
    4. 使组件集成更容易
      通过自下而上的测试，从最小的单元开始，确保程序按规范运行
      多个确定的小单元组成的大单元也会按规范运行
    5. 单元测试就是文档
      显示正确和错误示例以及期望的返回


对一些有外部依赖的特定代码进行单元测试时，则需要由模拟服务器 (mockserver)来隔离依赖关系，即对于给定的输入，模拟服务器可以生成预期的输出结果。只讨论了如何在隔离情况下来单独测试小块代码，前提条件是其他代码单元都能很好地工作。




