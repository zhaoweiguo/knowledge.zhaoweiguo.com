

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>


<!-- start added 2025-04-14   增加对markdown中公式的支持 -->
<script>
window.MathJax = {
    tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true
    },
    options: {
        ignoreHtmlClass: "tex2jax_ignore|mathjax_ignore",
        processHtmlClass: "tex2jax_process|mathjax_process|math|output_area"
    }
};
</script>
<script defer="defer" src="https://fastly.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<!-- end added 2025-04-14   增加对markdown中公式的支持 -->


  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>云原生应用的12要素 &mdash; 新溪-gordon V2025.07 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" />
    <link rel="next" title="从分布式架构到云原生架构" href="distribute_architecture.html" />
    <link rel="prev" title="收集2" href="collect2.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>
  <script src="../../../_static/js/jquery.min.js"></script>


<!-- 评论插件 gittalk start -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> -->
<!-- 评论插件 gittalk end -->


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> 新溪-gordon
          

          
          </a>

          
            
            
              <div class="version">
                V2025.07
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">关键知识</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../010architecture.html">010架构设计</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../normal.html">常用</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../normals/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../normals/%E4%BA%92%E8%81%94%E7%BD%91%E4%B8%9A%E5%8A%A1.html">互联网业务</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../normals/tmp.html">临时</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../normals/other.html">其他架构设计</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/cqrs.html">CQRS </a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/crud.html">CRUD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/ddd.html">领域驱动设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/api.html">api设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/SSO.html">单点登录</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/event_driver.html">事件驱动架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/network_agent.html">网络代理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/message_bus.html">消息总线</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/mvc_mvp_mvvm.html">MVC MVP MVVM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../normals/others/other.html">其他</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../history.html">架构的历史</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01origin_distributed_sys.html">原始分布式时代</a></li>
<li class="toctree-l3"><a class="reference internal" href="../02monolithic_sys.html">单体系统时代</a></li>
<li class="toctree-l3"><a class="reference internal" href="../03soa_sys.html">SOA架构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../04microService.html">微服务架构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../04microServices/normal.html">常用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04microServices/9feature.html">微服务的九个核心的业务与技术特征</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04microServices/ServiceMesh.html">ServiceMesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04microServices/collect.html">微服务架构</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="../05cloudnative.html">云原生时代——后微服务时代</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="collect1.html">云原生</a></li>
<li class="toctree-l4"><a class="reference internal" href="collect2.html">收集2</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">云原生应用的12要素</a></li>
<li class="toctree-l4"><a class="reference internal" href="distribute_architecture.html">从分布式架构到云原生架构</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../06serverless.html">无服务时代</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../06serverless/collect1.html">Serverless</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture_design.html">软件架构设计</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_designs/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_designs/history_design.html">架构设计的历史</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_designs/purpose.html">架构设计目的</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/purposes/1performance.html">复杂度来源-高性能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/purposes/2availability.html">复杂度来源-高可用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/purposes/3expandability.html">复杂度来源-可扩展性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/purposes/4lowcost.html">复杂度来源-低成本</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/purposes/5security.html">复杂度来源-安全</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/purposes/6scalability.html">复杂度来源-规模</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/purposes/7other.html">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_designs/principle.html">架构设计原则</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_designs/process.html">架构设计流程</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/process/1recognize.html">识别复杂度</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/process/2alternative.html">设计备选方案</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/process/3assess.html">评估&amp;选择备选方案</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_designs/process/4detailed.html">详细方案设计</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture_pattern.html">架构模式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_patterns/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_patterns/performance.html">高性能架构模式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/normal.html">常用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/1read-write-seperate.html">读写分离</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/2split-db-table.html">分库分表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/3NoSQL.html">高性能 NoSQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/4cache.html">高性能缓存架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/5PPC-TPC.html">单服务器高性能模式: PPC&amp;TPC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/6Reactor-Proactor.html">单服务器高性能模式: Reactor&amp;Proactor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/performances/7slb.html">高性能负载均衡: 分类&amp;架构&amp;算法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_patterns/availability.html">高可用架构模式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/availabilitys/normal.html">常用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/availabilitys/1CAP.html">CAP理论</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/availabilitys/2FMEA.html">FMEA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/availabilitys/3storage.html">存储高可用架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/availabilitys/4computing.html">计算高可用架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/availabilitys/5different-live.html">异地多活</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/availabilitys/6api-failure.html">接口级故障&amp;应对</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture_patterns/expandability.html">可扩展架构模式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/expandabilitys/normal.html">常用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/expandabilitys/1basic-ideas-and-pattern.html">可扩展架构的基本思想和模式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/expandabilitys/2hierarchical.html">传统可扩展架构-分层架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/expandabilitys/3soa.html">传统可扩展架构-SOA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/expandabilitys/4microservice.html">微服务架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architecture_patterns/expandabilitys/5microkernel.html">微内核架构</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../communication_pattern.html">通信模式communication patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../communication_patterns/normal.html">通用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../communication_patterns/SAP.html">SAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../communication_patterns/theory.html">理论</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../evolution.html">架构演进/重构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../evolutions/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evolutions/be-microservice.html">对现有系统做微服务化改造</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evolutions/evolution-graph.html">演进架构图</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../graph.html">架构图</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../graphs/normal.html">常用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../graphs/normals/normal.html">常用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../graphs/normals/color.html">颜色</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../graphs/normals/other.html">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../graphs/business.html">业务架构图</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../graphs/c4-model.html">软件架构——C4模型</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../graphs/%E6%9E%B6%E6%9E%84%E5%9B%BE%E6%8A%80%E5%B7%A7.html">架构图技巧</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../EA.html">EA企业级架构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../EAs/TOGAF.html">TOGAF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../EAs/Zachman.html">Zachman扎克曼框架</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../011distributed.html">011分布式系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../011distributeds/normal.html">常用</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/normals/normal.html">分布式系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/normals/concept.html">并发</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/normals/tmp.html">临时</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../011distributeds/theory.html">并发相关理论</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/CAP.html">并发相关-CAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/PACELC.html">PACELC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/FLP.html">并发相关-FLP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/DLS.html">DLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/CSP.html">并发模型-CSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/CAS.html">CAS 机制</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/Actor.html">并发模型-Actor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/Gossip.html">Gossip协议</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/BASE.html">BASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/ACID.html">ACID原则</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/UUID.html">UUID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/theorys/consistent_hash.html">一致性hash</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../011distributeds/transaction.html">事务</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/transactions/normal.html">通用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/transactions/local.html">本地事务</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/transactions/global.html">全局事务(Global Transactions)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/transactions/share.html">共享事务(Share Transactions)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/transactions/distribute.html">分布式事务</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../011distributeds/transactions/distributes/reliable_event_queue.html">可靠事件队列</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../011distributeds/transactions/distributes/SAGA.html">SAGA 事务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../011distributeds/transactions/distributes/TCC.html">TCC 事务</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../011distributeds/consensus.html">分布式共识</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/consensus/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/consensus/Paxos.html">Paxos算法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/consensus/zab.html">zab协议</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../011distributeds/consensus/Raft.html">The Raft Consensus Algorithm </a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../012SoftEngineering.html">012软件工程</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../012SoftEngineerings/normal.html">常用</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/normals/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/normals/methodology.html">编程方法论</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/normals/code-quality.html">代码质量</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/normals/complexity.html">复杂度</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../012SoftEngineerings/Programming-Spec.html">编程规范</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../012SoftEngineerings/Refactor.html">重构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/normal.html">通用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/5W2H.html">5W2H 分析法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/approach-unit.html">重构手段-单元测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/approach-unit.html#id3">定义</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/approach-unit.html#id4">作用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/approach-unit.html#id5">如何编写单元测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/approach-unit.html#id6">为何难落地执行</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/approach-unit.html#anti-patterns">影响可测试性的 Anti-Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/approach-decoupling.html">重构手段-解耦</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../012SoftEngineerings/Refactors/code-standard.html">改善代码质量的编程规范</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../012SoftEngineerings/document.html">设计文档</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../021microservice.html">021微服务架构</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../021microservices/normal.html">常用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../021microservices/discovery.html">服务注册&amp;发现</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../021microservices/api_gateway.html">API网关</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../021microservices/contract.html">对比</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../021microservices/tmp.html">临时</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../022middle-platform.html">022中台</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../031dataanalysis.html">031数据分析</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../031dataanalysis/normal.html">常用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../031dataanalysis/data.html">数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../031dataanalysis/tmp.html">临时</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../041governance.html">041服务治理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../041governances/normal.html">常用</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../041governances/normals/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../041governances/normals/technical-debt.html">技术债</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../041governances/normals/anti-fragile.html">反脆弱</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../041governances/normals/code-review.html">Code Review</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../041governances/service_protection.html">服务保护</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../051compiler.html">051编译原理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/normal.html">常用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/tool.html">工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80.html">汇编语言</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90.html">词法分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90.html">词法分析, 语法分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90.html">语义分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/LLVM.html">LLVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/IR.html">编译期后端技术</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../051compilers/other.html">其他</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../052composition-principle.html">052 计算机组成原理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../052composition-principles/CPU%20%E5%8E%82%E5%95%86.html">CPU 厂商</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../052composition-principles/CPU%20Arch.html">CPU 架构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../052composition-principles/Arm.html">Arm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../052composition-principles/X86.html">X86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../052composition-principles/API.html">API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../053os.html">053操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../053os/normal.html">常用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../053os/signal.html">signal信号</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../053os/other.html">其他</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../054algorithm.html">054算法</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/normal.html">常用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/algorithm.html">经典算法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/algorithms/normal.html">常用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/algorithms/nlp.html">NLP相关算法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/algorithms/encrypt.html">加密相关算法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/tree.html">树结构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/trees/b-tree.html">b-树</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/trees/b%2Btree.html">b+树</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/trees/lsm_tree.html">LSM树</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/trees/balanced_binary_tree.html">平衡二叉树</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/trees/red_black_tree.html">红黑树</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/trees/trie-tree.html">Trie 树</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../054algorithms/trees/merkle-tree.html">Merkle 树</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/example.html">实例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/website.html">网站</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/iq.html">智力题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/graph_theory.html">图论</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../054algorithms/other.html">其他算法</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">新溪-gordon</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../010architecture.html">010架构设计</a> &raquo;</li>
        
          <li><a href="../../history.html">架构的历史</a> &raquo;</li>
        
          <li><a href="../05cloudnative.html">云原生时代——后微服务时代</a> &raquo;</li>
        
      <li>云原生应用的12要素</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/010architectures/historys/05cloudnatives/12Factor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            <nav id="local-table-of-contents" role="navigation" aria-labelledby="local-table-of-contents-title">
              <h4 id="local-table-of-contents-title">On This Page</h4>
              <ul>
<li><a class="reference internal" href="#">云原生应用的12要素</a><ul>
<li><a class="reference internal" href="#codebase">1.基准代码(CodeBase)</a></li>
<li><a class="reference internal" href="#dependencies">2.依赖(Dependencies)</a></li>
<li><a class="reference internal" href="#config">3.配置(Config)</a></li>
<li><a class="reference internal" href="#backing-services">4.后端服务(Backing Services)</a></li>
<li><a class="reference internal" href="#build-release-run">5.构建/发布/运行(Build/Release/Run)</a></li>
<li><a class="reference internal" href="#processes">6.进程(Processes)</a></li>
<li><a class="reference internal" href="#port-binding">7.端口绑定(Port Binding)</a></li>
<li><a class="reference internal" href="#concurrency">8.并发(Concurrency)</a></li>
<li><a class="reference internal" href="#disposability">9.易处理(Disposability)</a></li>
<li><a class="reference internal" href="#dev-prod-parity">10.开发与线上环境等价(Dev/Prod parity)</a></li>
<li><a class="reference internal" href="#logs">11.日志(Logs)</a></li>
<li><a class="reference internal" href="#admin-processes">12.管理进程(Admin Processes)</a></li>
<li><a class="reference internal" href="#id3">参考</a></li>
</ul>
</li>
</ul>

            </nav>
  <table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="/index.html">主页</a></p></td>
<td><p><a class="reference internal" href="../../../genindex.html"><span class="std std-ref">索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../py-modindex.html"><span class="std std-ref">模块索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../search.html"><span class="std std-ref">搜索页面</span></a></p></td>
</tr>
</tbody>
</table>
<section id="id2">
<h1>云原生应用的12要素<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h1>
<p>方法论:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. 标准化流程自动配置
 使新的开发者花费最少的学习成本加入
2. 操作系统间划清界限
 在各个系统中提供最大的可移植性
3. 适合部署在现代的云平台
 为在服务器和系统管理方面节省资源
4. 降低开发环境和生产环境的差异
 使用持续交付
 实施敏捷开发
5. 实现扩展
 在工具、架构和开发流程不发生明显变化的前提下
6. 语言无关性
 这套理论适用于任意语言和后端服务开发的app
</pre></div>
</div>
<p>灵感:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>作者: Martin Fowler
Patterns of Enterprise Application Architecture， Refactoring
</pre></div>
</div>
<section id="codebase">
<h2>1.基准代码(CodeBase)<a class="headerlink" href="#codebase" title="此标题的永久链接">¶</a></h2>
<ul>
<li><p>一份基准代码（Codebase），多份部署（deploy）</p></li>
<li><p>一旦有多个基准代码，就不能称为一个应用，而是一个分布式系统:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">分布式系统中的每一个组件都是一个应用</span>
<span class="n">每一个应用可以分别使用</span> <span class="mi">12</span><span class="o">-</span><span class="n">Factor</span> <span class="n">进行开发</span>
</pre></div>
</div>
</li>
<li><p>多个应用共享一份基准代码是有悖于 12-Factor 原则的:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">解决方案是将共享的代码拆分为独立的类库</span>
<span class="n">然后使用</span> <span class="n">依赖管理</span> <span class="n">策略去加载它们</span>
</pre></div>
</div>
</li>
<li><p>每个应用可同时存在多份部署:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>每份 `部署` 相当于运行了一个应用的实例
通常有多个环境: dev, deploy, local...
每个环境可能有多份部署
不同环境间可使用不同版本但都共享同一基准代码
</pre></div>
</div>
</li>
</ul>
</section>
<section id="dependencies">
<h2>2.依赖(Dependencies)<a class="headerlink" href="#dependencies" title="此标题的永久链接">¶</a></h2>
<p>显式声明依赖关系:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">不会隐式依赖某些系统工具</span>
<span class="n">即使这些工具存在于几乎所有系统</span><span class="p">:</span> <span class="n">如curl</span>
</pre></div>
</div>
<p>依赖管理工具:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Java
 Maven
 Gradle
 Ant(早期)
Ruby
 使用 Gemfile 作为依赖项声明清单
 使用 bundle exec 来进行依赖隔离
Python
 Pip 用作依赖声明
 Virtualenv 用作依赖隔离
C
 Autoconf 用作依赖声明
 静态链接库用作依赖隔离
注意
 无论用什么工具，依赖声明和依赖隔离必须一起使用
 否则无法满足 12-Factor 规范
</pre></div>
</div>
<p>显式声明依赖的优点:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">为新进开发者简化了环境配置流程</span>
<span class="n">通过一个</span> <span class="n">构建命令</span> <span class="n">安装所有的依赖项</span>
</pre></div>
</div>
</section>
<section id="config">
<h2>3.配置(Config)<a class="headerlink" href="#config" title="此标题的永久链接">¶</a></h2>
<p>环境变量与配置文件相比:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">环境变量与语言和系统无关</span>
<span class="n">使用环境变量方便与</span> <span class="n">Docker</span> <span class="n">等基于容器的应用配合使用</span>
<span class="n">也易于与</span> <span class="n">Kubernetes</span> <span class="n">的</span> <span class="n">ConfigMap</span> <span class="n">配合使用</span>
<span class="n">属性文件仍然可能会被不小心地提交至源码仓库</span>
</pre></div>
</div>
<p>在环境中存储配置:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>代码和配置严格分离
配置文件在各部署间存在大幅差异，代码却完全一致
标准: 基准代码立刻开源，而不用担心会暴露任何敏感的信息
推荐: 将应用的配置存储于 环境变量 中（ env vars, env ）
</pre></div>
</div>
<p>「配置」在不同部署环境会有很大差异:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>这其中包括
数据库，Memcached，以及其他 后端服务 的配置
第三方服务的证书，如 Amazon S3、Twitter 等
每份部署特有的配置，如域名等
</pre></div>
</div>
<p>不赞同用配置分组的方式管理配置:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>应用将配置按照特定部署进行分组（或叫做“环境”）
如: development,test, 和 production 环境
不利于扩展且将导致各种配置组合的激增

要求:
 环境变量的粒度要足够小，且相对独立
 不会组合成一个所谓的“环境”
 而是独立存在于每个部署之中
 在扩展需要更多种类的部署时，能够做到平滑过渡
</pre></div>
</div>
<p>不包括应用程序的内部配置:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Spring</span> <span class="n">容器中</span> <span class="n">Bean</span> <span class="n">的依赖注入配置</span>
<span class="n">Servlet</span> <span class="n">的映射配置文件</span> <span class="n">web</span><span class="o">.</span><span class="n">xml</span> <span class="n">等</span>
<span class="n">它们更应该被认为是代码的一部分</span>
</pre></div>
</div>
</section>
<section id="backing-services">
<h2>4.后端服务(Backing Services)<a class="headerlink" href="#backing-services" title="此标题的永久链接">¶</a></h2>
<p>把后端服务(backing services)当作附加资源:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>后端服务是指程序运行所需要的通过网络调用的各种服务
如数据库、消息/队列等
</pre></div>
</div>
<p>不区别对待本地或第三方服务:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>对应用程序而言，两种都是附加资源
通过一个 url 或是其他来获取数据
</pre></div>
</div>
<p>这些资源和它们附属的部署保持松耦合:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">部署可以按需加载或卸载资源</span>
</pre></div>
</div>
</section>
<section id="build-release-run">
<h2>5.构建/发布/运行(Build/Release/Run)<a class="headerlink" href="#build-release-run" title="此标题的永久链接">¶</a></h2>
<p>严格分离构建和运行:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>严格区分构建，发布，运行这三个步骤
根本在于，要严格区分应用的非运行时状态和运行时状态
构建是将应用的源代码编译打包成可执行软件的过程，属于非运行时行为
</pre></div>
</div>
<p><cite>基准代码</cite> 转化为一份部署:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>构建阶段:
 将代码仓库转化为可执行包的过程
 构建时会使用指定版本的代码
发布阶段:
 将构建的结果和当前部署所需 `配置` 相结合
 并能够立刻在运行环境中投入使用
运行阶段:
 针对选定的发布版本，在执行环境中启动一系列应用程序进程
</pre></div>
</div>
<p>建议:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>运行阶段:
 不一定需要人为触发，也可以自动进行
 运行阶段应该保持尽可能少的模块
构建阶段:
 需要开发人员触发构建操作
 是可以相对复杂一些的
 因为错误信息能够立刻展示在开发人员面前
 从而得到妥善处理
</pre></div>
</div>
<p>规定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>禁止在运行阶段改动代码
 这样做会导致基准代码失去同步
建议每个发布版本对应一个唯一的发布 ID
 发布版本只能追加而不能修改
 除了回滚，其他变动都应该产生新的发布版本
</pre></div>
</div>
</section>
<section id="processes">
<h2>6.进程(Processes)<a class="headerlink" href="#processes" title="此标题的永久链接">¶</a></h2>
<p>以一个或多个无状态进程运行应用:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>应用的进程必须无状态且无共享
任何需要持久化的数据都要存储在后端服务内
这样才能做到水平伸缩，从而利用云平台弹性伸缩的能力
</pre></div>
</div>
<p>粘性 session 是 12-Factor 极力反对的:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">粘性</span> <span class="n">session是指将用户</span> <span class="n">session</span> <span class="n">中的数据缓存至某进程的内存中</span>
<span class="n">并将同一用户的后续请求路由到同一个进程</span>
<span class="n">Session</span> <span class="n">的数据应存在带有过期时间的缓存中</span>
</pre></div>
</div>
</section>
<section id="port-binding">
<h2>7.端口绑定(Port Binding)<a class="headerlink" href="#port-binding" title="此标题的永久链接">¶</a></h2>
<p>通过端口绑定(Port binding)来提供服务:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">对于发布服务的环境不应该有过多的要求</span>
<span class="n">不需要依赖云平台提供应用运行容器</span>
<span class="n">只要云平台分配某个端口对外发布服务即可</span>
</pre></div>
</div>
<p>实现思路:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">将网络服务器类库通过</span> <span class="n">依赖声明</span> <span class="n">载入应用</span>
<span class="n">调用方将服务方提供的相应</span> <span class="n">URL</span> <span class="n">当作资源存入</span> <span class="n">配置</span> <span class="n">以备将来调用</span>

<span class="n">说明</span>
 <span class="n">通过端口绑定访问服务也意味着任何应用都可以成为另一个应用的后端服务</span>
</pre></div>
</div>
</section>
<section id="concurrency">
<h2>8.并发(Concurrency)<a class="headerlink" href="#concurrency" title="此标题的永久链接">¶</a></h2>
<ul>
<li><p>能够通过水平伸缩应用程序进程来实现并发</p></li>
<li><p>通过进程模型进行扩展:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>在 12-factor 应用中，进程是一等公民
主要借鉴于 unix 守护进程模型
12-Factor 应用的进程所具备的无共享，水平分区的特性 意味着添加并发会变得简单而稳妥
</pre></div>
</div>
</li>
</ul>
<p>12-Factor的进程无需守护进程或是写入 PID 文件:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>相反的，应该借助操作系统的进程管理器来管理输出流
响应崩溃的进程，及处理用户触发的重启和关闭超级进程的请求
</pre></div>
</div>
</section>
<section id="disposability">
<h2>9.易处理(Disposability)<a class="headerlink" href="#disposability" title="此标题的永久链接">¶</a></h2>
<p>12-Factor 应用可快速启动和优雅终止:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>可最大化健壮性
进程是易处理（disposable）的
 意思是说它们可以瞬间开启或停止
 有利于快速、弹性的伸缩应用
 迅速部署变化的代码或配置，稳健的部署应用
应设计能应对意外、不优雅的终结
 Crash-only design
 将这种概念转化为合乎逻辑的理论
</pre></div>
</div>
<p>进程应当追求「最小启动时间」:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">更少的启动时间提供了更敏捷的发布以及扩展过程</span>
<span class="n">还增加了健壮性</span>
 <span class="n">因为进程管理器可以在授权情形下很容易的将进程搬到新的物理机器上</span>
</pre></div>
</div>
<p>进程接收终止信号就优雅的终止:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>终止信号:SIGTERM

1. 对网络进程
 优雅终止是指停止监听服务的端口, 即拒绝所有新请求, 并继续执行当前已接收的请求，然后退出

 隐含的要求:
    * HTTP请求大多都很短(不会超过几秒钟)
    * 在长轮询中，客户端在丢失连接后应该马上尝试重连

2. 对于 worker 进程
 优雅终止是指将当前任务退回队列，如:
  2.1 RabbitMQ: worker 可以发送一个NACK信号
  2.2 Beanstalkd: 任务终止并退回队列会在worker断开时自动触发

 锁机制的系统诸如:Delayed Job: 需要确定释放了系统资源

 隐含的要求:
    * 任务都应可重复执行
    * 主要由将结果包装进事务
    * 或是使重复操作「幂等」来实现
</pre></div>
</div>
<p>进程应在面对突然死亡时保持健壮:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>如底层硬件故障
 情况比起优雅终止出现要少
 但还是可能出现
推荐的方式
 使用一个健壮的后端队列，例如 Beanstalkd
 在客户端断开或超时后自动退回任务
</pre></div>
</div>
</section>
<section id="dev-prod-parity">
<h2>10.开发与线上环境等价(Dev/Prod parity)<a class="headerlink" href="#dev-prod-parity" title="此标题的永久链接">¶</a></h2>
<p>尽可能的保持开发与线上环境相同:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>开发环境和线上环境3个主差异:
1. 时间差异
 开发人员正在编写的代码可能需要几天，几周，甚至几个月才会上线
2. 人员差异
 开发环境:开发人员编写代码并调试
 线上环境:运维人员部署代码
 不同的操作方式可能带来环境的差异
3. 工具差异
 开发人员或许使用 Nginx，SQLite，OS X
 而线上环境使用 Apache，MySQL 以及 Linux
</pre></div>
</div>
<p>要做到「持续部署」:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>就必须缩小本地与线上差异
1. 缩小时间差异
 开发人员可以几小时，甚至几分钟就部署代码
2. 缩小人员差异
 开发人员不只要编写代码
 更应该密切参与部署过程以及代码在线上的表现
3. 缩小工具差异
 尽量保证开发环境以及线上环境的一致性
</pre></div>
</div>
<p>反对在不同环境使用不同的后端服务:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>即使适配器已经可以几乎消除使用上的差异
不同的后端服务意味着会突然出现的不兼容
 导致测试正常的代码在线上出现问题
这些错误会给持续部署带来阻力
 从应用程序的生命周期来看
 消除这种阻力需要花费很大的代价

注:
不同后端服务的适配器仍有用。如: 可使服务移植变得简单。
但部署这其中包括开发以及线上环境应该用同一个后端服务的相同版本
</pre></div>
</div>
</section>
<section id="logs">
<h2>11.日志(Logs)<a class="headerlink" href="#logs" title="此标题的永久链接">¶</a></h2>
<p>把日志当作事件流:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>日志应该是「事件流」的汇总
将所有进程输出流按照时间顺序收集起来
</pre></div>
</div>
<p>本身从不考虑存储自己的输出流:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>不应该试图去写或者管理日志文件
相反，每一运行的进程都会直接标准输出（stdout）事件流
 开发人员可通过这些数据流，实时在终端看到应用的活动

线上部署
 输出流由运行环境截获然后处理，用于查看或存档
 这些存档路径对于应用来说不可见也不可配置
 是完全交给程序的运行环境管理
 类似 Logplex 和 Fluent 的开源工具可实现

最重要的
 输出流可以发送到 Splunk 这样的日志索引及分析系统
 或 Hadoop/Hive 这样的通用数据存储系统
 这些系统为查看应用的历史活动提供了强大而灵活的功能
</pre></div>
</div>
</section>
<section id="admin-processes">
<h2>12.管理进程(Admin Processes)<a class="headerlink" href="#admin-processes" title="此标题的永久链接">¶</a></h2>
<p>进程构成（process formation）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">指处理应用的常规业务</span><span class="p">(</span><span class="n">如处理</span> <span class="n">web</span> <span class="n">请求</span><span class="p">)</span><span class="n">的一组进程</span>
</pre></div>
</div>
<p>把后台管理任务当作一次性进程运行:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>开发人员常希望执行一些管理或维护应用的一次性任务
 运行一个控制台(REPL shell)
 运行一些提交到代码仓库的一次性脚本
这类任务被称为后台管理任务
如检查和清理环境、迁移数据等
</pre></div>
</div>
<p>一次性管理进程应该和正常的 <cite>常驻进程</cite> 使用同样的环境:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>这些管理进程和常驻进程使用相同的 代码 和 配置
基于某个 发布版本 运行
后台管理代码应随常驻app代码一起发布，避免同步问题
所有进程类型应该使用同样的 依赖隔离 技术
</pre></div>
</div>
<p>12-factor 青睐提供了 REPL shell 的语言:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">那会让运行一次性脚本变得简单</span>
<span class="n">在本地部署中</span>
 <span class="n">开发人员直接在命令行使用</span> <span class="n">shell</span> <span class="n">命令调用一次性管理进程</span>
<span class="n">在线上部署中</span>
 <span class="n">开发人员依旧可以使用ssh等来运行这样的进程</span>
</pre></div>
</div>
</section>
<section id="id3">
<h2>参考<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.tencent.com/developer/article/1034398">https://cloud.tencent.com/developer/article/1034398</a></p></li>
<li><p><a class="reference external" href="https://www.infoq.cn/article/xpFP8uclTKJQhhFqDyjZ">https://www.infoq.cn/article/xpFP8uclTKJQhhFqDyjZ</a></p></li>
<li><p><a class="reference external" href="https://www.12factor.net/">https://www.12factor.net/</a></p></li>
</ul>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="/index.html">主页</a></p></td>
<td><p><a class="reference internal" href="../../../genindex.html"><span class="std std-ref">索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../py-modindex.html"><span class="std std-ref">模块索引</span></a></p></td>
<td><p><a class="reference internal" href="../../../search.html"><span class="std std-ref">搜索页面</span></a></p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="distribute_architecture.html" class="btn btn-neutral float-right" title="从分布式架构到云原生架构" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collect2.html" class="btn btn-neutral" title="收集2" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  <div id="gitalk-container"></div>
  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2025, 新溪-gordon.

    </p>
  </div>
  <div>备案号 <a href="http://www.beian.miit.gov.cn">京ICP备16018553号</a></div><div>Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a></div>. 


</footer>

<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?042289284b8eb33866001347a3e0b129";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>     
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'V2025.07',
            LANGUAGE:'zh-CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/sphinx_highlight.js"></script>
      <script type="text/javascript" src="../../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });


      // var gitalk = new Gitalk({
      //         clientID: '565177626b5d46427009',
      //         clientSecret: 'b2a36e67e1d2a73e43667f46d571c2624f8e1026',
      //         repo: 'knowledge',
      //         owner: 'zhaoweiguo',
      //         admin: ['zhaoweiguo'],
      //         id: location.pathname,      // Ensure uniqueness and length less than 50
      //         distractionFreeMode: false  // Facebook-like distraction free mode
      //       })
      // gitalk.render('gitalk-container')

  </script>


<script type="text/javascript" src="../../../_static/js/table-of-contents-sidebar.js"></script>
<!-- <script type="text/javascript" src="https://table-of-contents-sidebar.github.io/table-of-contents-sidebar-lib/table-of-contents-sidebar.js"></script> -->
<script type="text/javascript">
    window.onload = function(e){
        TableOfContents.init({
            basePath: "https://table-of-contents-sidebar.github.io/table-of-contents-sidebar-lib/",
            querySelector: "body" // or other css querySelector
        });
    }
</script> 

</body>
</html>